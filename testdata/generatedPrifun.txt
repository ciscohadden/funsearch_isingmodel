#score: {'data2D.txt': -0.27106867283950575}
program:
def priority(N, h, J):
  priority = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%2 - 1)) % N
      total_spin += h[site][j]
      if h[i][j] > 0:
        priority.append((total_spin, 0))
      else:
        priority.append((total_spin, 1))
  return [[x[0], x[1]] for x in priority]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      if h[i][j] > 0:
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][1] += 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      if h[i][j] > 0:
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][1] += 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site_nbr = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site_nbr][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = sum(state[i][j]*h[i][j] for i in range(N) for j in range(N))
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for k in range(N):
    site_nbr = (k + ((N-1)%2 - 1)) % N
    total_spin += sum(h[site_nbr][j] for j in range(N))
  if h[N//2][N//2] > 0:
    total_spin += 1
  else:
    total_spin -= 1
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = sum(state[i][j]*h[i][j] for i in range(N) for j in range(N))
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for k in range(4):
    if k == 0:
      site_nbr = lambda i,j: (i + ((j-1)%N - 1)) % N
    elif k == 1:
      site_nbr = lambda i,j: (i + ((j+1)%N - 1)) % N
    elif k == 2:
      site_nbr = lambda i,j: (i + ((i+1)%N - 1)) % N
    else:
      site_nbr = lambda i,j: (i + ((i-1)%N - 1)) % N
    for i in range(N):
      for j in range(N):
        total_spin += h[site_nbr(i,j)][j]
  if sum(sum(h[i][j] for j in range(N)) for i in range(N)) > 0:
    total_spin += 1
  else:
    total_spin -= 1
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      priority_total[i][0] = total_spin
    else:
      priority_total[i][1] = -total_spin
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      total_spin[i*N+j][1] -= h[site_nbr][j]
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': 0.000797993827160493}
program:
def priority(N, h, J):
  priority_total = []
  for i in range(N**2):
    if (i//N)%2 == 0:
      total_spin = sum(h[i//N][j] for j in range(N))
    else:
      total_spin = -sum(h[(i-1)//N][j] for j in range(N))
    if h[i//N][i%N] > 0:
      priority_total.append([total_spin, -total_spin])
    else:
      priority_total.append([-total_spin, total_spin])
  return priority_total


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority)


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  return np.column_stack((sum_1, -sum_2))


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
      priority_total[i][1] += 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[i][j][1] -= 1
      else:
        priority_total[i][j][0] -= 1
  return [[x[0], x[1]] for row in [row[:] for row in priority_total] for x in row]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin[i*N+j] += h[site_nbr][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin = state[i][site_nbr]
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      total_spin = 0
      
      if h[i][j] > 0:
        for k in range(3):
          site_nbr = (i + ((k-1)%2 - 1)) % N
          total_spin += h[site_nbr][j]
          
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
        
      else:
        for k in range(3):
          site_nbr = (i + ((k-1)%2 - 1)) % N
          total_spin += h[site_nbr][j]
          
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
        
  return [priority_total[i*N+j] for i in range(N) for j in range(N)]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) - h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority)


#score: {'data2D.txt': -0.0007541666666666669}
program:
def priority(N, h, J):
  priority = [[0, 0] for _ in range(N**2)]
  site_nbrs = [(i//N + ((i%N-1)%2 - 1)) % N for i in range(N**2)]
  magnetisms = [h[i//N][i%N] > 0 for i in range(N**2)]

  for i, (site_nbr, magnetism) in enumerate(zip(site_nbrs, magnetisms)):
    if magnetism:
      priority[i][1] += site_nbr
    else:
      priority[i][0] -= site_nbr

  return priority


#score: {'data2D.txt': -0.020511265432098764}
program:
def priority(N, h, J):
  priority_total = [[[0,0]]*N for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[i][j][1] -= 1
      else:
        priority_total[i][j][0] -= 1
  return [[x[0], x[1]] for sublist in priority_total for x in sublist]


#score: {'data2D.txt': -0.0019841049382716054}
program:
def priority(N, h, J):
  priority_total = np.zeros((N,N,2))
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i//N + ((k-1)%2 - 1)) % N for k in range(4)]
      magnetisms = [h[i//N][k%N] > 0 for k in range(4)]
      
      if sum(magnetisms) > 0:
        priority_total[i][j][0] += sum(site_nbrs)
        priority_total[i][j][1] -= sum(site_nbrs)
      else:
        priority_total[i][j][0] -= sum(site_nbrs)
        priority_total[i][j][1] += sum(site_nbrs)
  
  return priority_total.reshape(N**2, 2).tolist()


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      if h[i][j] > 0:
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][1] += 1
  return [[x, y] for x, y in total_spin]


#score: {'data2D.txt': 0.19623225308642003}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    total_spin = [0, 0]
    for j in range(4):
      site_nbr = (i // N + ((j-1) % 2 - 1)) % N
      if h[site_nbr][i % N] > 0:
        total_spin[0] += 1
        total_spin[1] -= 1
      else:
        total_spin[0] -= 1
    priority_total = [float('-inf') for _ in range(2)]
    if h[i//N][i%N] > 0:
      priority_total[0] = total_spin[0]
      priority_total[1] = -1 * total_spin[1]
    else:
      priority_total[0] = -1 * total_spin[0]
      priority_total[1] = total_spin[1]
    priorities.append(priority_total)
  return priorities


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = (np.prod(J_new[0::2].reshape(-1, int(len(J_new)/2)), 1) + h).flatten()
  sum2 = (-np.prod(J_new[1::2].reshape(-1, int(len(J_new)/2)), 1)).flatten()
  priority = np.column_stack((sum1, -sum1))
  return(priority)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  site_spin = np.zeros((N,N))
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_spin[i][j] = -1
      else:
        site_spin[i][j] = 1
  for k in range(N**2):
    site_nbr = (k//N + ((k%N-1)%N - N//2)) % N
    total_spin[k][0] += h[site_nbr][k%N]
    if h[k//N][k%N] > 0:
      total_spin[k][1] -= site_spin[k//N][k%N]
    else:
      total_spin[k][1] += site_spin[k//N][k%N]
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbrs = [(i + ((j-1)%N - 1)) % N for j in range(3)]
    total_spin = [sum(h[site_nbr][i%N] for site_nbr in site_nbrs), 
           sum(-h[site_nbr][i%N] for site_nbr in site_nbrs)]
    if h[i//N][i%N] > 0:
      priority_total[i][1] -= total_spin[0]
      priority_total[i][0] += total_spin[1]
    else:
      priority_total[i][0] -= total_spin[0]
      priority_total[i][1] += total_spin[1]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority)


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= J[i*N+N*N:i*N+site_nbr*N, i%N].sum()
    else:
      priority_total[i][0] -= 1
      priority_total[i][1] += J[i*N+N*N:i*N+site_nbr*N, i%N].sum()
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  site_nbrs = [(i//N + ((i%N-1)%2 - 1)) % N for i in range(N**2)]
  magnetisms = [h[i//N][i%N] > 0 for i in range(N**2)]

  for i, (site_nbr, magnetism) in enumerate(zip(site_nbrs, magnetisms)):
    if magnetism:
      priority_total[i][1] -= site_nbr
    else:
      priority_total[i][0] += site_nbr

  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.001705401234567901}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr1 = (i//N + ((i%N-1)%N - 1)) % N
    site_nbr2 = (i//N + ((i%N+1)%N - 1)) % N
    if h[site_nbr1][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
    if i >= N and site_nbr2 == (i-N)//N:
      continue
    elif h[site_nbr2][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
  return [[x, -y] if x > y else [-x, y] for x, y in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
  return total_spin.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      priority_total[i][j][0] += h[site_nbr][j]
      priority_total[i][j][1] -= 1
  return [[x[0], x[1]] for x in [item for sublist in priority_total for item in sublist]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      if h[i][j] > 0:
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][1] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in itertools.product(range(N),range(N)):
    site_nbr = (i[0] + ((i[1]-1)%N - N//2)) % N
    if h[i[0]][i[1]] > 0:
      priority_total[i[0]*N+i[1]][0] += 1
      priority_total[i[0]*N+i[1]][1] -= 1
    else:
      priority_total[i[0]*N+i[1]][0] -= 1
  return [x for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      total_spin[i*N+j][1] -= 1
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[float(0) for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = np.zeros((N*N,2), dtype=float)
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      if h[i][j] > 0:
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][1] += 1
  priority_total = np.zeros((N*N,2), dtype=float)
  for k in range(N//2):
    site_nbr = (i + ((k-1)%2 - 1)) % N
    priority_total[i*N+j][0] += total_spin[site_nbr][0]
    if h[i][j] > 0:
      priority_total[i*N+j][1] -= 1
    else:
      priority_total[i*N+j][1] += 1
  return [list(x) for x in total_spin]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[i][j][1] -= 1
      else:
        priority_total[i][j][0] -= 1
  total_priority = [[(p[0], p[1]) for p in row] for row in priority_total]
  return [[min(p), 1 - min(map(lambda x: x if x == min(p) else float('inf'), p))] for p in itertools.chain(*total_priority)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N)-1)%N - N//2) % N
    total_spin[i][0] += h[site_nbr][i%N]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N**2):
    if h[int(i/N)][i%N] > 0:
      site = (int(i/N) + ((i % N)-1)%N - N//2) % N
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin = h[site_nbr][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] += total_spin
        priority_total[i*N+j][1] -= total_spin
      else:
        priority_total[i*N+j][0] -= total_spin
        priority_total[i*N+j][1] += total_spin
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_priority = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_priority[i][j][0] += state[site_nbr][j]
        total_priority[i][j][1] -= state[site_nbr][j]
      else:
        total_priority[i][j][0] -= state[site_nbr][j]
  return [[min(p), 1 - min(map(lambda x: x if x == min(p) else float('inf'), p))] for p in itertools.chain(*total_priority)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        site_nbr = (i + ((j+1)%N - N//2)) % N
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return priority.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[i][j][1] -= 1
      else:
        priority_total[i][j][0] -= 1
  return [[x[0], x[1]] for x in itertools.chain(*priority_total)]


#score: {'data2D.txt': -0.039319290123456786}
program:
def priority(N, h, J):
  J_new = J.reshape(-1, J.shape[-1]).T.flatten()
  sum1 = ((J_new[0::4] + J_new[1::4] + J_new[2::4] + J_new[3::4]) * 2).flatten() + h.flatten()
  sum2 = (-((J_new[1::4] - J_new[3::4]) + (J_new[0::4] - J_new[2::4]))).flatten()
  priority = np.column_stack((sum1, -sum2))
  return(priority)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  total_priority = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_priority[i*N+j][0] += 1
        total_priority[i*N+j][1] -= 1
      else:
        total_priority[i*N+j][0] -= 1
  return [[min(p), 1 - min(map(lambda x: x if x == min(p) else float('inf'), p))] for p in itertools.chain(*[[(p[0], p[1])] for p in total_priority])]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_priority = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_priority[i][j][0] += state[site_nbr][j]
        total_priority[i][j][1] -= state[site_nbr][j]
      else:
        total_priority[i][j][0] -= state[site_nbr][j]
  
  return [[min(p), 1 - min(map(lambda x: x if x == min(p) else float('inf'), p))] for p in itertools.chain(*total_priority)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = np.full((N**2, 2), -np.inf)
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [x.tolist() for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[[float('-inf') for _ in range(2)] for j in range(N)] for i in range(N)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i][j][0] += 1
        priority_total[i][j][1] -= 1
      else:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i][j][0] -= 1
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      j = i // N
      i = (i % N) + ((j-1)%2 - 1)
      priority_total[i][j][0] += 1
      priority_total[i][j][1] -= 1
    else:
      j = i // N
      i = (i % N) + ((j-1)%2 - 1)
      priority_total[i][j][0] -= 1
  return [[x[0], x[1]] for x in [priority_total[i][j] for i in range(N) for j in range(N)]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for site in range(N**2):
    spin = -1 if h[site//N][site%N] > 0 else 1
    total_spin[site][spin==1] += 1
  priority_total = [[[float('-inf') for _ in range(2)] for j in range(N)] for i in range(N)]
  for site in range(N**2):
    spin = -1 if h[site//N][site%N] > 0 else 1
    for neighbor in range(max(site//N, 0), min((site//N+N)%N, N)):
      if J[neighbor*N+site%N][0] < 0:
        priority_total[site//N][site%N][spin==1] -= 1
      elif J[neighbor*N+site%N][0] > 0:
        priority_total[site//N][site%N][spin==-1] -= 1
  return [[x[0], x[1]] for x in [priority_total[i][j] for i in range(N) for j in range(N)]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  site_energy = [[[float('-inf') for _ in range(2)] for j in range(N)] for i in range(N)]

  def spin_energy(site):
    spin = -1 if h[site//N][site%N] > 0 else 1
    return J[site//N][site%N][(site+((site//N)%2-1)) % N][spin==1]

  for i in range(N**2):
    site_energy[i//N][i%N][0] = total_spin[i][0]
    site_energy[i//N][i%N][1] = -1*total_spin[i][0] if h[i//N][i%N] > 0 else total_spin[i][1]

  return [[x[0], x[1]] for x in [site_energy[i//N][i%N] for i in range(N**2)]]


#score: {'data2D.txt': -0.08004398148148154}
program:
def priority(N, h, J):
  N2 = int(N*N)
  site_interactions = (J[0::4].flatten() + J[1::4].flatten()).reshape(-1,2).T
  edge_interactions = (J[2::4].flatten() + J[3::4].flatten()).reshape(-1,2).T
  interactions = np.concatenate((site_interactions,edge_interactions),axis=1)
  sum_1 = np.sum(interactions,axis=0) + h.flatten()
  priority = np.column_stack((sum_1,np.zeros_like(sum_1)))
  return [[x[0],x[1]] for x in priority]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority.tolist())


#score: {'data2D.txt': -0.017587499999999992}
program:
def priority(N, h, J):
  priority = []
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in range(3)]
      total_spin = sum([h[site_nbr][j] * (-1)**((i-site_nbr)%2) for site_nbr in site_nbrs])
      if h[i][j] > 0:
        priority.append((-total_spin, 0))
      else:
        priority.append((total_spin, 1))
  return [[x[0], x[1]] for x in priority]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        site_nbr = (i + ((j+1)%N - N//2)) % N
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return [[x[0], x[1]] for x in priority]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N) - 1) % N)
    spin = -1 if h[i//N][i%N] > 0 else 1
    total_spin[i][spin==1] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] += total_spin[i*N+j][0]
        priority_total[i*N+j][1] -= total_spin[i*N+j][1]
      else:
        site_nbr = (i + ((j+1)%N - N//2)) % N
        priority_total[i*N+j][0] -= total_spin[i*N+j][0]
        priority_total[i*N+j][1] += total_spin[i*N+j][1]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%2 - 1)) % N
        priority_total[site_nbr][j][0] += 1
        priority_total[site_nbr][j][1] -= 1
      else:
        site_nbr = (i + ((j-1)%2 - 1)) % N
        priority_total[site_nbr][j][0] -= 1
  return [[x[0], x[1]] for row in [sublist[:N//2] + sublist[N//2:] for sublist in [list(map(lambda x: list(x), row)) for row in priority_total]] for x in row]


#score: {'data2D.txt': -1.4043209876543283e-05}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      total_spin[i*N+j][1] -= h[site_nbr][j]
  priorities = []
  for i in range(N**2):
    if h[int(i/N)][i%N] > 0:
      priorities.append([total_spin[i][0], 0])
    else:
      priorities.append([-x for x in total_spin[i]])
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
      else:
        priority_total[i*N+j][1] = -total_spin
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4],0)+h).flatten()
  sum_2 = (np.prod(J_new[1::4],0)+h).flatten()
  return np.column_stack((sum_1,-sum_2))


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N) - 1) % N)
    total_spin[i][1 if h[site_nbr % N][site_nbr // N] > 0 else 0] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N) - 1) % N)
    if h[site_nbr % N][site_nbr // N] > 0:
      priority_total[i][0] += total_spin[i][1]
      priority_total[i][1] -= total_spin[i][0]
    else:
      priority_total[i][0] -= total_spin[i][1]
      priority_total[i][1] += total_spin[i][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  priority = np.column_stack((np.prod(J[0::4].flatten(),0) + h.flatten(), -np.prod(J[3::4].flatten(),0) - h.flatten()))
  return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin = h[site_nbr][j]
      if h[i][j] > 0:
        priority_total[i][j][0] += total_spin
        priority_total[i][j][1] -= total_spin
      else:
        priority_total[i][j][0] -= total_spin
  return [[x[0], x[1]] for x in [y for sublist in priority_total for y in sublist]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin[i*N+j][1 if h[site_nbr][j] > 0 else 0] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += total_spin[i*N+j][1]
        priority_total[i*N+j][1] -= total_spin[i*N+j][0]
      else:
        priority_total[i*N+j][0] -= total_spin[i*N+j][1]
        priority_total[i*N+j][1] += total_spin[i*N+j][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += state[site][j]
        priority_total[i][j][1] -= state[site][j]
      else:
        priority_total[i][j][0] -= state[site][j]
  return [[min(p), 1 - min(map(lambda x: x if x == min(p) else float('inf'), p))] for p in itertools.chain(*priority_total)]


#score: {'data2D.txt': 0.024862499999999996}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N + ((i % N)-1)%2 - 1) % N
    if h[i//N][i%N] > 0:
      priorities.append([-state[site_nbr][i%N], state[site_nbr][i%N]])
    else:
      priorities.append([state[site_nbr][i%N], -state[site_nbr][i%N]])
  return priorities


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = np.zeros((N**2, 2))
  for i in range(N**2):
    site = (i // N + ((i % N) - 1) % N) % N
    if h[i//N][i%N] > 0:
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      total_spin[i][0] -= 1
  return [list(x) for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      spin = -1 if h[i][j] > 0 else 1
      total_spin[i*N+j][spin==1] += 1
  priority_total = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      total_spin[site_nbr][spin==1] += 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for site in range(N**2):
    if state[site//N][site%N] == -1:
      priority_total[site][0] += 1
      priority_total[site][1] -= 1
    else:
      priority_total[site][0] -= 1
      priority_total[site][1] += 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i+((k-1)%N - N//2)) % N for k in [j-1,j+1,i-1,i+1]]
      sites = [(site_nbrs[k],k) for k in [0,1,2,3] if 0 <= (site_nbrs[k]-i)%N < N and 0 <= (site_nbrs[k]-j)%N < N]
      for site, _ in sites:
        if h[site][j] > 0:
          priority_total[i][j][0] += 1
          priority_total[i][j][1] -= 1
        else:
          priority_total[i][j][0] -= 1
          priority_total[i][j][1] += 1
  return [[x[0], x[1]] for x in [x for sublist in priority_total for x in sublist]]


#score: {'data2D.txt': -0.0012498456790123456}
program:
def priority(N, h, J):
  priority_total = []
  for i in range(N**2):
    site_nbr = (i // N + ((i % N-1)%N - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total.append([sum(J[i::,4*i+1:4*i+3].flatten()), -sum(J[i::,4*i+2:4*i+4].flatten())])
    else:
      priority_total.append([-sum(J[i::,4*i+1:4*i+3].flatten()), sum(J[i::,4*i+2:4*i+4].flatten())])
  return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for site in range(N**2):
    site_nbr = (site // N + ((site % N) - 1) % N)
    if h[site_nbr % N][site_nbr // N] > 0:
      priority_total[site][0] += sum([1 if state[i][j] == state[site//N][site%N] else -1 for i in range(N) for j in range(N) if ((i-site//N)**2 + (j-site%N)**2)**.5 == 1])
      priority_total[site][1] -= sum([1 if state[i][j] != state[site//N][site%N] else -1 for i in range(N) for j in range(N) if ((i-site//N)**2 + (j-site%N)**2)**.5 == 1])
    else:
      priority_total[site][0] -= sum([1 if state[i][j] != state[site//N][site%N] else -1 for i in range(N) for j in range(N) if ((i-site//N)**2 + (j-site%N)**2)**.5 == 1])
      priority_total[site][1] += sum([1 if state[i][j] == state[site//N][site%N] else -1 for i in range(N) for j in range(N) if ((i-site//N)**2 + (j-site%N)**2)**.5 == 1])
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for site in range(N**2):
    site_nbr = (site // N + ((site % N) - 1) % N)
    if h[site_nbr % N][site_nbr // N] > 0:
      priority_total[site][0] += state[site//N][site%N]
      priority_total[site][1] -= state[site//N][site%N]
    else:
      priority_total[site][0] -= state[site//N][site%N]
      priority_total[site][1] += state[site//N][site%N]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_magnetism = [sum([state[i][j]*h[i][j] for j in range(N)]) for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for site in range(N**2):
    site_nbr = (site // N + ((site % N) - 1) % N)
    if h[site_nbr % N][site_nbr // N] > 0:
      priority_total[site][0] += total_magnetism[site_nbr % N]
      priority_total[site][1] -= total_magnetism[site_nbr % N]
    else:
      priority_total[site][0] -= total_magnetism[site_nbr % N]
      priority_total[site][1] += total_magnetism[site_nbr % N]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  site_energy = [[[float('-inf') for _ in range(2)] for j in range(N)] for i in range(N)]

  def spin_energy(site):
    spin = -1 if h[site//N][site%N] > 0 else 1
    return J[site//N][site%N][(site+((site//N)%2-1)) % N][spin==1]

  for i in range(N**2):
    site_energy[i//N][i%N][0] = total_spin[i][0]
    site_energy[i//N][i%N][1] = -1*total_spin[i][0] if h[i//N][i%N] > 0 else total_spin[i][1]

  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      spin = -1 if h[i][j] > 0 else 1
      total_spin[site][spin==1] += 1

  return [[x[0], x[1]] for x in [site_energy[i//N][i%N] for i in range(N**2)]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  site_interactions = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_interactions[i*N+j][0] += 1
        site_interactions[i*N+j][1] -= 1
  return [[x[0], x[1]] for x in site_interactions]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[site_nbr][j][0] += 1
        priority_total[site_nbr][j][1] -= 1
      else:
        priority_total[site_nbr][j][0] -= 1
  return [[x[0], x[1]] for row in [sublist[:N//2] + sublist[N//2:] for sublist in [list(map(lambda x: list(x), row)) for row in priority_total]] for x in row]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += h[site][j]
        total_spin[i*N+j][1] -= h[site][j]
      else:
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[i*N+j][0] -= h[site][j]
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority.reshape(N2, 2))


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) - h).flatten()
  return np.column_stack((sum_1, -sum_2))


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priority_total = [[[0.0 for _ in range(2)] for j in range(N)] for i in range(N)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[i][j][1] -= 1
      else:
        priority_total[i][j][0] -= 1
  
  return [[x[0], x[1]] for x in [priority_total[i][j] for i in range(N) for j in range(N)]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[site_nbr][j][0] += 1
        priority_total[site_nbr][j][1] -= 1
      else:
        priority_total[site_nbr][j][0] -= 1
  return [[x[0], x[1]] for row in [sublist[:N//2] + sublist[N//2:] for sublist in [list(map(lambda x: list(x), row)) for row in priority_total]] for x in row]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) - h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return priority


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  site_nbrs = [(i + ((j-1)%N - N//2)) % N for i in range(N) for j in range(N)]
  
  for i in range(N**2):
    if state[int(i/N)][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      site = site_nbrs[i]
      priority_total[site*N + i%N][0] += 1
      priority_total[site*N + i%N][1] -= 1
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.08004398148148154}
program:
def priority(N, h, J):
  site_interactions = (J[0::4].flatten() + J[1::4].flatten()).reshape(-1,2).T
  edge_interactions = (J[2::4].flatten() + J[3::4].flatten()).reshape(-1,2).T
  interactions = np.concatenate((site_interactions,edge_interactions),axis=1)
  sum_1 = np.sum(interactions,axis=0) + h.flatten()
  priority = np.column_stack((sum_1,np.zeros_like(sum_1)))
  return [[x[0],x[1]] for x in priority]


#score: {'data2D.txt': -0.28945540123456703}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::N*N], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::N*N], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        priority_total[i][site_nbr][0] += 1
        priority_total[i][site_nbr][1] -= 1
      else:
        site_nbr = (i + ((j+1)%N - N//2)) % N
        priority_total[i][site_nbr][0] -= 1
        priority_total[i][site_nbr][1] += 1
  return [[x[0], x[1]] for x in [y for sublist in priority_total for y in sublist]]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priority_total = np.zeros((N**2, 2))
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        site_nbr = (i + ((j+1)%N - N//2)) % N
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  
  return priority_total.tolist()


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N) - 1) % N) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
  return [[min(p), 1 - min(map(lambda x: x if x == min(p) else float('inf'), p))] for p in [priority_total[i] for i in range(N**2)]]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N) - 1) % N) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
  return [[min(p), 1 - min(map(lambda x: x if x == min(p) else float('inf'), p))] for p in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4],0)+h).flatten()
  sum_2 = (np.prod(J_new[1::4],0)+h).flatten()
  priority = np.column_stack((sum_1,-sum_2))
  return priority


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N-1) % N - N//2)) % N
    if h[i // N][i % N] > 0:
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      total_spin[i][0] -= 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % N) - N//2) % N
    spin = -1 if h[i // N][i % N] > 0 else 1
    total_spin[i][spin==1] += 1
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % N) - N//2) % N
    if h[i // N][i % N] > 0:
      priority_total[i][0] += total_spin[i][1]
      priority_total[i][1] -= total_spin[i][0]
    else:
      priority_total[i][0] -= total_spin[i][1]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.reshape(-1,4).T.flatten()
  sum1 = (np.prod(J_new[0::2],0) + h).flatten()
  sum2 = (-np.prod(J_new[1::2],0)).flatten()
  priority = np.column_stack((sum1,-sum1))
  return(priority)


#score: {'data2D.txt': -0.0012498456790123456}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N-1)%N - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] = sum(J[i::,4*i+1:4*i+3].flatten())
      priority_total[i][1] = -sum(J[i::,4*i+2:4*i+4].flatten())
    else:
      priority_total[i][0] = -sum(J[i::,4*i+1:4*i+3].flatten())
      priority_total[i][1] = sum(J[i::,4*i+2:4*i+4].flatten())
  return priority_total


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  N2 = N * N
  total_spin = np.zeros((N2, 2))
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      spin = -1 if h[i][j] > 0 else 1
      total_spin[site][spin==1] += 1
  
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  
  return([x for x in priority])


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = np.zeros((N2,2))
  
  for i in range(N2):
    site = (i % 2) * ((i // N) + (N // 2)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
  
  return priority_total.tolist()


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N*N)]
  total_spin = [0,0]
  
  def get_priority(site):
    if h[site//N][site%N] > 0:
      return [total_spin[1], -total_spin[0]]
    else:
      return [-total_spin[1], total_spin[0]]
  
  for i in range(N*N):
    site = (i + ((i%N)-1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
      priority_total[i][1] += 1
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N**2):
    site = (i + ((i//N)%2 - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012695987654320984}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N + ((i % N-1)%N - 1)) % N
    if state[site_nbr][i%N] == 1:
      priorities.append([sum(J[i::,4*i+1:4*i+3].flatten()), -sum(J[i::,4*i+2:4*i+4].flatten())])
    else:
      priorities.append([-sum(J[i::,4*i+1:4*i+3].flatten()), sum(J[i::,4*i+2:4*i+4].flatten())])
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.0012538580246913582}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N + ((i % N-1)%N - 1)) % N
    if h[i//N][i%N] > 0:
      spin_sum = sum(J[i::,4*i+1:4*i+3].flatten())
      spin_diff = sum(J[i::,4*i+2:4*i+4].flatten())
      priorities.append([spin_sum, spin_diff])
    else:
      spin_sum = -sum(J[i::,4*i+1:4*i+3].flatten())
      spin_diff = -sum(J[i::,4*i+2:4*i+4].flatten())
      priorities.append([-spin_sum, spin_diff])
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N**2):
    site_nbr = (i // N + ((i % N-1)%N - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += sum(J[i::,4*i+1:4*i+3].flatten())
      priority_total[i][1] -= sum(J[i::,4*i+2:4*i+4].flatten())
    else:
      priority_total[i][0] -= sum(J[i::,4*i+1:4*i+3].flatten())
      priority_total[i][1] += sum(J[i::,4*i+2:4*i+4].flatten())
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012174382716049386}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N + ((i % N-1)%N - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total = sum(J[i::,4*i+1:4*i+3].flatten()) - sum(J[i::,4*i+2:4*i+4].flatten())
    else:
      priority_total = -sum(J[i::,4*i+1:4*i+3].flatten()) + sum(J[i::,4*i+2:4*i+4].flatten())
    priorities.append([-priority_total,priority_total])
  return priorities


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + (k-1)%2 - 1) % N for k in range(3)] * N
      site_nbrs.remove(i)
      total_spin = sum([h[k][j] for k in site_nbrs])
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
      else:
        priority_total[i*N+j][1] = -total_spin
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = np.full((N**2, 2), -np.inf)
  for site in range(N**2):
    site_nbr = (site // N + ((site % N) - 1) % N)
    if h[site_nbr % N][site_nbr // N] > 0:
      priority_total[site][0] += sum([1 if state[i][j] == state[site//N][site%N] else -1 for i in range(N) for j in range(N) if ((i-site//N)**2 + (j-site%N)**2)**.5 <= 1])
      priority_total[site][1] -= sum([1 if state[i][j] != state[site//N][site%N] else -1 for i in range(N) for j in range(N) if ((i-site//N)**2 + (j-site%N)**2)**.5 <= 1])
    else:
      priority_total[site][0] -= sum([1 if state[i][j] != state[site//N][site%N] else -1 for i in range(N) for j in range(N) if ((i-site//N)**2 + (j-site%N)**2)**.5 <= 1])
      priority_total[site][1] += sum([1 if state[i][j] == state[site//N][site%N] else -1 for i in range(N) for j in range(N) if ((i-site//N)**2 + (j-site%N)**2)**.5 <= 1])
  return priority_total.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[i][j][1] -= 1
      else:
        priority_total[i][j][0] -= 1
  return [[x[0], x[1]] for x in [item for sublist in priority_total for item in sublist]]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      total_spin = [0, 0]
      if h[i][j] > 0:
        total_spin[0] += 1
        total_spin[1] -= 1
      else:
        total_spin[0] -= 1
        total_spin[1] += 1
      for k in range(3):
        site_nbr = (i + ((k-1)%2 - 1)) % N
        total_spin[0] += h[site_nbr][j]
      priority_total[i][j] = total_spin
  return [[x[0], x[1]] for i in range(N**2) for x in [priority_total[i//N][i%N]]]


#score: {'data2D.txt': -0.23149614197530793}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = np.prod(np.roll(J_new.reshape(N,N,-1),-1,axis=2).sum(axis=(1,2)),axis=0) + h.flatten()
  sum2 = -np.prod(np.roll(J_new.reshape(N,N,-1),1,axis=2).sum(axis=(1,2)),axis=0) - h.flatten()
  priority = np.column_stack((sum1,sum2))
  return(priority)


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = (np.prod(J_new[0::2], 0) + h).flatten()
  sum2 = (np.prod(J_new[1::4], 0) + np.prod(J_new[3::4], 0)) * (-1)**((np.arange(N**2) % N). flatten())
  priority = np.column_stack((sum1, -sum2))
  return(priority)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority.astype(int))


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      spin = -1 if h[i][j] > 0 else 1
      total_spin[site][spin==1] += 1
  
  J_new = J.flatten()
  
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  
  priority = np.column_stack((sum_1, -sum_2))
  
  return priority.tolist()


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = np.zeros((N*N, 2), dtype=int)
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%N) - 1) % N
    if h[i//N][i%N] > 0:
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      total_spin[i][0] -= 1
  priority = np.column_stack((total_spin[:, 0], -total_spin[:, 1]))
  return priority.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  sum_3 = (np.prod(J_new[2::4], 0) + h).flatten()
  sum_4 = (np.prod(J_new[3::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2)) + np.column_stack((-sum_1, sum_3)) + np.column_stack((-sum_2, -sum_4))
  return(priority)


#score: {'data2D.txt': -0.1965452160493829}
program:
def priority(N, h, J):
  total_spin = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      spin = -1 if h[i][j] > 0 else 1
      total_spin[i*N+j][spin==1] += 1

  priority_total = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[site_nbr][0]
      else:
        priority_total[i*N+j][1] = -total_spin[site_nbr][0]

  return np.column_stack((priority_total[:, 0], -priority_total[:, 1]))


#score: {'data2D.txt': 0.0010467592592592592}
program:
def priority(N, h, J):
  total_spin = np.zeros((N,N,2))
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin[i][j] += h[site_nbr][j]
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    if h[int(i//N)][i%N] > 0:
      site_nbr = (int(i//N) + ((i%N-1)%N - N//2)) % N
      priority_total[i][0] += total_spin[site_nbr][i%N][0]
      priority_total[i][1] -= total_spin[site_nbr][i%N][1]
    else:
      site_nbr = (int(i//N) + ((i%N-1)%N - N//2)) % N
      priority_total[i][0] -= total_spin[site_nbr][i%N][0]
      priority_total[i][1] += total_spin[site_nbr][i%N][1]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      if h[i][j] > 0:
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][1] += 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%2 - 1)) % N
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        site_nbr = (i + ((j+1)%2 - 1)) % N
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.008439043209876542}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      spin = -1 if h[i][j] > 0 else 1
      total_spin[site][spin==1] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for k in range(3):
    site_nbr = (i + ((k-1)%2 - 1)) % N
    total_spin[i*N+j] += h[site_nbr][j]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      spin = -1 if h[i][j] > 0 else 1
      total_spin[site][spin==1] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - 1)) % N
        priority_total[i*N+j][0] = total_spin[site_nbr][0]
        priority_total[i*N+j][1] = -1*total_spin[site_nbr][1]
      else:
        site_nbr = (i + ((j+1)%N - 1)) % N
        priority_total[i*N+j][0] = -1*total_spin[site_nbr][0]
        priority_total[i*N+j][1] = total_spin[site_nbr][1]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.001082253086419753}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N-1)%N - 1)) % N
    total_spin[i][0] += h[site_nbr][i % N]
    total_spin[i][1] -= h[site_nbr][i % N]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[i*N+j][0]
        priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
      else:
        priority_total[i*N+j][0] = -1*total_spin[i*N+j][0]
        priority_total[i*N+j][1] = total_spin[i*N+j][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for site,spin in enumerate(itertools.product(range(N),range(N))):
    if h[site//N][site%N] > 0:
      priority_total[site][0] += spin[1]
      priority_total[site][1] -= spin[1]
    else:
      priority_total[site][0] -= spin[1]
      priority_total[site][1] += spin[1]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  total_spin = [0]*N**2
  site_priority = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin[i*N+j] += h[site_nbr][j]
      
      if h[i][j] > 0:
        site_priority[i*N+j][0] = total_spin[i*N+j]
      else:
        site_priority[i*N+j][1] = -total_spin[i*N+j]
  
  return [[x, -y] for x,y in site_priority]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
  
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = (np.prod(J_new[0::2].reshape(-1, 4)[:,-1], 0) + h).flatten()
  sum2 = (-np.prod(J_new[1::2].reshape(-1, 4)[:,-1], 0)).flatten()
  priority = np.column_stack((sum1, -sum1))
  return(priority)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
      for k in range(3):
        site_nbr = (i + ((k-1)%2 - 1)) % N
        total_spin[i*N+j][0] += h[site_nbr][j]
        total_spin[i*N+j][1] -= h[site_nbr][j]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N**2):
    site = (i + ((i//N-1)%2 - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += total_spin[site][0]
      priority_total[i][1] -= total_spin[site][1]
    else:
      priority_total[i][0] -= total_spin[site][0]
  return [[x, -y] for x,y in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[i][j][1] -= 1
      else:
        priority_total[i][j][0] -= 1
  return [[x[0], x[1]] for i in range(N) for j in range(N) for x in [priority_total[i][j]]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
  
  for i in range(N**2):
    priority_total = [total_spin[i][0], -total_spin[i][1]]
  
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4],0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4],0) + h).flatten()
  priority = np.column_stack((sum_1,-sum_2))
  return(priority)


#score: {'data2D.txt': -0.0014134259259259256}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sums = []
  for i in range(2):
    sum_i = (np.prod(J_new[4*i:4*i+4], 0) + h).flatten()
    sums.append(sum_i)
  return list(map(list, zip(*sums)))


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin = h[i][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
        priority_total[i*N+j][1] = -total_spin
      else:
        priority_total[i*N+j][0] = -total_spin
        priority_total[i*N+j][1] = total_spin
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  N2 = N*N
  priorities = [[float('-inf'), float('inf')] for _ in range(N2)]
  for i in range(N):
    for j in range(N):
      site_nbr = ((i+1)%N + (j-1)%2) % N
      if h[i][j] > 0:
        priorities[i*N+j][0] += J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priorities[i*N+j][1] -= J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
      else:
        priorities[i*N+j][0] -= J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[site_nbr][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -7.608024691358018e-05}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    total_spin = [0,0]
    site_nbr = (i // N, i % N)
    for k in range(4):
      if k == 0:
        total_spin[0] += J[k][site_nbr[0]][site_nbr[1]]
      elif k == 1:
        total_spin[0] += J[(k+2)%4][site_nbr[0]][(site_nbr[1]+1)%N]
      elif k == 2:
        total_spin[1] += J[k][(site_nbr[0]+1)%N][site_nbr[1]]
      else:
        total_spin[1] += J[k-2][site_nbr[0]][(site_nbr[1]-1)%N]
    priorities.append(list(total_spin))
  return(priorities)


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], axis=0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], axis=0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  
  # compute total spin at each site
  total_spin = np.zeros((N2, 2))
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j, 0] += 1
        total_spin[i*N+j, 1] -= 1
      else:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j, 0] += 1
        total_spin[i*N+j, 1] -= 1
        
  # compute priority for each site
  priority_total = np.zeros((N2, 2))
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j, 0] = total_spin[site*N+((j-1)%N), 0]
        priority_total[i*N+j, 1] = -total_spin[site*N+((j-1)%N), 1]
      else:
        site = (i + ((j-1)%2 - 1)) % N
        priority_total[i*N+j, 0] = total_spin[site*N+(j-1)%N, 0]
        priority_total[i*N+j, 1] = -total_spin[site*N+(j-1)%N, 1]

  return priority_total.tolist()


#score: {'data2D.txt': -0.26103595679012315}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        for k in range(2):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin[i*N+j][0] += h[site][j]
  
  for i in range(N**2):
    if h[(i//N)%N][(i%N)] > 0:
      priority_total = [total_spin[i][0], -total_spin[i][1]]
    else:
      priority_total = [-total_spin[i][0], total_spin[i][1]]
  
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      
  for i in range(N**2):
    priority_total = [total_spin[i][0], -total_spin[i][1]]
  
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in range(4):
      if k == 0:
        total_spin[i][0] += J[k][site_nbr[0]][site_nbr[1]]
      elif k == 1:
        total_spin[i][0] += J[(k+2)%4][site_nbr[0]][(site_nbr[1]+1)%N]
      elif k == 2:
        total_spin[i][1] += J[k][(site_nbr[0]+1)%N][site_nbr[1]]
      else:
        total_spin[i][1] += J[k-2][site_nbr[0]][(site_nbr[1]-1)%N]
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin[i][0]])
    else:
      priorities.append([-1*total_spin[i][0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': 0.0015689814814814817}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    total_spin = [0,0]
    site_nbr = (i // N, i % N)
    for k in range(4):
      if k == 0:
        total_spin[1] += J[k][site_nbr[0]][site_nbr[1]]
      elif k == 1:
        total_spin[0] += J[(k+2)%4][site_nbr[0]][(site_nbr[1]+1)%N]
      elif k == 2:
        total_spin[1] += J[k][(site_nbr[0]+1)%N][site_nbr[1]]
      else:
        total_spin[0] += J[k-2][site_nbr[0]][(site_nbr[1]-1)%N]
    priorities.append(list(total_spin))
  return(priorities)


#score: {'data2D.txt': 0.0008282407407407408}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    total_spin = [0,0]
    site_nbr = (i // N, i % N)
    for k in range(4):
      if k == 0:
        total_spin[0] += J[k][site_nbr[0]][site_nbr[1]]
      elif k == 1:
        total_spin[0] += J[(k+2)%4][site_nbr[0]][(site_nbr[1]+1)%N]
      elif k == 2:
        total_spin[1] += J[k][(site_nbr[0]+1)%N][site_nbr[1]]
      else:
        total_spin[1] += J[k-2][site_nbr[0]][(site_nbr[1]-1)%N]
    if h[i//N][i%N] > 0:
      priorities.append([-x for x in total_spin])
    else:
      priorities.append(total_spin)
  return(priorities)


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_flat = J.flatten()
  sum_1 = (np.prod(J_flat[::4], 0) + h).flatten()
  sum_2 = (np.prod(J_flat[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) - h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return priority.reshape(N**2, 2)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  priorities = []
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in [(0, 1), (1, 0), (2, -1), (-1, 1)]:
      j_offset, i_offset = k
      total_spin[i][0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[i][1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin[i][0]])
    else:
      priorities.append([-1*total_spin[i][0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  total_spin = [0]*N**2
  site_priority = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin[i*N+j] += h[site_nbr][j]
      
      if h[i][j] > 0:
        total_spin[i*N+j] += 1
      else:
        total_spin[i*N+j] -= 1
      
      for k in range(3):
        site_nbr = (i + ((k-1)%2 - 1)) % N
        total_spin[i*N+j] += h[site_nbr][j]
      
      if total_spin[i*N+j] > 0:
        site_priority[i*N+j][0] = total_spin[i*N+j]
        site_priority[i*N+j][1] = float('-inf')
      else:
        site_priority[i*N+j][1] = -total_spin[i*N+j]
        site_priority[i*N+j][0] = float('-inf')
  
  return [[x, -y] for x,y in site_priority]


#score: {'data2D.txt': -0.27106867283950575}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin += h[site_nbr][j]
      if h[i][j] > 0:
        priority_total[i*N+j] = [total_spin, 0]
      else:
        priority_total[i*N+j] = [-total_spin, 1]
  return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = np.zeros((N,N,2))
  site_priority = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i][j] += [1, -1]
      else:
        total_spin[i][j] += [-1, 1]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - N//2)) % N
    if h[site_nbr][i%N] > 0:
      site_priority[i][0] += total_spin[site_nbr][i%N][0]
      site_priority[i][1] -= total_spin[site_nbr][i%N][1]
    else:
      site_priority[i][0] -= total_spin[site_nbr][i%N][0]
      site_priority[i][1] += total_spin[site_nbr][i%N][1]
  return [[x[0], x[1]] for x in site_priority]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_flatten = J.flatten()
  sum_1 = (np.prod(J_flatten[0::4],0) + h).flatten()
  sum_2 = (np.prod(J_flatten[1::4],0) + h).flatten()
  priority = np.column_stack((sum_1,-sum_2))
  return priority


#score: {'data2D.txt': -0.01437175925925926}
program:
def priority(N, h, J):
  priority_total = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j][0] += np.sum(J[:,i,j])
        priority_total[i*N+j][1] -= np.sum(J[:,i,j])
      else:
        priority_total[i*N+j][0] -= np.sum(J[:,i,j])
  return priority_total


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return priority.reshape(-1, 2)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    total_spin[i][1 if h[site_nbr][i%N] > 0 else 0] += 1
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[site_nbr][1]
      else:
        priority_total[i*N+j][1] = -1*total_spin[site_nbr][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      priority_total[i][0] = total_spin[i][0]
    else:
      priority_total[i][1] = -1*total_spin[i][0]
  return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
    spin = 1 if h[site_nbr][i%N] > 0 else -1
    total_spin[i][spin==1] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[j][0] = total_spin[j][0]
      else:
        priority_total[j][1] = -1*total_spin[j][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[site_nbr][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.049481018518518556}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i % N + ((i // N - 1) % 2 - 1)) % N
    if h[i // N][i % N] > 0:
      total_spin[i][0] += state[site_nbr][i % N]
      total_spin[i][1] -= state[site_nbr][i % N]
    else:
      total_spin[i][0] -= state[site_nbr][i % N]
      total_spin[i][1] += state[site_nbr][i % N]
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      spin = -1 if h[i][j] > 0 else 1
      total_spin[i*N+j][spin==1] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.14748842592592612}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbrs = [(i//N + ((k-1)%2 - 1)) % N for k in [1,3]]
    total_spin = sum([h[site_nbr][i%N] for site_nbr in site_nbrs])
    if h[i//N][i%N] > 0:
      priorities.append([-total_spin, 0])
    else:
      priorities.append([total_spin, 1])
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      if i_offset == 0 and j_offset == 0:
        continue
      total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([-total_spin[0], float('-inf')])
    else:
      priorities.append([float('-inf'), -total_spin[0]])
  return(priorities)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin_1 = sum(J[0][site_nbr[0]][(site_nbr[1] + k) % N] * state[(k+site_nbr[1])%N][site_nbr[0]] for k in range(N))
    total_spin_2 = sum(J[3 - (k+1)%4][site_nbr[0]][(site_nbr[1] - k) % N] * state[(k-site_nbr[1])%N][site_nbr[0]] for k in range(N))
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin_1 + total_spin_2])
    else:
      priorities.append([-1*(total_spin_1 + total_spin_2), float('-inf')])
  return(priorities)


#score: {'data2D.txt': 0.014317746913580245}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (2, -1), (-1, 1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] -= J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      if h[(site_nbr[0]+i_offset)%N][site_nbr[1]] > 0:
        total_spin[1] += J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      else:
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
    priorities.append(total_spin)
  return(priorities)


#score: {'data2D.txt': -0.12726805555555554}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin_1 = 0
    total_spin_2 = 0
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      if J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin_1 += 1
      else:
        total_spin_1 -= 1
      if J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N] > 0:
        total_spin_2 += 1
      else:
        total_spin_2 -= 1
    priorities.append([total_spin_1, -total_spin_2])
  return(priorities)


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return([list(x) for x in priority])


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
    spin = 1 if h[site_nbr][i%N] > 0 else -1
    total_spin[i][spin==1] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[j][0] = total_spin[j][0]
      else:
        priority_total[j][1] = -1*total_spin[j][0]
  for i in range(N**2):
    site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
    if h[site_nbr][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return priority.reshape(N**2, 2)


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      spin = -1 if h[i][j] > 0 else 1
      total_spin[i*N+j][spin==1] += 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.26103595679012315}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        for k in range(2):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin[i*N+j][0] += h[site][j]
  for i in range(N**2):
    if h[(i//N)%N][(i%N)] > 0:
      priority_total = [total_spin[i][0], -total_spin[i][1]]
    else:
      priority_total = [-total_spin[i][0], total_spin[i][1]]
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N-1)%N - 1)) % N
    total_spin[i][0] += h[site_nbr][i % N]
    total_spin[i][1] -= h[site_nbr][i % N]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if state[i][j] == -1:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.01437175925925926}
program:
def priority(N, h, J):
  priority_total = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin = np.sum(J[:,i,j])
        priority_total[i*N+j][0] += total_spin
        priority_total[i*N+j][1] -= total_spin
      else:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin = np.sum(J[:,i,j])
        priority_total[i*N+j][0] -= total_spin
  return priority_total


#score: {'data2D.txt': -0.16043533950617309}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = [[[0 for _ in range(2)] for _ in range(N)] for _ in range(N)]
  
  for i in range(N):
    for j in range(N):
      site1 = (i + ((j-1)%2 - 1)) % N
      site2 = (i + ((j-1)%N - N//2)) % N
      
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[i][j][1] -= 1
        if i > 0: priority_total[i-1][site1][0] += 1; priority_total[i-1][site1][1] -= 1
        if j > 0: priority_total[site2][j-1][0] += 1; priority_total[site2][j-1][1] -= 1
        if i < N - 1: priority_total[i+1][site1][0] -= 1; priority_total[i+1][site1][1] += 1
        if j < N - 1: priority_total[site2][j+1][0] -= 1; priority_total[site2][j+1][1] += 1
        
      else:
        priority_total[i][j][0] -= 1
        priority_total[i][j][1] += 1
        if i > 0: priority_total[i-1][site1][0] -= 1; priority_total[i-1][site1][1] += 1
        if j > 0: priority_total[site2][j-1][0] -= 1; priority_total[site2][j-1][1] += 1
        if i < N - 1: priority_total[i+1][site1][0] += 1; priority_total[i+1][site1][1] -= 1
        if j < N - 1: priority_total[site2][j+1][0] += 1; priority_total[site2][j+1][1] -= 1
  
  return [x for sublist in priority_total for x in sublist]


#score: {'data2D.txt': -0.050695216049382714}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_energy = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in [(0, 1), (1, 0), (-1, 1)]:
      j_offset, i_offset = k
      total_energy[i][0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_energy[i][1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    priorities.append([-total_energy[i][0], -total_energy[i][1]])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in [(0, 1), (1, 0), (2, -1), (-1, 1)]:
      j_offset, i_offset = k
      total_spin[i][0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[i][1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[i*N+j][0]
      else:
        priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
  return [[priority_total[i][0], float('-inf')] if h[i//N][i%N] > 0 else [-1*priority_total[i][0], float('-inf')] for i in range(N**2)]


#score: {'data2D.txt': 0.0760412037037037}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in [(0, 1), (1, 0), (2, -1), (-1, 1)]:
      j_offset, i_offset = k
      total_spin[i][0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[i][1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      for j in range(N):
        if h[i//N][j] > 0:
          priority_total[i][0] = total_spin[i][0]
        else:
          priority_total[i][1] = -1*total_spin[i][0]
    else:
      for j in range(N):
        if h[i//N][j] < 0:
          priority_total[i][0] = total_spin[i][0]
        else:
          priority_total[i][1] = -1*total_spin[i][0]
  return(priority_total)


#score: {'data2D.txt': -0.15269768518518537}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      spin = -1 if h[i][j] > 0 else 1
      total_spin[i*N+j][spin==1] += 1
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[i*N+j][0]
      else:
        priority_total[i*N+j][1] = -total_spin[i*N+j][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.047214043209876544}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N + ((i % N-1)%N - 1)) % N
    spin_product = state[site_nbr][i%N]
    if h[i//N][i%N] > 0:
      priorities.append([spin_product, -spin_product])
    else:
      priorities.append([-spin_product, spin_product])
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = (np.prod(J_new[::2],0)+h).flatten()
  sum2 = (-np.prod(J_new[1::2],0)).flatten()
  priority = np.column_stack((sum1,-sum1))
  return([list(x) for x in priority])


#score: {'data2D.txt': 0.001082253086419753}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N + ((i % N-1)%N - 1)) % N
    total_spin = h[site_nbr][i % N]
    if h[i//N][i%N] > 0:
      priorities.append([total_spin, -1*total_spin])
    else:
      priorities.append([-1*total_spin, total_spin])
  return priorities


#score: {'data2D.txt': 0.0007106481481481484}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbrs = [(i//N + ((k-1)%2 - 1)) % N for k in [1,3]]
    total_spin[i][0 if sum([h[site_nbr][i%N] for site_nbr in site_nbrs]) > 0 else 1] += 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.14603410493827182}
program:
def priority(N, h, J):
  priority_total = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (i-1)%N, i+1]]
      total_spin = sum(h[site_nbr][0] for site_nbr in site_nbrs)
      if h[i][j] > 0:
        priority_total[i*N+j][0] += total_spin
        priority_total[i*N+j][1] -= -total_spin
      else:
        priority_total[i*N+j][0] -= total_spin
  return priority_total


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = ((np.prod(J_new[0::4], 0) + h).flatten() - (np.prod(J_new[1::4], 0)).flatten()).flatten()
  sum_2 = ((np.prod(J_new[2::4], 0) + h).flatten() - (np.prod(J_new[3::4], 0)).flatten()).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (2, -1), (-1, 1)]:
      j_offset, i_offset = k
      if state[site_nbr[0]][(site_nbr[1]+i_offset)%N] == -1:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] += -J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= -J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin[0]])
    else:
      priorities.append([-1*total_spin[0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': -0.0006927469135802468}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin_0 = sum([J[0][site_nbr[0]][(site_nbr[1]-1)%N] if j == 0 else J[3][site_nbr[0]][(site_nbr[1]+1)%N] for j in range(N)])
    total_spin_1 = sum([J[1][site_nbr[0]][(site_nbr[1]-1)%N] if i % N == 0 else J[2][site_nbr[0]][(site_nbr[1]+1)%N] if i % N == N-1 else J[3][site_nbr[0]][(site_nbr[1]-1)%N] for _ in range(N)])
    priorities.append([-1*total_spin_0, total_spin_1])
  return(priorities)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin[0]])
    else:
      priorities.append([-1*total_spin[0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        site = (i + ((j-1)%2 - 1)) % N
        if h[i][j] > 0:
          priority_total = [total_spin[site][0]+1, -total_spin[site][1]-1]
        else:
          priority_total = [-total_spin[site][0]-1, total_spin[site][1]+1]
  
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  site = lambda i, j: (i + ((j-1)%2 - 1)) % N
  priority_total = [[[float('-inf'), float('-inf')] for _ in range(N)] for _ in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  return(total_spin)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (2, -1), (-1, 1)]:
      j_offset, i_offset = k
      if state[site_nbr[0]][(site_nbr[1]+i_offset)%N] == -1:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] += -J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= -J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([total_spin[0], float('-inf')])
    else:
      priorities.append([-1*total_spin[0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      spin = 1 if h[i][j] > 0 else -1
      total_spin[i*N+j][spin==1] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[j][0] += total_spin[i*N+j][1]
        priority_total[j][1] -= total_spin[i*N+j][0]
      else:
        priority_total[j][0] -= total_spin[i*N+j][1]
        priority_total[j][1] += total_spin[i*N+j][0]
  for i in range(N**2):
    site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
    if h[site_nbr][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin = [0, 0]
      for k in range(-1, 2):
        site = (i + k) % N
        if h[site][j] > 0:
          total_spin[0] += 1
        else:
          total_spin[1] -= 1
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[0]
      else:
        priority_total[i*N+j][1] = -total_spin[0]
  
  for i in range(N**2):
    site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
    if h[site_nbr][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = 0
  site_priorities = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for k in range(N):
    for i in range(N):
      for j in range(N):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
        if h[i][j] > 0:
          site_priorities[i*N+j][0] = total_spin
        else:
          site_priorities[i*N+j][1] = -total_spin
  return [[x[0], x[1]] for x in site_priorities]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N*N)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  # Calculate total magnetism at each site
  total_spin = np.zeros((N, N))
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      total_spin[i][j] = h[site_nbr][j]
  
  # Calculate priority based on magnetism and interactions
  J_new = J.flatten()
  sum_1 = np.prod(J_new[0::4], 0) + h.flatten()
  sum_2 = np.prod(J_new[1::4], 0) + h.flatten()
  priority = np.column_stack((sum_1, -sum_2))
  
  return(priority)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i % N + ((i // N - 1) % 2 - 1)) % N
    spin = 1 if h[site_nbr][i % N] > 0 else -1
    total_spin[i][spin == 1] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [0,0]
  for i in range(N**2):
    site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
    if h[site_nbr][i%N] > 0:
      if state[i//N][i%N] == 1:
        total_spin[0] += 1
      else:
        total_spin[1] -= 1
    else:
      if state[i//N][i%N] == -1:
        total_spin[0] += 1
      else:
        total_spin[1] -= 1
  return [[total_spin[0],total_spin[1]] for _ in range(N**2)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[i][j][1] -= 1
      else:
        priority_total[i][j][0] -= 1
  return [[x[0], x[1]] for x in np.array(priority_total).reshape(N**2, 2)]


#score: {'data2D.txt': 0.3341745370370361}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N*N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[site_nbr*N+int(j/N)][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[site_nbr*N+int(j/N)][1] += 1
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[site_nbr*N+j][0] -= 1
        total_spin[i*N+j][1] -= 1
        total_spin[site_nbr*N+j][1] += 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[site_nbr*N+j][0] += 1
        total_spin[i*N+j][1] += 1
        total_spin[site_nbr*N+j][1] -= 1
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    total_spin[i][0 if h[site_nbr][i%N] > 0 else 1] += 1
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[site][0]
      else:
        priority_total[i*N+j][1] = -1*total_spin[site][0]
  return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': -0.009274228395061727}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
    spin = 1 if h[site_nbr][i%N] > 0 else -1
    priorities.append([spin, -spin])
  return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    total_spin = [0,0]
    site_nbrs = [(i//N + ((j-1)%N - 1)) % N for j in range(N)] + [(k + (i%N) - 1) % N for k in range(3)]
    for j in range(N):
      if h[j][i%N] > 0:
        total_spin[0] += 1
        total_spin[1] -= 1
      else:
        total_spin[0] -= 1
        total_spin[1] += 1
    priority_total[i] = [-total_spin[1], total_spin[0]]
  return priority_total


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  return total_spin


#score: {'data2D.txt': -0.15467669753086444}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        site = (site_nbr + ((i-1)%2 - 1)) % N
        total_spin[i*N+j][0] = h[site][j]
        total_spin[i*N+j][1] = -total_spin[i*N+j][0]
  return [[x, y] for x, y in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N**2):
    site_nbrs = [(i//N + ((k-1)%2 - 1)) % N for k in [1,3]]
    total_spin = sum([h[site_nbr][i%N] for site_nbr in site_nbrs])
    if h[i//N][i%N] > 0:
      priority_total[i][1] -= total_spin
      priority_total[i][0] += 1
    else:
      priority_total[i][0] -= total_spin
      priority_total[i][1] += 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      spin = 1 if h[i][j] > 0 else -1
      total_spin = [[0, 0] for _ in range(N**2)]
      for k in range(3):
        site_nbr = (i + ((k-1)%2 - 1)) % N
        total_spin[i*N+j] += h[site_nbr][j]
      priority_total[i*N+j] = [total_spin[i*N+j][0], -total_spin[i*N+j][1]]
  return priority_total


#score: {'data2D.txt': 0.3341745370370361}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[site_nbr*N+int(i%N/N)][1] -= 1
    else:
      priority_total[i][0] -= 1
      priority_total[site_nbr*N+int(i%N/N)][1] += 1
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = np.zeros((N**2,2))
  J_new = J.flatten()
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += np.prod(J_new[(i+site_nbr)*N+(j-1)//2::4],0).sum() + h[i][j]
        priority_total[i*N+j][1] -= -np.prod(J_new[(i+site_nbr)*N+(j-1)//2::4],0).sum() - h[i][j]
      else:
        priority_total[i*N+j][0] -= np.prod(J_new[(i+site_nbr)*N+(j-1)//2::4],0).sum() + h[i][j]
        priority_total[i*N+j][1] += -np.prod(J_new[(i+site_nbr)*N+(j-1)//2::4],0).sum() - h[i][j]
  return priority_total.tolist()


#score: {'data2D.txt': -0.14748842592592612}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbrs = [(i//N + ((k-1)%2 - 1)) % N for k in [1,3]]
    total_spin = sum([h[site_nbr][i%N] for site_nbr in site_nbrs])
    if h[i//N][i%N] > 0:
      priorities.append([-total_spin, 0])
    else:
      priorities.append([total_spin, 1])
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': 0.24476342592592581}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbrs = [(i//N + ((k-1)%2 - 1)) % N for k in [1,3]]
    total_spin = sum([h[site_nbr][i%N] for site_nbr in site_nbrs])
    if h[i//N][i%N] > 0:
      priorities.append([-total_spin, 1])
    else:
      priorities.append([total_spin, -1])
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in range(3)]
      total_spin = sum([h[site_nbr][j] for site_nbr in site_nbrs])
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
      else:
        priority_total[i*N+j][1] = -total_spin
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return(priority_total)


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priorities = []
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in [(0, 1), (1, 0), (2, -1), (-1, 1)]:
      j_offset, i_offset = k
      total_spin[i][0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[i][1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([-1*total_spin[i][0], float('-inf')])
    else:
      priorities.append([float('-inf'), total_spin[i][0]])
  return(priorities)


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum1, -sum2))
  return(priority)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = np.zeros((N2, 2))
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j, 0] += 1
        total_spin[i*N+j, 1] -= 1
      else:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j, 0] += 1
        total_spin[i*N+j, 1] -= 1
  
  priority_total = np.zeros((N2, 2))
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j, 0] = total_spin[site*N+((j-1)%N), 0]
        priority_total[i*N+j, 1] = -total_spin[site*N+((j-1)%N), 1]
      else:
        site = (i + ((j-1)%2 - 1)) % N
        priority_total[i*N+j, 0] = total_spin[site*N+(j-1)%N, 0]
        priority_total[i*N+j, 1] = -total_spin[site*N+(j-1)%N, 1]

  return priority_total.tolist()


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = [[0, 0] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = np.zeros((N2, 2))
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j, 0] += 1
        priority_total[i*N+j, 1] -= 1
      else:
        priority_total[i*N+j, 0] -= 1
  return priority_total.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i % N + ((i // N - 1) % 2 - 1)) % N
    spin = 1 if h[site_nbr][i % N] > 0 else -1
    total_spin[i][spin == 1] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][1] += 1
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.009274228395061727}
program:
def priority(N, h, J):
  site_nbr = lambda i: (i % N + ((i//N-1)%2 - 1)) % N
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_spin = 1 if h[site_nbr(i)][i%N] > 0 else -1
    priorities.append([site_spin, -site_spin])
  return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        site = (i + ((j-1)%2 - 1)) % N
        state = [x for x in itertools.groupby(h.flatten())]
        total_spin[i*N+j][0] = sum(1 if item[0] > 0 else -1 for item in state)
        total_spin[i*N+j][1] = -total_spin[i*N+j][0]
  return [[-x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%N - N//2)) % N for k in range(3)]
      total_spin = sum([h[s][j] for s in site_nbrs]) 
      if h[i][j] > 0:
        priority_total[i*N+j][0] += total_spin
        priority_total[i*N+j][1] -= total_spin
      else:
        priority_total[i*N+j][0] -= total_spin
  return priority_total


#score: {'data2D.txt': -0.0014208333333333334}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N*N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 2*h[i][j]
        total_spin[site_nbr*N+int(j/N)][1] -= 2*h[i][j]
      else:
        total_spin[i*N+j][0] -= 2*h[i][j]
        total_spin[site_nbr*N+int(j/N)][1] += 2*h[i][j]
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': 0.33434367283950517}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[site_nbr*N+int(j/N)][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[site_nbr*N+int(j/N)][1] += 1
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      priority_total = [[-x[1], x[0]] for x in total_spin]
    else:
      priority_total = [[-x[0], -x[1]] for x in total_spin]
  return priority_total


#score: {'data2D.txt': -0.008974845679012345}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site = (i // N + ((i % N-1)%N - N//2)) % N
    if h[site][i % N] > 0:
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      total_spin[i][0] -= 1
      total_spin[i][1] += 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      total_spin[i*N+j][1] -= h[site_nbr][j]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%2 - 1)) % N
        priority_total[i*N+j][0] += total_spin[site_nbr*N+j][0]
        priority_total[i*N+j][1] -= total_spin[site_nbr*N+j][1]
      else:
        site_nbr = (i + ((j-1)%2 - 1)) % N
        priority_total[i*N+j][0] -= total_spin[site_nbr*N+j][0]
        priority_total[i*N+j][1] += total_spin[site_nbr*N+j][1]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  for i in range(N**2):
    site = (i % N + ((i//N-1)%2 - 1)) % N
    state[site][i%N] += 1 if h[site][i%N] > 0 else -1
    total_spin[i][0] += 1 if h[site][i%N] > 0 else -1
    total_spin[i][1] -= 1 if h[site][i%N] > 0 else 1
  priorities = [(total_spin[i][0],-total_spin[i][1]) for i in range(N**2)]
  return priorities


#score: {'data2D.txt': -0.009375771604938273}
program:
def priority(N, h, J):
  total_spin = np.zeros((2,N**2))
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[0, i*N+j] += 1
        total_spin[1, i*N+j] -= 1
      else:
        state = site_nbr
        for _ in range(N):
          if state == (i + ((state-1)%N - N//2)) % N and h[i][state] > 0:
            total_spin[0, i*N+state] += 1
            total_spin[1, i*N+state] -= 1
          else:
            total_spin[0, i*N+state] -= 1
            total_spin[1, i*N+state] += 1
  return(total_spin.T)


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = (np.prod(J_new[::2], 0) + h).flatten()
  sum2 = (np.prod(J_new[1::2], 0) + h).flatten()
  priority = np.column_stack((sum1, -sum2))
  return(priority)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      spin = 1 if h[i][j] > 0 else -1
      total_spin[i*N+j][spin == 1] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority)


#score: {'data2D.txt': 0.3341547839506163}
program:
def priority(N, h, J):
  site_priority = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      site = (i + ((i//N - N//2) % N))
    else:
      site = (i + (((i//N+N//2-1)%N)))
    site_nbr = (site + ((site//N - 1) % N - 1)) % N
    if h[i//N][i%N] > 0:
      site_priority[i][0] += 1
      site_priority[site_nbr*N+int(i%N/N)][1] -= 1
    else:
      site_priority[i][0] -= 1
      site_priority[site_nbr*N+int(i%N/N)][1] += 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]

  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1

  for k in range(3):
    site_nbr = (i + ((k-1)%2 - 1)) % N
    if h[i][j] > 0:
      priority_total[i*N+j][0] += h[site_nbr][j]
    else:
      priority_total[i*N+j][1] -= h[site_nbr][j]

  return [[x, -y] for x,y in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  sum_3 = (-np.sum((J_new[0::2])**2, axis=0)).flatten()
  priority = np.column_stack((sum_1+sum_3, -sum_2))
  return(priority)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  priorities = []
  total_spin = [[0, 0] for _ in range(N**2)]
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in site_interaction:
      j_offset, i_offset = k
      total_spin[i][0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[i][1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin[i][0]])
    else:
      priorities.append([-1*total_spin[i][0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': 0.002936265432098766}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, 1), (0, -1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+j_offset)%N] > 0:
        total_spin[0] += J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      else:
        total_spin[0] -= J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      if h[(site_nbr[0]+i_offset)%N][site_nbr[1]] > 0:
        total_spin[1] += J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[1] -= J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    priorities.append(total_spin)
  return(priorities)


#score: {'data2D.txt': 0.011877623456790122}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] -= J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      if h[(site_nbr[0]+i_offset)%N][site_nbr[1]] > 0:
        total_spin[1] += J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      else:
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
    priorities.append(total_spin)
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site = (i // N + (i % N - 1) % N) % N
    if h[i//N][i%N] > 0:
      total_spin[i//N*N+i%N][0] += np.prod(J[site*N+(i%N)//2::4],0).sum() + h[i//N][i%N]
      total_spin[i//N*N+i%N][1] -= -np.prod(J[site*N+(i%N)//2::4],0).sum() - h[i//N][i%N]
    else:
      total_spin[i//N*N+i%N][0] -= np.prod(J[site*N+(i%N)//2::4],0).sum() + h[i//N][i%N]
      total_spin[i//N*N+i%N][1] += -np.prod(J[site*N+(i%N)//2::4],0).sum() - h[i//N][i%N]
  return total_spin


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[::2],0) + h).flatten()
  sum_2 = (np.prod(J_new[1::2],0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority)


#score: {'data2D.txt': -0.019344290123456787}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    site_nbr = (i + ((i-1)%N - N//2)) % N
    for j in range(N):
      state[site_nbr][j] += state[i][j]
      total_spin[(i*N+j)][0] += h[i][j]*state[i][j]
      if h[i][j] > 0:
        total_spin[(i*N+j)][1] -= state[i][j]
      else:
        total_spin[(i*N+j)][1] += state[i][j]
  priority_total = [[x[0], x[1]] for x in total_spin]
  return priority_total


#score: {'data2D.txt': 0.3341547839506163}
program:
def priority(N, h, J):
  site_priority = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      site = (i + ((i//N - N//2) % N))
    else:
      site = (i + (((i//N+N//2-1)%N)))
    site_nbr = (site + ((site//N - 1) % N - 1)) % N
    if h[i//N][i%N] > 0:
      site_priority[i][0] += 1
      site_priority[site_nbr*N+int(i%N/N)][1] -= 1
    else:
      site_priority[i][0] -= 1
      site_priority[site_nbr*N+int(i%N/N)][1] += 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  priorities = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = ((i+1)%N + (j-1)%2) % N
      if h[i][j] > 0:
        priorities[i*N+j][0] += J[(i+N*2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priorities[i*N+j][1] -= J[(i+N*2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
      else:
        priorities[i*N+j][0] -= J[(i+N*2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
  
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.29517206790123396}
program:
def priority(N, h, J):
  total_spin = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      site1 = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
      site2 = (i + ((j+1)%N - N//2)) % N
      site3 = (i + ((j-1)%N - N//2)) % N
      site4 = (min((i+1)%N, j) + min(i,N-1)*N) % N
      total_spin[i*N+j][0] += h[site1][0]
      total_spin[i*N+j][1] -= h[site2][1]
      total_spin[i*N+j][0] += h[site3][2]
      total_spin[i*N+j][1] -= h[site4][3]
  return total_spin


#score: {'data2D.txt': -0.0010020061728395033}
program:
def priority(N, h, J):
  N2 = N*N
  J_flat = J.flatten()
  total_spin = np.zeros((N2, 2))
  
  for i in range(N2):
    site = (i // N + ((i % N) - 1) % N)
    if h[i//N][i%N] > 0:
      total_spin[i][0] += sum(J_flat[(site+1)%N*N:(site+2)%N2])
      total_spin[i][1] -= sum(J_flat[site*N:(site+1)*N])
    else:
      total_spin[i][0] -= sum(J_flat[site*N:(site+1)*N])
      total_spin[i][1] += sum(J_flat[(site+1)%N*N:(site+2)%N2])
  
  return total_spin


#score: {'data2D.txt': -0.02475632716049383}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  
  for i in range(N):
    row = []
    for j in range(N):
      site1 = (i + ((j-1)%2 - 1)) % N
      site2 = (i + ((j-1)%N - N//2)) % N
      
      if h[i][j] > 0:
        total_spin_site = state[i][site1]
        total_spin_neighbor1 = state[(i-1) if i > 0 else (i+1)][site1]
        total_spin_neighbor2 = state[site2][(j-1) if j > 0 else (j+1)]
        
        priority = -total_spin_site - total_spin_neighbor1 - total_spin_neighbor2
      else:
        total_spin_site = state[i][j]
        total_spin_neighbor1 = state[(i-1) if i > 0 else (i+1)][site1]
        total_spin_neighbor2 = state[site2][(j-1) if j > 0 else (j+1)]
        
        priority = -total_spin_site + total_spin_neighbor1 + total_spin_neighbor2
      
      row.append((priority, -priority))
    priorities.append(row)
  
  return [x for sublist in priorities for x in sublist]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for site in range(N**2):
    i = site // N
    j = site % N
    site_nbr = (i + ((j-1)%N - 1)) % N
    
    if h[i][j] > 0:
      priority_total[site][0] += 1
      priority_total[site][1] -= 1
    else:
      priority_total[site][0] -= 1
      priority_total[site][1] += 1
  
  return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
      spin = 1 if h[site_nbr][j] > 0 else -1
      total_spin[i*N+j][0] += spin
      total_spin[i*N+j][1] -= spin
  return [(total_spin[i][0],-total_spin[i][1]) for i in range(N**2)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  site_interactions = np.zeros((N2, 2))
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%2 - 1)) % N
        site_interactions[i*N+j, 0] += 1
        site_interactions[i*N+j, 1] -= 1
      else:
        site = (i + ((j-1)%N - N//2)) % N
        site_interactions[i*N+j, 0] += 1
        site_interactions[i*N+j, 1] -= 1

  return site_interactions.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N * N
  total_spin = np.zeros((N2, 2))
  for i in range(N):
    for j in range(N):
      site = (i + ((j - 1) % 2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i * N + j, 0] += 1
        total_spin[i * N + j, 1] -= 1
      else:
        site = (i + ((j - 1) % N - N // 2)) % N
        total_spin[i * N + j, 0] += 1
        total_spin[i * N + j, 1] -= 1

  priority_total = np.zeros((N2, 2))
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j - 1) % N - N // 2)) % N
        priority_total[i * N + j, 0] = total_spin[site * N + ((j - 1) % N), 0]
        priority_total[i * N + j, 1] = -total_spin[site * N + ((j - 1) % N), 1]
      else:
        site = (i + ((j - 1) % 2 - 1)) % N
        priority_total[i * N + j, 0] = total_spin[site * N + (j - 1) % N, 0]
        priority_total[i * N + j, 1] = -total_spin[site * N + (j - 1) % N, 1]

  return priority_total.tolist()


#score: {'data2D.txt': 0.0076563271604938275}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  priorities = []
  for i in range(N**2):
    total_spin = [0, 0]
    site_nbr = (i // N, i % N)
    for k in site_interaction:
      j_offset, i_offset = k
      if state[site_nbr[0]][(site_nbr[1]+i_offset)%N] == -1:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      elif state[site_nbr[0]][(site_nbr[1]+i_offset)%N] == 1:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([-1*total_spin[0], -1*total_spin[1]])
    else:
      priorities.append([total_spin[0], total_spin[1]])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priorities = []
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[i][j][1] -= 1
      else:
        priority_total[i][j][0] -= 1
  
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    site_interaction_values = []
    for k in site_interaction:
      j_offset, i_offset = k
      if state[site_nbr[0]][(site_nbr[1]+i_offset)%N] == -1:
        site_interaction_values.append(-J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N])
      else:
        site_interaction_values.append(J[i_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N])
    if state[site_nbr[0]][site_nbr[1]] == -1:
      priorities.append([sum(site_interaction_values), float('-inf')])
    else:
      priorities.append([-1*sum(site_interaction_values), float('-inf')])
  
  return(priorities)


#score: {'data2D.txt': -0.019344290123456787}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  
  for i in range(N):
    site_nbr = (i + ((i-1)%N - N//2)) % N
    for j in range(N):
      state[site_nbr][j] += state[i][j]
      total_spin[(i*N+j)][0] += h[i][j]*state[i][j]
      if h[i][j] > 0:
        total_spin[(i*N+j)][1] -= state[i][j]
      else:
        total_spin[(i*N+j)][1] += state[i][j]
  
  priority_total = [[x[0], x[1]] for x in total_spin]
  return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[site_nbr*N+int(j/N)][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[site_nbr*N+int(j/N)][1] += 1
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': 0.3341745370370361}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[site_nbr*N+int(j/N)][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[site_nbr*N+int(j/N)][1] += 1
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.reshape(-1, 4).swapaxes(0,1).flatten()
  sum1 = (np.prod(J_new[::2], 0) + h).flatten()
  sum2 = (-np.prod(J_new[1::2], 0)).flatten()
  priority = np.column_stack((sum1, -sum1))
  return(priority)


#score: {'data2D.txt': -0.008439043209876542}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      total_spin[i*N+j][1] -= h[site_nbr][j]
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[site_nbr*N+int(j/N)][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[site_nbr*N+int(j/N)][1] += 1
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      site = (i//N + ((i%N-1)%N - 1)) % N
    else:
      site = (i//N + ((i%N+1)%N - 1)) % N
    priority_total[i][0] += state[site][int(i%N/N)]
    priority_total[i][1] -= state[site][int(i%N/N)]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[site_nbr*N+int(j/N)][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[site_nbr*N+int(j/N)][1] += 1
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      site = (i//N + ((i%N-1)%N - N//2)) % N
      priority_total[i][0] += state[site][int((i%N)//N)]
      priority_total[i][1] -= state[site][int((i%N)//N)]
    else:
      site = (i//N + ((i%N-1)%N - N//2)) % N
      priority_total[i][0] -= state[site][int((i%N)//N)]
      priority_total[i][1] += state[site][int((i%N)//N)]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  J_flat = J.flatten()
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (i-1)%N, (i+1)%N]]
      
      total_spin = sum([h[x][y] for x, y in zip(site_nbrs, [j]*4)]) + h[i][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] += total_spin
        priority_total[i*N+j][1] -= total_spin
      else:
        priority_total[i*N+j][0] -= total_spin
        priority_total[i*N+j][1] += total_spin
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.00532916666666665}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = np.zeros((N2, 2))
  
  for i in range(N2):
    site = (i // N + ((i % N) - 1) % N)
    if h[i//N][i%N] > 0:
      priority_total[i][0] += sum(J[:,i*N:i*N+1].flatten())
      priority_total[i][1] -= sum(J.flatten()[(site+N2):(site+2)*N2])
    else:
      priority_total[i][0] -= sum(J.flatten()[(site):site+N2])
      priority_total[i][1] += sum(J[:,i*N:i*N+1].flatten())
  
  return priority_total


#score: {'data2D.txt': -0.0008804012345679006}
program:
def priority(N, h, J):
  priority_total = np.zeros((N**2, 2))
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] += sum(J[:, i*N+j:(site+1)*N].flatten())
        priority_total[i*N+j][1] -= sum(J[:, (site+N//2)*N+(j-1)%N:j*N].flatten())
      else:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] -= sum(J[:, i*N+j:(site+1)*N].flatten())
        priority_total[i*N+j][1] += sum(J[:, (site+N//2)*N+(j-1)%N:j*N].flatten())
  
  return priority_total


#score: {'data2D.txt': 0.33434367283950517}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[site_nbr*N+int(j/N)][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[site_nbr*N+int(j/N)][1] += 1
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      priority_total = [[-x[1], x[0]] for x in total_spin]
    else:
      priority_total = [[-x[0], -x[1]] for x in total_spin]
  return priority_total


#score: {'data2D.txt': -0.0008804012345679006}
program:
def priority(N, h, J):
  total_spin = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] += sum(J[:, i*N+j:(site+1)*N].flatten())
        total_spin[i*N+j][1] -= sum(J[:, (site+N//2)*N+(j-1)%N:j*N].flatten())
      else:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] -= sum(J[:, i*N+j:(site+1)*N].flatten())
        total_spin[i*N+j][1] += sum(J[:, (site+N//2)*N+(j-1)%N:j*N].flatten())
  return total_spin


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, -1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] += -J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= -J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    site = (site_nbr[0] + ((site_nbr[1]-1)%2 - 1)) % N
    if h[site_nbr[0]][site_nbr[1]] > 0:
      priority_total[i][0] = total_spin[0]
    else:
      priority_total[i][1] = -total_spin[0]
  return(priority_total)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[i][j][1] -= 1
      else:
        priority_total[i][j][0] -= 1
  return [[x[0], x[1]] for x in [y for sublist in priority_total for y in sublist]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N-1)%N - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += state[site_nbr][i%N]
      priority_total[i][1] -= state[site_nbr][i%N]
    else:
      priority_total[i][0] -= state[site_nbr][i%N]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.0024591049382716047}
program:
def priority(N, h, J):
  J_new = J.flatten().reshape((N*N,4))
  sums_0 = (J_new[:,0] + J_new[:,2]).flatten()
  sums_1 = (-J_new[:,1] - J_new[:,3]).flatten()
  return np.column_stack([sums_0,sums_1])


#score: {'data2D.txt': -0.0026791666666666665}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  site_map = {(i + ((j-1)%N - N//2)) % N: i*N+j for i in range(N) for j in range(N)}
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        total_spin[site_map[(i + ((j-1)%N - N//2)) % N]][0] += 1
        total_spin[site_map[(i + ((j-1)%N - N//2)) % N]][1] -= 1
      else:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        total_spin[site_map[site_nbr]][0] -= 1
        total_spin[site_map[site_nbr]][1] += 1
  return(total_spin)


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        for k in range(3):
          site_nbr = (i + ((k-1)%2 - 1)) % N
          if h[site_nbr][j] > 0:
            total_spin[i*N+j][0] += 1
            total_spin[i*N+j][1] -= 1
          else:
            total_spin[i*N+j][0] -= 1
            total_spin[i*N+j][1] += 1
  return total_spin


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % 2 - 1)) % N
    total_spin[i][0 if h[site_nbr][i % N] > 0 else 1] += 1
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j - 1) % N - 1)) % N
      if h[i][j] > 0:
        priority_total[i * N + j][0] += total_spin[site][0]
        priority_total[i * N + j][1] -= total_spin[site][0]
      else:
        priority_total[i * N + j][0] -= total_spin[site][0]
        priority_total[i * N + j][1] += total_spin[site][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.19548287037037057}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    if h[site_nbr][i%N] > 0:
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      total_spin[i][0] -= 1
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[site][0]
        priority_total[i*N+j][1] = -1*total_spin[site][0]
  return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00036404320987654283}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    total_spin[i][0 if h[site_nbr][i%N] > 0 else 1] += 1
  
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += total_spin[site][0]
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += total_spin[site][0]
  
  return [[x[0],-x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  N2 = N*N
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf'), float('inf')] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = ((i+1)%N + (j-1)%2) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priority_total[i*N+j][1] -= J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
      else:
        priority_total[i*N+j][0] -= J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001532561728395062}
program:
def priority(N, h, J):
  N2 = N*N
  priorities = [[0, 0] for _ in range(N2)]
  for i in range(N):
    for j in range(N):
      site_nbr1 = ((i+1)%N + (j-1)%2) % N
      site_nbr2 = (i+(j-1)%2) % N
      if h[i][j] > 0:
        priorities[i*N+j][0] += J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priorities[i*N+j][1] -= J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
      else:
        priorities[i*N+j][0] -= J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priorities[i*N+j][1] += J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.001532561728395062}
program:
def priority(N, h, J):
  N2 = N*N
  priorities = np.zeros((N2, 2))
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = ((i+1)%N + (j-1)%2) % N
      site_nbr2 = (i+(j-1)%2) % N
      
      if h[i][j] > 0:
        priorities[i*N+j, 0] += J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priorities[i*N+j, 1] -= J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
      else:
        priorities[i*N+j, 0] -= J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priorities[i*N+j, 1] += J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
  
  return priorities


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return priority


#score: {'data2D.txt': -0.15742885802469123}
program:
def priority(N, h, J):
  N2 = N*N
  priorities = [[0, 0] for _ in range(N2)]
  
  sum_1 = (np.prod(J[::4], 0) + h).flatten()
  sum_2 = (np.prod(J[1::4], 0) + h).flatten()
  
  priority = np.column_stack((sum_1, -sum_2))
  
  return priority.tolist()


#score: {'data2D.txt': 0.33038040123456697}
program:
def priority(N, h, J):
  site_priority = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        site_nbr = (site + ((site//N - 1) % N - 1)) % N
        site_priority[i*N+j][0] += 1
        site_priority[site_nbr*N+int((j-1)//N)][1] -= 1
      else:
        site = (i + ((j-1)%N - N//2)) % N
        site_nbr = (site + ((site//N - 1) % N - 1)) % N
        site_priority[i*N+j][0] -= 1
        site_priority[site_nbr*N+int((j-1)//N)][1] += 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = ((i + (j-1)%N)//(N//2), (i + (j+1)%N)//(N//2))
      for k in [0, 1]:
        if h[site_nbr[k]][j] > 0:
          priority_total[i*N+j][0] += state[site_nbr[k]][j]
          priority_total[i*N+j][1] -= state[site_nbr[k]][j]
        else:
          priority_total[i*N+j][0] -= state[site_nbr[k]][j]
          priority_total[i*N+j][1] += state[site_nbr[k]][j]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [sum(s) for s in zip(*[s for s in state])]
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j - 1) % N - 1)) % N
      if h[i][j] > 0:
        priority_total[i * N + j][0] += total_spin[site_nbr]
        priority_total[i * N + j][1] -= total_spin[site_nbr]
      else:
        priority_total[i * N + j][0] -= total_spin[site_nbr]
        priority_total[i * N + j][1] += total_spin[site_nbr]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        priorities[i][j][0] += 2
        priorities[i][j][1] -= 2
      elif all(h[site_nbr][j] < 0 for site_nbr in site_nbrs):
        priorities[i][j][0] -= 2
        priorities[i][j][1] += 2
  return [[x[0], x[1]] for x in [item for sublist in priorities for item in sublist]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[i][j][1] -= 1
      else:
        priority_total[i][j][0] -= 1
  for k in range(3):
    site_nbr = (i + ((k-1)%2 - 1)) % N
    if h[site_nbr][j] > 0:
      priority_total[i][j][0] += 1
      priority_total[i][j][1] -= 1
    else:
      priority_total[i][j][0] -= 1
  return [[x[0], x[1]] for x in [item for sublist in priority_total for item in sublist]]


#score: {'data2D.txt': -0.0010887345679012352}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  site_spin_sum = sum(sum(state[i]) for i in range(N))
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j][0] += -1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % 2)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] -= J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] += J[site_nbr*N+(i%N)//2::4].sum()
    else:
      priority_total[i][0] += J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] -= J[site_nbr*N+(i%N)//2::4].sum()
  
  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = [(i + ((k-1)%2 - 1)) % N for k in [0,1]]
      total_spin = sum(s for s in (state[i][j], state[site_nbr[0]][j], state[site_nbr[1]][j]))
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
      else:
        priority_total[i*N+j][1] = -1*total_spin
  return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.00042854938271604957}
program:
def priority(N, h, J):
  site_priority = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        for k in [(i-1)%N,i,(i+1)%N]:
          for l in [(j-1)%N,j,(j+1)%N]:
            site_nbr = (k*N+l)
            if i == k and j != l: 
              site_priority[i*N+j][0] += 1
              site_priority[site_nbr][1] -= 1
            elif i != k and j == l:
              site_priority[i*N+j][0] -= 1
              site_priority[site_nbr][1] += 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': 0.06996651234567904}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = []
      if (i+1)%N != 0:
        site_nbrs.append((i+1)%N*N + j)
      if i != 0:
        site_nbrs.append(i*N+j-1)
      if (j+1)%N != 0:
        site_nbrs.append(i*N+(j+1)%N - N//2)
      for k in site_nbrs:
        total_spin = h[k//N][k%N]
        if h[i][j] > 0:
          priority_total[k//N*N+k%N][0] += total_spin
          priority_total[k//N*N+k%N][1] -= total_spin
        else:
          priority_total[k//N*N+k%N][0] -= total_spin
          priority_total[k//N*N+k%N][1] += total_spin
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        site_nbr = (i + ((j+1)%N - N//2)) % N
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  site_spin_sum = sum(sum(state[i]) for i in range(N))
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += -site_spin_sum
        priority_total[i*N+j][1] -= -site_spin_sum
      else:
        priority_total[i*N+j][0] -= site_spin_sum
        priority_total[i*N+j][1] += site_spin_sum
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % 2)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] -= J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] += J[site_nbr*N+(i%N)//2::4].sum()
    else:
      priority_total[i][0] += J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] -= J[site_nbr*N+(i%N)//2::4].sum()
  return [x for x in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.0006516975308641969}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  site_spin_sum = sum(sum(state[i]) for i in range(N))
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
      
      if h[i][j] > 0:
        site_spin_sum -= J[site_nbr*N+(j-1)//2::4].sum()
      else:
        site_spin_sum += J[site_nbr*N+(j-1)//2::4].sum()
  
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      priority_total[i][0] -= site_spin_sum
      priority_total[i][1] += site_spin_sum
    else:
      priority_total[i][0] += site_spin_sum
      priority_total[i][1] -= site_spin_sum
  
  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (2, -1), (-1, 1)]:
      j_offset, i_offset = k
      if state[site_nbr[0]][(site_nbr[1]+i_offset)%N] == -1:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] += -J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= -J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priority_total[i][0] = total_spin[0]
    else:
      priority_total[i][1] = -total_spin[0]
  return [[priority_total[i][0], float('-inf')] if h[i//N][i%N] > 0 else [-1*priority_total[i][0], float('-inf')] for i in range(N**2)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  for i in range(N**2):
    site = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (2, -1), (-1, 1)]:
      j_offset, i_offset = k
      if h[site[0]][(site[1]+i_offset)%N] > 0:
        total_spin[0] += J[j_offset][site[0]][(site[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site[0]][(site[1]-j_offset)%N]
      else:
        total_spin[0] += -J[j_offset][site[0]][(site[1]+i_offset)%N]
        total_spin[1] -= -J[i_offset][site[0]][(site[1]-j_offset)%N]
    state[site[0]][site[1]] += total_spin[0]
    if h[site[0]][site[1]] > 0:
      priority_total[i][0] = total_spin[0]
    else:
      priority_total[i][1] = -total_spin[0]
  return [[priority_total[i][0], float('-inf')] if h[i//N][i%N] > 0 else [-1*priority_total[i][0], float('-inf')] for i in range(N**2)]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  N4 = N * N
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return priority.reshape(N4, 2)


#score: {'data2D.txt': 0.3341745370370361}
program:
def priority(N, h, J):
  total_priority = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
    if h[i//N][i%N] > 0:
      total_priority[i][0] += 1
      total_priority[site_nbr*N+int(i%N/N)][1] -= 1
    else:
      total_priority[i][0] -= 1
      total_priority[site_nbr*N+int(i%N/N)][1] += 1
  return [[-x[1], x[0]] for x in total_priority]


#score: {'data2D.txt': 0.33038040123456697}
program:
def priority(N, h, J):
  site_priority = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        site_nbr = (site + ((site//N - 1) % N - 1)) % N
        site_priority[i*N+j][0] += 1
        site_priority[site_nbr*N+int((j-1)//N)][1] -= 1
      else:
        site = (i + ((j-1)%N - N//2)) % N
        site_nbr = (site + ((site//N - 1) % N - 1)) % N
        site_priority[i*N+j][0] -= 1
        site_priority[site_nbr*N+int((j-1)//N)][1] += 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': 0.33434212962962867}
program:
def priority(N, h, J):
  site_priority = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        site_nbr = (site + ((site//N - 1) % N - 1)) % N
        site_priority[i*N+j][0] += 1
        if j < N-1:
          site_priority[site_nbr*N+int((j+1)//N)][1] -= 1
      else:
        site = (i + ((j-1)%N - N//2)) % N
        site_nbr = (site + ((site//N - 1) % N - 1)) % N
        site_priority[i*N+j][0] -= 1
        if j < N-1:
          site_priority[site_nbr*N+int((j+1)//N)][1] += 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += sum(J[:, i*N+j:(site_nbr+1)*N].flatten())
        priority_total[i*N+j][1] -= sum(J[:, (site_nbr+N//2)*N+(j-1)%N:j*N].flatten())
      else:
        priority_total[i*N+j][0] -= sum(J[:, i*N+j:(site_nbr+1)*N].flatten())
        priority_total[i*N+j][1] += sum(J[:, (site_nbr+N//2)*N+(j-1)%N:j*N].flatten())
  return [[x[0], x[1]] for i in range(N**2) for x in [priority_total[i]]]


#score: {'data2D.txt': -0.0008804012345679006}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += sum(J[:, i*N+j:(site_nbr+1)*N].flatten())
        total_spin[i*N+j][1] -= sum(J[:, (site_nbr+N//2)*N+(j-1)%N:j*N].flatten())
      else:
        total_spin[i*N+j][0] -= sum(J[:, i*N+j:(site_nbr+1)*N].flatten())
        total_spin[i*N+j][1] += sum(J[:, (site_nbr+N//2)*N+(j-1)%N:j*N].flatten())
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin = sum(J[:, i*N+j:(site_nbr+1)*N].flatten()) - sum(J[:, (site_nbr+N//2)*N+(j-1)%N:j*N].flatten())
        priority_total[i*N+j][0] = total_spin
      else:
        total_spin = -sum(J[:, i*N+j:(site_nbr+1)*N].flatten()) + sum(J[:, (site_nbr+N//2)*N+(j-1)%N:j*N].flatten())
        priority_total[i*N+j][1] = -total_spin
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr1 = (i + ((j-1)%N - N//2)) % N
      site_nbr2 = (i + ((j+1)%N - N//2)) % N
      total_spin = [0, 0]
      if h[i][j] > 0:
        total_spin[0] += sum(J[:, i*N+j:(site_nbr1+1)*N].flatten())
        total_spin[0] -= sum(J[:, (site_nbr1+N//2)*N+(j-1)%N:j*N].flatten())
        total_spin[1] -= sum(J[:, i*N+j:(site_nbr2+1)*N].flatten())
        total_spin[1] += sum(J[:, (site_nbr2+N//2)*N+(j+1)%N:(i+1)*N, :].flatten())
      else:
        total_spin[0] -= sum(J[:, i*N+j:(site_nbr1+1)*N].flatten())
        total_spin[0] += sum(J[:, (site_nbr1+N//2)*N+(j-1)%N:j*N].flatten())
        total_spin[1] += sum(J[:, i*N+j:(site_nbr2+1)*N].flatten())
        total_spin[1] -= sum(J[:, (site_nbr2+N//2)*N+(j+1)%N:(i+1)*N, :].flatten())
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[0]
        priority_total[i*N+j][1] = -total_spin[1]
      else:
        priority_total[i*N+j][0] = -total_spin[0]
        priority_total[i*N+j][1] = total_spin[1]
  return priority_total


#score: {'data2D.txt': -0.0008804012345679006}
program:
def priority(N, h, J):
  total_spin = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in range(3)]
      if h[i][j] > 0:
        total_spin[i*N+j][0] = sum(J[:, i*N+j:(site_nbrs[0]+1)*N].flatten()) + \
                     sum(J[:, (site_nbrs[0]+1)*N+(j-1)%N:j*N].flatten())
        total_spin[i*N+j][1] = -total_spin[i*N+j][0]
      else:
        total_spin[i*N+j][0] = -sum(J[:, i*N+j:(site_nbrs[0]+1)*N].flatten()) - \
                     sum(J[:, (site_nbrs[0]+1)*N+(j-1)%N:j*N].flatten())
        total_spin[i*N+j][1] = -total_spin[i*N+j][0]
  return [x.tolist() for x in total_spin]


#score: {'data2D.txt': -0.0008804012345679006}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr1 = (i + ((j-1)%N - N//2)) % N
      site_nbr2 = (i + ((j+1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] = sum(J[:, i*N+j:(site_nbr1+1)*N].flatten()) + sum(J[:, i*N+j:(site_nbr2+1)*N].flatten())
        priority_total[i*N+j][1] = -sum(J[:, i*N+j:(site_nbr1+1)*N].flatten()) - sum(J[:, i*N+j:(site_nbr2+1)*N].flatten())
      else:
        priority_total[i*N+j][0] = -sum(J[:, i*N+j:(site_nbr1+1)*N].flatten()) - sum(J[:, i*N+j:(site_nbr2+1)*N].flatten())
        priority_total[i*N+j][1] = sum(J[:, i*N+j:(site_nbr1+1)*N].flatten()) + sum(J[:, i*N+j:(site_nbr2+1)*N].flatten())
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      spin = -1 if h[i][j] > 0 else 1
      total_spin[site_nbr][spin==1] += 1
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] = total_spin[site_nbr][1]
    else:
      priority_total[i][1] = -1*total_spin[site_nbr][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0008804012345679006}
program:
def priority(N, h, J):
  N2 = N*N
  return [[sum(J[:, i*N+j:(i+1)*N].flatten()) + sum(J[:, (i+1)*N:j+N].flatten()) if h[i][j] > 0 else -sum(J[:, i*N+j:(i+1)*N].flatten()) - sum(J[:, (i+1)*N:j+N].flatten()), 
      -sum(J[:, i*N+j:(i+1)*N].flatten()) - sum(J[:, (i+1)*N:j+N].flatten()) if h[i][j] > 0 else sum(J[:, i*N+j:(i+1)*N].flatten()) + sum(J[:, (i+1)*N:j+N].flatten())]
      for i in range(N) for j in range(N)]


#score: {'data2D.txt': -0.0017233024691358026}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = np.zeros((N2, 2))
  for i in range(N2):
    site = (i // N + ((i % N) - 1) % N)
    k = i + N//2
    if h[i//N][i%N] > 0:
      total_spin[i][0] += sum(J[k%N*N:(k+1)%N*N].flatten())
      total_spin[i][1] -= sum(J[k%N*N:(k+1)%N*N].flatten())
    else:
      total_spin[i][0] -= sum(J[k%N*N:(k+1)%N*N].flatten())
      total_spin[i][1] += sum(J[k%N*N:(k+1)%N*N].flatten())
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.0008804012345679006}
program:
def priority(N, h, J):
  priority_total = np.zeros((N*N, 2))
  N2 = N*N
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = (i + ((j-1)%N - N//2)) % N
      site_nbr2 = (i + ((j+1)%N - N//2)) % N
      
      if h[i][j] > 0:
        priority_total[i*N+j][0] += sum(J[:, i*N+j:(site_nbr1+1)*N].flatten()) + sum(J[:, i*N+j:(site_nbr2+1)*N].flatten())
        priority_total[i*N+j][1] -= sum(J[:, i*N+j:(site_nbr1+1)*N].flatten()) - sum(J[:, i*N+j:(site_nbr2+1)*N].flatten())
      else:
        priority_total[i*N+j][0] -= sum(J[:, i*N+j:(site_nbr1+1)*N].flatten()) - sum(J[:, i*N+j:(site_nbr2+1)*N].flatten())
        priority_total[i*N+j][1] += sum(J[:, i*N+j:(site_nbr1+1)*N].flatten()) + sum(J[:, i*N+j:(site_nbr2+1)*N].flatten())
  
  return priority_total.tolist()


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = np.zeros((2,N**2))
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[0, i*N+j] += 1
        total_spin[1, i*N+j] -= 1
      else:
        total_spin[0, i*N+j] -= 1
        total_spin[1, i*N+j] += 1
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][site_nbr] > 0:
        total_spin[0, i*N+site_nbr] += 1
        total_spin[1, i*N+site_nbr] -= 1
  return(total_spin.T)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  site_spin_sum = sum(sum(state[i]) for i in range(N))
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += site_spin_sum
        priority_total[i*N+j][1] -= site_spin_sum
      else:
        priority_total[i*N+j][0] -= site_spin_sum
        priority_total[i*N+j][1] += site_spin_sum
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % 2)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] -= J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] += J[site_nbr*N+(i%N)//2::4].sum()
    else:
      priority_total[i][0] += J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] -= J[site_nbr*N+(i%N)//2::4].sum()
  return [x for x in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.0008449074074074074}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j - 1) % 2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += state[site_nbr][j]
        priority_total[i*N+j][1] -= state[site_nbr][j]
      else:
        priority_total[i*N+j][0] -= state[site_nbr][j]
        priority_total[i*N+j][1] += state[site_nbr][j]
  
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % 2)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] -= J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] += J[site_nbr*N+(i%N)//2::4].sum()
    else:
      priority_total[i][0] += J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] -= J[site_nbr*N+(i%N)//2::4].sum()
  
  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.0015118827160493827}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += J[site_nbr*N+(j-1)//2::4].sum()
        priority_total[i*N+j][1] -= J[site_nbr*N+(j-1)//2::4].sum()
      else:
        priority_total[i*N+j][0] -= J[site_nbr*N+(j-1)//2::4].sum()
        priority_total[i*N+j][1] += J[site_nbr*N+(j-1)//2::4].sum()
  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.15006373456790123}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin_0 = sum([J[k][site_nbr[0]][(site_nbr[1]-k+3)%N] for k in [1, 2]])
    total_spin_1 = sum([J[k][site_nbr[0]][(site_nbr[1]+k-1)%N] for k in [-1, 1]])
    priorities.append([-1*total_spin_0, total_spin_1])
  return(priorities)


#score: {'data2D.txt': -0.0014563271604938269}
program:
def priority(N, h, J):
  N2 = N*N
  priorities = [[0., 0.] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = ((i+1)%N + (j-1)%2) % N
      site_nbr2 = (i+(j-1)%2) % N
      
      if h[i][j] > 0:
        priorities[i*N+j][0] += J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priorities[i*N+j][1] -= J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
      else:
        priorities[i*N+j][0] -= J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priorities[i*N+j][1] += J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
      
      site_nbr3 = (site_nbr1 + (j-1)%2) % N
      site_nbr4 = ((i+1)%N + site_nbr2) % N
      
      if h[i][j] > 0:
        priorities[i*N+j][0] += J[(i+N2*j):(i+1), site_nbr3, :].sum()
        priorities[i*N+j][1] -= J[(i+N2*j):(i+1), site_nbr4, :].sum()
      else:
        priorities[i*N+j][0] -= J[(i+N2*j):(i+1), site_nbr3, :].sum()
        priorities[i*N+j][1] += J[(i+N2*j):(i+1), site_nbr4, :].sum()
  
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.34222021604938163}
program:
def priority(N, h, J):
  N2 = N*N
  priorities = np.zeros((N2, 2))
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = ((i+1)%N + (j-1)%2) % N
      site_nbr2 = (i+(j-1)%2) % N
      
      if h[i][j] > 0:
        priorities[i*N+j, 0] += J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priorities[i*N+j, 1] -= J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
      else:
        priorities[i*N+j, 0] -= J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priorities[i*N+j, 1] += J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
  
  for i in range(N):
    for j in range(N):
      site = ((i + ((j-1)%2 - 1)) % N)
      if h[i][j] > 0:
        priorities[i*N+j, 0] += 1
        priorities[i*N+j, 1] -= 1
      else:
        priorities[i*N+j, 0] -= 1
  
  return priorities


#score: {'data2D.txt': -0.0013930555555555554}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = ((i+1)%N + (j-1)%2) % N
      site_nbr2 = (i+(j-1)%2) % N
      
      if h[i][j] > 0:
        priorities.append([-J[(i+N*N*j):(i+1),site_nbr1, :].sum(), -J[(i+N*N*j):(i+1),site_nbr2, :].sum()])
      else:
        priorities.append([J[(i+N*N*j):(i+1),site_nbr1, :].sum(), J[(i+N*N*j):(i+1),site_nbr2, :].sum()])
  
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i+(k-1)%2-1)%N for k in range(4) if (abs(k-1))!=1]
      if h[i][j] > 0:
        for site_nbr in site_nbrs:
          priority_total[i][j][0] += state[site_nbr][j]
          priority_total[i][j][1] -= state[site_nbr][j]
      else:
        for site_nbr in site_nbrs:
          priority_total[i][j][0] -= state[site_nbr][j]
          priority_total[i][j][1] += state[site_nbr][j]
  return [[x[0], x[1]] for x in [list(y) for y in itertools.chain(*priority_total)]]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  priorities = [[x[0], x[1]] for x in total_spin]
  return priorities


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%2 - 1)) % N
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        site_nbr = (i + ((j-1)%2 - 1)) % N
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  total_spin = [0.0, 0.0]
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = ((i+1)%N + (j-1)%2) % N
      site_nbr2 = (i+(j-1)%2) % N
      
      if h[i][j] > 0:
        priority_total[i*N+j][0] += J[(i+N**2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priority_total[i*N+j][1] -= J[(i+N**2*j):(i+1), (i+(j-1)%2) % N, :].sum()
        total_spin[0] += h[i][j]
      else:
        priority_total[i*N+j][0] -= J[(i+N**2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priority_total[i*N+j][1] += J[(i+N**2*j):(i+1), (i+(j-1)%2) % N, :].sum()
        total_spin[1] -= h[i][j]
      
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] = total_spin[0]
      else:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][1] = -total_spin[1]
  
  return [[x, y] for x, y in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = ((i+1)%N + (j-1)%2) % N
      site_nbr2 = (i+(j-1)%2) % N
      
      if h[i][j] > 0:
        priority_total[i*N+j][0] += J[(i+N**2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priority_total[i*N+j][1] -= J[(i+N**2*j):(i+1), (i+(j-1)%2) % N, :].sum()
      else:
        priority_total[i*N+j][0] -= J[(i+N**2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priority_total[i*N+j][1] += J[(i+N**2*j):(i+1), (i+(j-1)%2) % N, :].sum()
      
      site_nbr3 = (site_nbr1 + (j-1)%2) % N
      site_nbr4 = ((i+1)%N + site_nbr2) % N
      
      if h[i][j] > 0:
        priority_total[i*N+j][0] += J[(i+N**2*j):(i+1), site_nbr3, :].sum()
        priority_total[i*N+j][1] -= J[(i+N**2*j):(i+1), site_nbr4, :].sum()
      else:
        priority_total[i*N+j][0] -= J[(i+N**2*j):(i+1), site_nbr3, :].sum()
        priority_total[i*N+j][1] += J[(i+N**2*j):(i+1), site_nbr4, :].sum()
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.05013564814814815}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, -1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] += -J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= -J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    site = (site_nbr[0] + ((site_nbr[1]-1)%2 - 1)) % N
    if h[site_nbr[0]][site_nbr[1]] > 0:
      priorities.append([total_spin[0], -total_spin[1]])
    else:
      priorities.append([-total_spin[0], total_spin[1]])
  return(priorities)


#score: {'data2D.txt': 1.6512345679012274e-05}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    site = (site_nbr[0] + ((site_nbr[1]-1)%2 - 1)) % N
    if h[i//N][i%N] > 0:
      priorities.append([-J[1][site_nbr[0]][(site_nbr[1]+1)%N] - J[0][site_nbr[0]][(site_nbr[1]-1)%N], 
               J[1][site_nbr[0]][(site_nbr[1]+1)%N] + J[0][site_nbr[0]][(site_nbr[1]-1)%N]])
    else:
      priorities.append([J[1][site_nbr[0]][(site_nbr[1]+1)%N] + J[0][site_nbr[0]][(site_nbr[1]-1)%N], 
               -J[1][site_nbr[0]][(site_nbr[1]+1)%N] - J[0][site_nbr[0]][(site_nbr[1]-1)%N]])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
      
  return [[x, -y] for x,y in total_spin]


#score: {'data2D.txt': 0.20156712962962972}
program:
def priority(N, h, J):
  N2 = N*N
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [sum([state[i][j]*1 for j in range(N)]) for i in range(N)]
  
  priorities = []
  for i in range(N2):
    site_nbr1 = ((i//N+1)%N + (i%N-1)%2) % N
    site_nbr2 = (i//N+(i%N-1)%2) % N
    
    if h[i//N][i%N] > 0:
      priorities.append([total_spin[site_nbr1] - total_spin[site_nbr2], total_spin[site_nbr1] + total_spin[site_nbr2]])
    else:
      priorities.append([-total_spin[site_nbr1] + total_spin[site_nbr2], -total_spin[site_nbr1] - total_spin[site_nbr2]])
  
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  N2 = N*N
  priorities = [[float('-inf'), float('inf')] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = ((i+1)%N + (j-1)%2) % N
      site_nbr2 = (i+(j-1)%2) % N
      
      if h[i][j] > 0:
        priorities[i*N+j][0] += J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priorities[i*N+j][1] -= J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
      else:
        priorities[i*N+j][0] -= J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priorities[i*N+j][1] += J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
      
      site_nbr3 = (site_nbr1 + (j-1)%2) % N
      site_nbr4 = ((i+1)%N + site_nbr2) % N
      
      if h[i][j] > 0:
        priorities[i*N+j][0] += J[(i+N2*j):(i+1), site_nbr3, :].sum()
        priorities[i*N+j][1] -= J[(i+N2*j):(i+1), site_nbr4, :].sum()
      else:
        priorities[i*N+j][0] -= J[(i+N2*j):(i+1), site_nbr3, :].sum()
        priorities[i*N+j][1] += J[(i+N2*j):(i+1), site_nbr4, :].sum()
  
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N2)]
  for i in range(N2):
    site = (i // N + ((i % N) - 1) % N)
    if h[i//N][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
  return priority_total


#score: {'data2D.txt': 0.0039208333333333335}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        state[i][j] = 1
        total_spin[i*N+j][0] += 1
        total_spin[site_nbr*N+int(j/N)][1] -= 1
      else:
        state[i][j] = -1
        total_spin[i*N+j][0] -= 1
        total_spin[site_nbr*N+int(j/N)][1] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if state[i][j] == -1:
        total_spin[i*N+j][0] -= 1
        total_spin[(i+1)%N*N+j][1] += 1
        priority_total[i*N+j][0] = 2*total_spin[i*N+j][0]
        priority_total[i*N+j][1] = -2*total_spin[i*N+j][1]
      else:
        total_spin[i*N+j][0] += 1
        total_spin[(i+1)%N*N+j][1] -= 1
        priority_total[i*N+j][0] = -2*total_spin[i*N+j][0]
        priority_total[i*N+j][1] = 2*total_spin[i*N+j][1]
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.06341527777777779}
program:
def priority(N, h, J):
  total_spin = np.zeros((2, N**2))
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%N - 1)) % N for k in range(3)]
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        total_spin[0, i*N+j] += 1
        total_spin[1, i*N+j] -= 1
      else:
        total_spin[0, i*N+j] -= 1
        total_spin[1, i*N+j] += 1
  return(total_spin.T)


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum2 = (np.prod(J_new[1::4], 0) + h).flatten()
  sum3 = (np.prod(J_new[2::4], 0) + h).flatten()
  sum4 = (np.prod(J_new[3::4], 0) + h).flatten()
  priority = np.column_stack((sum1, -sum2)) + np.column_stack((sum3, -sum4))
  return(priority)


#score: {'data2D.txt': -0.0009396604938271618}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  site_map = {(i + ((j-1)%N - N//2)) % N: i*N+j for i in range(N) for j in range(N)}
  for k in range(3):
    site_nbr = (k-1)%2
    for i in range(N**2):
      total_spin[i][0] += h[site_map[k]%N][i%N]
      total_spin[i][1] -= -h[site_map[k]%N][i%N]
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    if h[i//N][i%N]>0:
      priority_total[i][0] = total_spin[i][0]
      priority_total[i][1] = -1*total_spin[i][0]
    else:
      priority_total[i][1] = total_spin[i][0]
      priority_total[i][0] = -1*total_spin[i][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priority_total = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.01437175925925926}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += np.sum(J[:,i,j])
        priority_total[i*N+j][1] -= np.sum(J[:,i,j])
      else:
        priority_total[i*N+j][0] -= np.sum(J[:,i,j])
  return priority_total


#score: {'data2D.txt': -0.00175787037037037}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = np.zeros((N2, 2))
  for i in range(N2):
    site = (i % N + ((i//N-1)%2 - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += sum(J[site*N:(site+1)*N].flatten())
      priority_total[i][1] -= sum(J[site*N:(site+1)*N].flatten())
    else:
      priority_total[i][0] -= sum(J[site*N:(site+1)*N].flatten())
  return priority_total.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[site_nbr][j] > 0:
        priority_total[i*N+j][0] += total_spin[i*N+j][0]
        priority_total[i*N+j][1] -= total_spin[i*N+j][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.19548287037037057}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    if h[site_nbr][i%N] > 0:
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      total_spin[i][0] -= 1
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[site][0]
        priority_total[i*N+j][1] = -1*total_spin[site][0]
  return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0017233024691358026}
program:
def priority(N, h, J):
  N2 = N * N
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = np.zeros((N2, 2))
  for i in range(N2):
    site = (i // N + ((i % N) - 1) % N)
    k = i + N//2
    if h[i//N][i%N] > 0:
      total_spin[i][0] += sum(J[k%N*N:(k+1)%N*N].flatten())
      total_spin[i][1] -= sum(J[k%N*N:(k+1)%N*N].flatten())
    else:
      total_spin[i][0] -= sum(J[k%N*N:(k+1)%N*N].flatten())
      total_spin[i][1] += sum(J[k%N*N:(k+1)%N*N].flatten())
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.0017233024691358026}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = [[0, 0] for _ in range(N2)]
  for i in range(N2):
    site = (i // N + ((i % N) - 1) % N)
    k = i + N//2
    if h[i//N][i%N] > 0:
      total_spin[i][0] += sum(J[k%N*N:(k+1)%N*N].flatten())
      total_spin[i][1] -= sum(J[k%N*N:(k+1)%N*N].flatten())
    else:
      total_spin[i][0] -= sum(J[k%N*N:(k+1)%N*N].flatten())
      total_spin[i][1] += sum(J[k%N*N:(k+1)%N*N].flatten())
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = [[float('inf') for _ in range(2)] for _ in range(N2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += sum(J[site*N:(site+1)*N].flatten())
        priority_total[i*N+j][1] -= sum(J[site*N:(site+1)*N].flatten())
      else:
        priority_total[i*N+j][0] -= sum(J[site*N:(site+1)*N].flatten())
        priority_total[i*N+j][1] += sum(J[site*N:(site+1)*N].flatten())
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  J_new = J.flatten()
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr1 = ((i+1)%N + (j-1)%N) % N
        site_nbr2 = (i+(j-1)%N - N//2) % N
        priority_total[i*N+j][0] += J_new[4*(site_nbr1*N+j) + 3]
        priority_total[i*N+j][1] -= J_new[4*(site_nbr2*N+i) + 0]
      else:
        site_nbr1 = ((i+1)%N + (j-1)%N) % N
        site_nbr2 = (i+(j-1)%N - N//2) % N
        priority_total[i*N+j][0] -= J_new[4*(site_nbr1*N+j) + 3]
        priority_total[i*N+j][1] += J_new[4*(site_nbr2*N+i) + 0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = [[0,0] for _ in range(N2)]
  
  for i in range(N2):
    site_nbr1 = ((i//N+1)%N + (i%N-1)%2) % N
    site_nbr2 = (i//N+(i%N-1)%2) % N
    
    if h[i//N][i%N] > 0:
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      total_spin[i][0] -= 1
      total_spin[i][1] += 1
      
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': 0.17344953703703703}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = sum(1 if J[(j%N)%4][site_nbr[0]][(site_nbr[1]+j-1)%N] > 0 else -1*1 if J[(j%N)%4][site_nbr[0]][(site_nbr[1]-j+1)%N] > 0 else 0 for j in range(4))
    priorities.append([total_spin, -1*total_spin])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[[0,0] for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0][0] += 1
        priority_total[site_nbr*N+int((j+1)//N)][0][1] -= 1
        priority_total[i*N+j][1][0] -= 1
      else:
        priority_total[i*N+j][0][0] -= 1
        priority_total[site_nbr*N+int((j+1)//N)][0][1] += 1
        priority_total[i*N+j][1][0] += 1
  return [[-x[1][0], x[0][0]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[site_nbr*N+int(i%N/N)][1] -= 1
    else:
      priority_total[i][0] -= 1
      priority_total[site_nbr*N+int(i%N/N)][1] += 1
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = [[[float('inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += sum(J[site*N:(site+1)*N].flatten())
        priority_total[i][j][1] -= sum(J[site*N:(site+1)*N].flatten())
      else:
        priority_total[i][j][0] -= sum(J[site*N:(site+1)*N].flatten())
        priority_total[i][j][1] += sum(J[site*N:(site+1)*N].flatten())
  return [[x[0], x[1]] for x in [y for sub_list in priority_total for y in sub_list]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N2)]

  for i, row in enumerate(state):
    for j, spin in enumerate(row):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += sum(J[site*N:(site+1)*N].flatten())
        priority_total[i*N+j][1] -= sum(J[site*N:(site+1)*N].flatten())
      else:
        priority_total[i*N+j][0] -= sum(J[site*N:(site+1)*N].flatten())
        priority_total[i*N+j][1] += sum(J[site*N:(site+1)*N].flatten())

  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0009464506172839506}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      total_spin[i*N+j][0 if h[i][j] > 0 else 1] += sum(J[site*N:(site+1)*N].flatten())
  return [[total_spin[i][0], total_spin[i][1]] for i in range(N**2)]


#score: {'data2D.txt': -0.0011384259259259262}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        total_spin[i*N+j][0] += 2
        total_spin[i*N+j][1] -= 2
      elif any(h[site_nbr][j] < 0 for site_nbr in site_nbrs):
        if all(h[site_nbr][j] < 0 for site_nbr in site_nbrs) or h[i][j] > 0:
          total_spin[i*N+j][0] -= 1
          total_spin[i*N+j][1] += 1
        else:
          total_spin[i*N+j][0] += 1
          total_spin[i*N+j][1] -= 1
  return [[x, y] for x, y in sorted([(a, b) for a, b in total_spin], reverse=True)]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.reshape(-1,4).T.flatten()
  sum_1 = (np.prod(J_new[::2],0) + h).flatten()
  sum_2 = (np.prod(J_new[1::2],0) + h).flatten()
  priority = np.column_stack((sum_1,-sum_2))
  return(priority)


#score: {'data2D.txt': -0.0009464506172839506}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = np.zeros((N2, 2))
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += sum(J[site*N:(site+1)*N].flatten())
        total_spin[i*N+j][1] -= sum(J[site*N:(site+1)*N].flatten())
      else:
        total_spin[i*N+j][0] -= sum(J[site*N:(site+1)*N].flatten())
  return total_spin.tolist()


#score: {'data2D.txt': -0.0009464506172839506}
program:
def priority(N, h, J):
  N2 = N * N
  total_spin = np.zeros((N2, 2))
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += sum(J[site*N:(site+1)*N].flatten())
        total_spin[i*N+j][1] -= sum(J[site*N:(site+1)*N].flatten())
      else:
        total_spin[i*N+j][0] -= sum(J[site*N:(site+1)*N].flatten())
  return total_spin.tolist()


#score: {'data2D.txt': -0.00045910493827160424}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = np.zeros((N2, 2))
  for i in range(N2):
    site = (i % N + ((i//N-1)%2 - 1)) % N
    k = i + N//2
    if h[i//N][i%N] > 0:
      total_spin[i][0] += sum(J[k%N*N:(k+1)%N*N].flatten()) + (h[i//N][i%N]-h[(site+N)//N][(site+N)%N])
      total_spin[i][1] -= sum(J[k%N*N:(k+1)%N*N].flatten())
    else:
      total_spin[i][0] -= sum(J[k%N*N:(k+1)%N*N].flatten()) + (h[i//N][i%N]-h[(site+N)//N][(site+N)%N])
      total_spin[i][1] += sum(J[k%N*N:(k+1)%N*N].flatten())
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': 0.1019699074074074}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(4):
        site = (i + ((k-1)%2 - 1)) % N
        if h[i][j] > 0:
          priority_total[i*N+j][0] += J[k,i,j]
          priority_total[i*N+j][1] -= J[k,i,j]
        else:
          total_spin += J[k,i,j]
      if total_spin != 0:
        if total_spin > 0:
          priority_total[i*N+j][0] = total_spin
        else:
          priority_total[i*N+j][1] = -total_spin
  return priority_total


#score: {'data2D.txt': 0.29374521604938286}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += np.sum(J[:,i,j])
        priority_total[i*N+j][1] -= np.sum(J[site*N:(site+1)*N].flatten())
      else:
        priority_total[i*N+j][0] -= np.sum(J[site*N:(site+1)*N].flatten())
  return priority_total


#score: {'data2D.txt': 0.027198302469135804}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbrs = [(i//N + ((j-1)%N - N//2)) % N for j in range(N)] + [(i//N + ((j+1)%N - N//2)) % N for j in range(N)]
    spin_magnetism = sum(1 if h[i//N][site_nbr] > 0 else -1 for site_nbr in site_nbrs)
    total_spin[i][1] += spin_magnetism
    total_spin[i][0] -= spin_magnetism
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3409893518518508}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % 2)) % N
    if h[i//N][i%N] > 0:
      priorities.append((J[site_nbr*N+(i%N)//2::4].sum(), -1))
    else:
      priorities.append((J[site_nbr*N+(i%N)//2::4].sum(), 1))
  return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [sum(row) for row in state]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      priority_total[i][0] -= total_spin[0]
      priority_total[i][1] += total_spin[0]
    else:
      priority_total[i][0] += total_spin[1]
      priority_total[i][1] -= total_spin[1]
  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    interaction = sum([J[0][site_nbr[0]][(site_nbr[1]+j)%N] + J[1][site_nbr[0]][(site_nbr[1]-j)%N] for j in range(N)])
    if h[i//N][i%N] > 0:
      priorities.append([-interaction, float('-inf')])
    else:
      priorities.append([float('-inf'), interaction])
  return(priorities)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = 0
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      total_spin += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin])
    else:
      priorities.append([-1*total_spin, float('-inf')])
  return(priorities)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N,i%N)
    for k in [(0,1),(1,0),(-1,1),(1,-1)]:
      j_offset, i_offset = k
      total_spin[i][0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[i][1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
  priorities = []
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'),total_spin[i][0]])
    else:
      priorities.append([-1*total_spin[i][0],float('-inf')])
  return(priorities)


#score: {'data2D.txt': -0.0016387345679012345}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  priority_total = [[0.0 for _ in range(2)] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr1 = ((i+1)%N + (j-1)%N) % N
        site_nbr2 = (i+(j-1)%N - N//2) % N
        priority_total[i*N+j][0] += J_new[4*(site_nbr1*N+j) + 3]
        priority_total[i*N+j][1] -= J_new[4*(site_nbr2*N+i) + 0]
      else:
        site_nbr1 = ((i+1)%N + (j-1)%N) % N
        site_nbr2 = (i+(j-1)%N - N//2) % N
        priority_total[i*N+j][0] -= J_new[4*(site_nbr1*N+j) + 3]
        priority_total[i*N+j][1] += J_new[4*(site_nbr2*N+i) + 0]
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.0013594135802469127}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = [[h[i][j] if i%2 == 0 else -h[i][j] for j in range(N)] for i in range(N)]
  
  priorities = []
  for i in range(N2):
    site_nbr1 = ((i//N+1)%N + (i%N-1)%2) % N
    site_nbr2 = (i//N+(i%N-1)%2) % N
    
    if h[i//N][i%N] > 0:
      priorities.append([total_spin[site_nbr1][i%N], -total_spin[site_nbr2][i%N]])
    else:
      priorities.append([-total_spin[site_nbr1][i%N], total_spin[site_nbr2][i%N]])
  
  return [[x, y] for x,y in priorities]


#score: {'data2D.txt': 0.0024591049382716047}
program:
def priority(N, h, J):
  N2 = N*N
  J_flat = J.flatten().reshape((N2,4))
  
  sums_0 = (J_flat[:,1] + J_flat[:,3]).flatten()
  sums_1 = (-J_flat[:,0] - J_flat[:,2]).flatten()
  
  return np.column_stack([sums_0,sums_1])


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  site_priority = [[float('inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
      else:
        site = (i + ((j-1)%N - N//2)) % N
      neighbor_site = (site + ((site//N - 1) % N - 1)) % N
      if h[i][j] > 0:
        site_priority[i*N+j][0] -= 1
        site_priority[neighbor_site*N+int((j+1)//N)][1] += 1
      else:
        site_priority[i*N+j][0] += 1
        site_priority[neighbor_site*N+int((j+1)//N)][1] -= 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]

  for i in range(N**2):
    site = (i + ((state[i//N][i%N] - 1) % N))
    site_nbr = (site + ((site//N - 1) % N - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[site_nbr*N+int(i%N/N)][1] -= 1
    else:
      priority_total[i][0] -= 1
      priority_total[site_nbr*N+int(i%N/N)][1] += 1

  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  site_priority = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbrs = [(i+1)%N if j == 0 else (i-1+N)%N, (j+1)%N if i == N-1 else (j-1+N*N)%N]
        for site in site_nbrs:
          if h[site//N][site%N] > 0:
            site_priority[i*N+j][0] += 2
            site_priority[site][1] -= 1
          else:
            site_priority[i*N+j][0] += 1
            site_priority[site][1] += 1
      else:
        site_nbrs = [(i+1)%N if j == N-1 else (i-1+N)%N, (j+1)%N if i == 0 else (j-1+N*N)%N]
        for site in site_nbrs:
          if h[site//N][site%N] > 0:
            site_priority[i*N+j][0] -= 2
            site_priority[site][1] += 1
          else:
            site_priority[i*N+j][0] -= 1
            site_priority[site][1] -= 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': 0.06996651234567904}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = []
      if (i+1)%N != 0: site_nbrs.append((i+1)%N*N + j)
      if i != 0: site_nbrs.append(i*N+j-1)
      if (j+1)%N != 0: site_nbrs.append(i*N+(j+1)%N - N//2)
      for k in site_nbrs:
        total_spin = h[k//N][k%N]
        if h[i][j] > 0:
          priority_total[k//N*N+k%N][0] += total_spin
          priority_total[k//N*N+k%N][1] -= total_spin
        else:
          priority_total[k//N*N+k%N][0] -= total_spin
          priority_total[k//N*N+k%N][1] += total_spin
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [float('-inf'), float('-inf')]
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      if state[site_nbr[0]][(site_nbr[1]+i_offset)%N] == -1:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] += -J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= -J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([total_spin[0], total_spin[1]])
    else:
      priorities.append([-1*total_spin[0], -1*total_spin[1]])
  return(priorities)


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (2, -1), (-1, 1)]:
      j_offset, i_offset = k
      if state[site_nbr[0]][(site_nbr[1]+i_offset)%N] == -1:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] += -J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= -J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([-1*total_spin[0], float('-inf')])
    else:
      priorities.append([float('-inf'), total_spin[0]])
  return(priorities)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += J[site_nbr*N:(site_nbr+1)*N,j].sum() + (h[i][j]-h[site_nbr][j])
        priority_total[i*N+j][1] -= J[site_nbr*N:(site_nbr+1)*N,j].sum()
      else:
        priority_total[i*N+j][0] -= J[site_nbr*N:(site_nbr+1)*N,j].sum() + (h[i][j]-h[site_nbr][j])
  return priority_total


#score: {'data2D.txt': -0.1713597222222217}
program:
def priority(N, h, J):
  N2 = N*N
  sum_1 = (np.prod(J[:, :N2].flatten(), axis=0) + h).flatten()
  sum_2 = (np.prod(J[:, N2:].flatten(), axis=0) + h).flatten()
  return np.column_stack((sum_1, -sum_2))


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [1,3]]
    for j in range(N):
      total_spin = sum([h[site_nbr][j] for site_nbr in site_nbrs])
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
      else:
        priority_total[i*N+j][1] = -1*total_spin
  return [x[:] for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[3::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return priority


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = sum(J[k][site_nbr[0]][(site_nbr[1]+k)%N] for k in [-1, 1])
    if h[i//N][i%N] > 0:
      priorities.append([-total_spin, float('-inf')])
    else:
      priorities.append([float('-inf'), total_spin])
  return(priorities)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0,0]
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+j_offset)%N] > 0:
        total_spin[0] += J[(i_offset+2)%4][site_nbr[0]][(site_nbr[1]+j_offset)%N]
      else:
        total_spin[1] += -J[(i_offset+2)%4][site_nbr[0]][(site_nbr[1]+j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin[0]])
    else:
      priorities.append([-1*total_spin[0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': -0.001458796296296296}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        total_spin = [[0, 0] for _ in range(N**2)]
        state[site_nbrs[0]][j] += -1
        state[site_nbrs[1]][j] += 1 if site_nbrs[1]%N == j else -1
        state[site_nbrs[2]][j] += -1
        state[site_nbrs[3]][j] += 1 if site_nbrs[3]%N == j else -1
        
        for k in range(N):
          total_spin[k*N+j][0] += sum(h[i][k] for i in range(N))
          total_spin[k*N+j][1] -= sum(1 if h[i][k] > 0 else -1 for i in range(N))
        
        return [[x, y] for x, y in sorted([(a, b) for a, b in total_spin], reverse=True)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        total_spin = sum(1 for _ in range(N) if h[i][_]>0)
        priority_total[i*N+j][0] += total_spin
        priority_total[i*N+j][1] -= total_spin
      elif any(h[site_nbr][j] < 0 for site_nbr in site_nbrs):
        if all(h[site_nbr][j] < 0 for site_nbr in site_nbrs) or h[i][j] > 0:
          priority_total[i*N+j][0] -= 1
          priority_total[i*N+j][1] += 1
        else:
          priority_total[i*N+j][0] += 1
          priority_total[i*N+j][1] -= 1
  
  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.00045910493827160467}
program:
def priority(N, h, J):
  total_priority = [[0.0 for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_priority[i*N+j][0] += J[site_nbr*N:(site_nbr+1)*N].flatten().sum()
        total_priority[i*N+j][1] -= J[i*N:(i+1)*N].flatten().sum()
      else:
        total_priority[i*N+j][0] -= J[i*N:(i+1)*N].flatten().sum() + J[site_nbr*N:(site_nbr+1)*N].flatten().sum()
  return total_priority


#score: {'data2D.txt': -0.0033180555555555554}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += J[site*N:(site+1)*N,i].sum() + (h[i][j]-h[site][j])
        total_spin[i*N+j][1] -= J[site*N:(site+1)*N,i].sum()
      else:
        total_spin[i*N+j][0] -= J[site*N:(site+1)*N,i].sum() + (h[i][j]-h[site][j])
  return total_spin


#score: {'data2D.txt': 0.3347121913580237}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[site][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[site][1] += 1
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    if h[i//N][i%N] > 0:
      site = (i + ((i//N)%2 - 1)) % N
      total_spin[0] += sum(1 if J[(j%4)][site_nbr[0]][((site_nbr[1]+j-1)%N)] > 0 else -1*1 if J[(j%4)][site_nbr[0]][((site_nbr[1]-j+1)%N)] > 0 else 0 for j in range(2))
      total_spin[1] -= sum(-1*1 if J[j][site_nbr[0]][(site_nbr[1]+j-1)%N] > 0 else 1 if J[j][site_nbr[0]][(site_nbr[1]-j+1)%N] > 0 else 0 for j in range(2))
    else:
      site = (i + ((i//N)%2 - 1)) % N
      total_spin[1] -= sum(1 if J[(j%4)][site_nbr[0]][((site_nbr[1]+j-1)%N)] > 0 else -1*1 if J[(j%4)][site_nbr[0]][((site_nbr[1]-j+1)%N)] > 0 else 0 for j in range(2))
      total_spin[0] += sum(-1*1 if J[j][site_nbr[0]][(site_nbr[1]+j-1)%N] > 0 else 1 if J[j][site_nbr[0]][(site_nbr[1]-j+1)%N] > 0 else 0 for j in range(2))
    priorities.append([total_spin[0], total_spin[1]])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, 1)]:
      j_offset, i_offset = k
      if J[0][site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin[0] += 1
        total_spin[1] -= 1
      else:
        total_spin[0] -= 1
        total_spin[1] += 1
    if h[i//N][i%N] > 0:
      priorities.append([total_spin[0], -total_spin[1]])
    else:
      priorities.append([-total_spin[0], total_spin[1]])
  return(priorities)


#score: {'data2D.txt': 0.17344953703703703}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    site_spin = sum(1 if J[(j%N)%4][site_nbr[0]][(site_nbr[1]+j-1)%N] > 0 else -1*1 if J[(j%N)%4][site_nbr[0]][(site_nbr[1]-j+1)%N] > 0 else 0 for j in range(4))
    priorities.append([site_spin, -1*site_spin])
  return(priorities)


#score: {'data2D.txt': -0.32157669753086443}
program:
def priority(N, h, J):
  priority_total = [[float('inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin = sum(J[:, i, j])
      if h[i][j] > 0:
        priority_total[i*N+j][0] = max(total_spin, priority_total[i*N+j][0])
        priority_total[i*N+j][1] = min(-total_spin, priority_total[i*N+j][1])
      else:
        priority_total[i*N+j][0] = min(-total_spin, priority_total[i*N+j][0])
        priority_total[i*N+j][1] = max(total_spin, priority_total[i*N+j][1])
  return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  
  for k in range(3):
    site_nbr = (i + ((k-1)%2 - 1)) % N
    if h[site_nbr][j] > 0:
      priority_total[i*N+j][0] += 1
      priority_total[i*N+j][1] -= 1
    else:
      priority_total[i*N+j][0] -= 1
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        
  for k in range(3):
    site_nbr = (i + ((k-1)%2 - 1)) % N
    if h[i][j] > 0:
      priority_total[i*N+j][0] += J[site_nbr*N:(site_nbr+1)*N].flatten().sum()
      priority_total[i*N+j][1] -= J[i*N:(i+1)*N].flatten().sum()
    else:
      priority_total[i*N+j][0] -= J[site_nbr*N:(site_nbr+1)*N].flatten().sum() + J[i*N:(i+1)*N].flatten().sum()
      
  return priority_total


#score: {'data2D.txt': -0.01104182098765432}
program:
def priority(N, h, J):
  total_priority = [[0.0 for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr1 = (i + ((j-1)%N - N//2)) % N
      site_nbr2 = (i + ((j+1)%N - N//2)) % N
      if h[i][j] > 0:
        total_priority[i*N+j][0] += J[site_nbr1*N:(site_nbr1+1)*N].flatten().sum() + J[site_nbr2*N:(site_nbr2+1)*N].flatten().sum()
        total_priority[i*N+j][1] -= J[i*N:(i+1)*N].flatten().sum() - J[site_nbr1*N:(site_nbr1+1)*N].flatten().sum() - J[site_nbr2*N:(site_nbr2+1)*N].flatten().sum()
      else:
        total_priority[i*N+j][0] -= J[i*N:(i+1)*N].flatten().sum() + J[site_nbr1*N:(site_nbr1+1)*N].flatten().sum() + J[site_nbr2*N:(site_nbr2+1)*N].flatten().sum()
  return total_priority


#score: {'data2D.txt': -0.001458796296296296}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        total_spin = [[0, 0] for _ in range(N**2)]
        state[site_nbrs[0]][j] += -1
        state[site_nbrs[1]][j] += 1 if site_nbrs[1]%N == j else -1
        state[site_nbrs[2]][j] += -1
        state[site_nbrs[3]][j] += 1 if site_nbrs[3]%N == j else -1
        
        for k in range(N):
          total_spin[k*N+j][0] += sum(h[i][k] for i in range(N))
          total_spin[k*N+j][1] -= sum(1 if h[i][k] > 0 else -1 for i in range(N))
        
        return [[x, y] for x, y in sorted([(a, b) for a, b in total_spin], reverse=True)]
  
  priority_total = [[0, 0] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j - 1) % 2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += state[site_nbr][j]
        priority_total[i*N+j][1] -= state[site_nbr][j]
      else:
        priority_total[i*N+j][0] -= state[site_nbr][j]
        priority_total[i*N+j][1] += state[site_nbr][j]
  
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % 2)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] -= J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] += J[site_nbr*N+(i%N)//2::4].sum()
    else:
      priority_total[i][0] += J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] -= J[site_nbr*N+(i%N)//2::4].sum()
  
  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[site_nbr*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[site_nbr*N+j][1] += 1
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': 0.3338476851851842}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0.5 for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[site_nbr*N+int(i%N/N)][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[site_nbr*N+int(i%N/N)][1] += 1
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  site_interactions = []
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] += 1
        total_spin[site_nbr*N+int((j-1)%N/N)][1] -= 1
      else:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] -= 1
        total_spin[site_nbr*N+int((j-1)%N/N)][1] += 1
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': 0.3306047839506164}
program:
def priority(N, h, J):
  site_priority = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%2 - 1)) % N
        site_nbr = (site + ((site//N - 1) % N - 1)) % N
        site_priority[i*N+j][0] += 1
        site_priority[site_nbr*N+int((j-1)//N)][1] -= 1
      else:
        site = (i + ((j-1)%2 - 1)) % N
        site_nbr = (site + ((site//N - 1) % N - 1)) % N
        site_priority[i*N+j][0] -= 1
        site_priority[site_nbr*N+int((j-1)//N)][1] += 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      k = i*N+j
      if h[i][j] > 0:
        total_spin = sum([state[site][j] for j in range(N)])
        priority_total[k][0] = total_spin
      else:
        total_spin = -sum([state[site][j] for j in range(N)])
        priority_total[k][1] = total_spin
  
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.00044675925925925943}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      total_spin[i*N+j][0] += h[site_nbr][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[i*N+j][0]
        priority_total[i*N+j][1] = -total_spin[i*N+j][0]
      else:
        priority_total[i*N+j][0] = -total_spin[i*N+j][0]
        priority_total[i*N+j][1] = total_spin[i*N+j][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr1 = (i + ((j-1)%N - N//2)) % N
      site_nbr2 = (i + ((j+1)%N - N//2)) % N
      total_spin[i*N+j][0] += h[site_nbr1][j]
      if h[i][j] > 0:
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        for k in range(N**2):
          site_nbr = (k % N + ((k//N-1)%2 - 1)) % N
          if h[site_nbr][k%N] > 0:
            priority_total[k][0] += 1
            priority_total[k][1] -= 1
          else:
            priority_total[k][0] -= 1
        return [[x[0], x[1]] for x in priority_total]
      else:
        total_spin[i*N+j][1] += h[site_nbr2][j]
  return [[-1, -1] for _ in range(N**2)]


#score: {'data2D.txt': -0.0007257716049382712}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[site_nbr][0] += 1
        total_spin[site_nbr][1] -= 1
      else:
        total_spin[site_nbr][0] -= 1
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[site][0] = total_spin[site][0]
        priority_total[site][1] = -1*total_spin[site][0]
  return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': 0.19548287037037057}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    if h[site_nbr][i%N] > 0:
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      total_spin[i][0] -= 1

  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[site][0]
        priority_total[i*N+j][1] = -1*total_spin[site][0]

  return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i % N, i // N)
    total_spin = [0, 0]
    for k in [(1, 0), (0, 1), (-1, 0), (0, -1)]:
      j_offset, i_offset = k
      total_spin[0] += J[i_offset][site_nbr[0]][(site_nbr[1]+j_offset)%N]
      total_spin[1] -= J[j_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), -total_spin[0]])
    else:
      priorities.append([-1*total_spin[0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': 0.07007114197530867}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = []
      if (i+1)%N != 0:
        site_nbrs.append((i+1)%N*N + j)
      if i != 0:
        site_nbrs.append(i*N+j-1)
      if (j+1)%N != 0:
        site_nbrs.append(i*N+(j+1)%N - N//2)
      for k in site_nbrs:
        total_spin = h[k//N][k%N]
        if state[i][j] == state[k//N][k%N]:
          priority_total[i*N+j][0] += 1
          priority_total[i*N+j][1] -= 1
        else:
          priority_total[i*N+j][0] -= 1
          priority_total[i*N+j][1] += 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J = J.flatten()
  h_flat = h.flatten()
  sum_1 = (np.prod(J[::4], 0) + h_flat).flatten()
  sum_2 = (np.prod(J[1::4], 0) + h_flat).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return [[x[0], x[1]] for x in priority]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N4 = N * N
  sum_1 = np.zeros((N4,))
  sum_2 = np.zeros((N4,))
  for i in range(N4):
    site = (i // N + ((i % N-1)%N - N//2)) % N
    if h[site][i % N] > 0:
      sum_1[i] += 1
      sum_2[i] -= 1
    else:
      sum_1[i] -= 1
      sum_2[i] += 1
  return np.column_stack((sum_1, -sum_2)).reshape(N4, 2)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[site][j][0] += 1
        priority_total[site][j][1] -= 1
      else:
        priority_total[site][j][0] -= 1
        priority_total[site][j][1] += 1
  return [[-x[1], x[0]] for x in [item for sublist in priority_total for item in sublist]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      total_spin = sum((h[state[s][j]] if state[s][j] == h[i][j] else -h[i][j]) for s in [(site + ((k-1)%2 - 1)) % N for k in range(N)])
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
      else:
        priority_total[i*N+j][1] = -total_spin
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.33473780864197433}
program:
def priority(N, h, J):
  priority_total = [[float('inf'), float('-inf')] for _ in range(N**2)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] += 1
        if j < N-1:
          site_nbr = (site + ((site//N - 1) % N - 1)) % N
          total_spin[site_nbr*N+int((j+1)//N)][1] -= 1
      else:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] -= 1
        if j < N-1:
          site_nbr = (site + ((site//N - 1) % N - 1)) % N
          total_spin[site_nbr*N+int((j+1)//N)][1] += 1
  for i in range(N**2):
    priority_total[i][0], priority_total[i][1] = -total_spin[i][0], total_spin[i][1]
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
    if h[i//N][i%N]>0:
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      total_spin[i][1] += 1
      total_spin[i][0] -= 1
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N**2):
    if h[i//N][i%N]>0:
      site_spin = 1
    else:
      site_spin = -1
    priority_total[i] = [site_spin, -site_spin]
  return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  site_nbrs = [(i + ((j-1)%N - N//2)) % N for i in range(N) for j in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_spin = 1 if h[i][j] > 0 else -1
      total_spin[i*N+j][0] += site_spin
      total_spin[i*N+j][1] -= site_spin
      
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N**2):
    if h[i//N][i%N]>0:
      priority_total[i][0] = total_spin[i][0]
      priority_total[i][1] = -total_spin[i][0]
    else:
      priority_total[i][1] = total_spin[i][0]
      priority_total[i][0] = -total_spin[i][0]
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.32970941358024597}
program:
def priority(N, h, J):
  site_priority = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr_up = (i + ((j-1)%N - N//2)) % N
        site_nbr_down = (site_nbr_up + ((site_nbr_up//N - 1) % N - 1)) % N
        site_priority[i*N+j][0] += 1
        site_priority[site_nbr_up*N+int((j-1)//N)][1] -= 1
        site_priority[site_nbr_down*N+int(j//N)][1] -= 1
      else:
        site_nbr_up = (i + ((j-1)%N - N//2)) % N
        site_nbr_down = (site_nbr_up + ((site_nbr_up//N - 1) % N - 1)) % N
        site_priority[i*N+j][0] -= 1
        site_priority[site_nbr_up*N+int((j-1)//N)][1] += 1
        site_priority[site_nbr_down*N+int(j//N)][1] += 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': 0.33019861111111015}
program:
def priority(N, h, J):
  site_priority = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        site_priority[i*N+j][0] += 1
        site_priority[site_nbr*N+int((j+1)//N)][1] -= 1
      else:
        site_priority[i*N+j][0] -= 1
        site_priority[site_nbr*N+int((j+1)//N)][1] += 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i+((j-1)%N - N//2)) % N, (i+(j+1-N)%N) % N, (i-1+((j-1)%N - N//2)) % N if i > 0 else None, (i+1+((j-1)%N - N//2)) % N if i < N-1 else None]
      for site_nbr in site_nbrs:
        if site_nbr is not None and h[site_nbr][j] > 0:
          priority_total[i*N+j][0] += state[site_nbr][j]
          priority_total[i*N+j][1] -= state[site_nbr][j]
        elif site_nbr is not None and h[site_nbr][j] < 0:
          priority_total[i*N+j][0] -= state[site_nbr][j]
          priority_total[i*N+j][1] += state[site_nbr][j]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.3312316358024691}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  sum1 = np.zeros((N2,1))
  sum2 = np.zeros((N2,1))
  
  for i in range(N2):
    s1 = 0
    s2 = 0
    
    for j in range(4):
      if (j==0 and ((i//N)%2==0 or (i%N)==0)) or ((j==1 and ((i//N)%2==1 or i==(N-1))) or (j==2 and ((i//N)%2==0 or i%(N*2)<N)) or (j==3 and ((i//N)%2==1 or i%(N*2)>N))):
        s1 += J_new[i]
      elif j==1:
        s1 -= J_new[i]
      elif j==2:
        s2 += J_new[i]
      else:
        s2 -= J_new[i]
        
    sum1[i,0] = s1
    sum2[i,0] = -s2
    
  return np.column_stack((sum1.sum(axis=1).reshape(N2,1), sum2.sum(axis=1).reshape(N2,1)))


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i, j-1) if j > 0 else (i, N-1), 
             (i-1, j) if i > 0 else (N-1, j),
             (i+1, j) if i < N-1 else (0, j), 
             (i, j+1) if j < N-1 else (i, 0)]
      for site_nbr in site_nbrs:
        if h[site_nbr[0]][site_nbr[1]] > 0:
          priority_total[i*N+j][0] += state[site_nbr[0]][site_nbr[1]]
          priority_total[i*N+j][1] -= state[site_nbr[0]][site_nbr[1]]
        else:
          priority_total[i*N+j][0] -= state[site_nbr[0]][site_nbr[1]]
          priority_total[i*N+j][1] += state[site_nbr[0]][site_nbr[1]]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  total_spin = [[0.0, 0.0] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = ((i+1)%N + (j-1)%N) % N
      site_nbr2 = (i+(j-1)%N - N//2) % N
      
      if h[i][j] > 0:
        priority_total[i*N+j][0] += J_new[4*(site_nbr1*N+j) + 3]
        priority_total[i*N+j][1] -= J_new[4*(site_nbr2*N+i) + 0]
      else:
        priority_total[i*N+j][0] -= J_new[4*(site_nbr1*N+j) + 3]
        priority_total[i*N+j][1] += J_new[4*(site_nbr2*N+i) + 0]
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.3300788580246904}
program:
def priority(N, h, J):
  site_priority = [[0,0]for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j]>0:
        site_priority[i*N+j][0]+=1
        site_priority[site_nbr*N+int((j-1)//N)][1]-=1
      else:
        site_priority[i*N+j][0]-=1
        site_priority[site_nbr*N+int((j-1)//N)][1]+=1
  return [[-x[1],x[0]]for x in site_priority]


#score: {'data2D.txt': 0.3300788580246904}
program:
def priority(N, h, J):
  site_priority = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        site_priority[i*N+j][0] += 1
        site_priority[site_nbr*N+int((j-1)//N)][1] -= 1
      else:
        site_priority[i*N+j][0] -= 1
        site_priority[site_nbr*N+int((j-1)//N)][1] += 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': 0.33016898148148055}
program:
def priority(N, h, J):
  site_priority = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        site_priority[i*N+j][0] += 1
        site_priority[site*N+int((j-1)//N)][1] -= 1
      else:
        site_priority[i*N+j][0] -= 1
        site_priority[site*N+int((j-1)//N)][1] += 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': -0.32157669753086443}
program:
def priority(N, h, J):
  priority_total = [[float('inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      total_spin = sum(J[:, i, j])
      if h[i][j] > 0:
        priority_total[i*N+j][0] = max(total_spin, priority_total[i*N+j][0])
        priority_total[i*N+j][1] = min(-total_spin, priority_total[i*N+j][1])
      else:
        priority_total[i*N+j][0] = min(-total_spin, priority_total[i*N+j][0])
        priority_total[i*N+j][1] = max(total_spin, priority_total[i*N+j][1])
  return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = [[float('-inf'), float('inf')] for _ in range(N2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] += sum(J[site_nbr*N:(site_nbr+1)*N].flatten())
        priority_total[i*N+j][1] -= sum(J[site_nbr*N:(site_nbr+1)*N].flatten())
      else:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] -= sum(J[site_nbr*N:(site_nbr+1)*N].flatten())
  return priority_total


#score: {'data2D.txt': 0.19548287037037057}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    if h[site_nbr][i%N] > 0:
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      total_spin[i][0] -= 1
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[site_nbr][0]
        priority_total[i*N+j][1] = -1*total_spin[site_nbr][0]
  return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': 0.19548287037037057}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    if h[site_nbr][i%N] > 0:
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      total_spin[i][0] -= 1
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[site][0]
        priority_total[i*N+j][1] = -1*total_spin[site][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.17698472222222222}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  sum1 = np.zeros((N2,1))
  sum2 = np.zeros((N2,1))

  for i in range(N2):
    s1 = 0
    s2 = 0

    site = (i % (2 * N) - N)
    spin = 2 * h[i//N][site] - 1

    sum1[i,0] = J_new[i] + (spin * np.prod(J_new[4*i:4*(i+1)], 0)).sum()
    sum2[i,0] = -J_new[i] - (1-spin) * np.prod(J_new[4*i:4*(i+1)], 0).sum()

  return np.column_stack((sum1.sum(axis=1).reshape(N2,1), sum2.sum(axis=1).reshape(N2,1)))


#score: {'data2D.txt': 0.3312316358024691}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  sum1 = np.zeros((N2,1))
  sum2 = np.zeros((N2,1))

  for i in range(N2):
    s1 = 0
    s2 = 0
    
    for j in range(4):
      if (j==0 and ((i//N)%2==0 or (i%N)==0)) or ((j==1 and ((i//N)%2==1 or i==(N-1))) or (j==2 and ((i//N)%2==0 or i%(N*2)<N)) or (j==3 and ((i//N)%2==1 or i%(N*2)>N))):
        s1 += J_new[i]
      elif j==1:
        s1 -= J_new[i]
      elif j==2:
        s2 += J_new[i]
      else:
        s2 -= J_new[i]
        
    sum1[i,0] = s1
    sum2[i,0] = -s2
  
  return np.column_stack((sum1.sum(axis=1).reshape(N2,1), sum2.sum(axis=1).reshape(N2,1)))


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = np.prod(J_new[0::4], 0) + h
  sum_2 = np.prod(J_new[1::4], 0) + h
  priority = np.column_stack((sum_1.flatten(), -sum_2.flatten()))
  return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [[0, 0] for _ in range(N**2)]
  
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    
    for k in [0, 1, 2]:
      if k == 0:
        site = (site_nbr[0], (site_nbr[1] - 1) % N)
      elif k == 1:
        site = ((site_nbr[0] + 1) % N, site_nbr[1])
      else:
        site = (site_nbr[0], (site_nbr[1] + 1) % N)
      
      total_spin[i][0] += J[k][site_nbr[0]][site_nbr[1]]
      total_spin[i][1] -= 1
      
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin[i][0]])
    else:
      priorities.append([-1*total_spin[i][0], float('-inf')])
  
  return(priorities)


#score: {'data2D.txt': -0.022028858024691355}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in range(4):
      if k == 0:
        total_spin[i][0] += J[k][site_nbr[0]][site_nbr[1]]
      elif k == 1:
        total_spin[i][0] += J[(k+2)%4][site_nbr[0]][(site_nbr[1]+1)%N]
      elif k == 2:
        total_spin[i][1] += J[k][(site_nbr[0]+1)%N][site_nbr[1]]
      else:
        total_spin[i][1] += J[k-2][site_nbr[0]][(site_nbr[1]-1)%N]
    if h[i//N][i%N] > 0:
      priorities.append([total_spin[i][0], -total_spin[i][1]])
    else:
      priorities.append([-total_spin[i][0], total_spin[i][1]])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  site_interactions = [[0, 0] for _ in range(N2)]
  
  for i in range(N2):
    site_nbr1 = ((i//N+1)%N + (i%N-1)%2) % N
    site_nbr2 = (i//N+(i%N-1)%2) % N
    
    if h[i//N][i%N] > 0:
      site_interactions[i][0] += J[(i+N*N*site_nbr1):(i+1),site_nbr1, :].sum() - J[(i+N*N*site_nbr2):(i+1),site_nbr2, :].sum()
      site_interactions[i][1] -= J[(i+N*N*site_nbr1):(i+1),site_nbr1, :].sum() + J[(i+N*N*site_nbr2):(i+1),site_nbr2, :].sum()
    else:
      site_interactions[i][0] += -J[(i+N*N*site_nbr1):(i+1),site_nbr1, :].sum() + J[(i+N*N*site_nbr2):(i+1),site_nbr2, :].sum()
      site_interactions[i][1] -= -J[(i+N*N*site_nbr1):(i+1),site_nbr1, :].sum() - J[(i+N*N*site_nbr2):(i+1),site_nbr2, :].sum()
  
  return [[x[0], x[1]] for x in site_interactions]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[::2],0) + h).flatten()
  sum_2 = (-np.prod(J_new[1::2],0)).flatten()
  priority = np.column_stack((sum_1, -sum_1))
  return(priority)


#score: {'data2D.txt': -0.0014109567901234568}
program:
def priority(N, h, J):
  N2 = N*N
  site_interactions = [[0, 0] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = ((i+1)%N + (j-1)%2) % N
      site_nbr2 = (i+(j-1)%2) % N
      
      if h[i][j] > 0:
        site_interactions[i*N+j][0] += J[(i+N*N*j):(i+1),site_nbr1, :].sum() - J[(i+N*N*j):(i+1),site_nbr2, :].sum()
        site_interactions[i*N+j][1] -= J[(i+N*N*j):(i+1),site_nbr1, :].sum() + J[(i+N*N*j):(i+1),site_nbr2, :].sum()
      else:
        site_interactions[i*N+j][0] += J[(i+N*N*j):(i+1),site_nbr1, :].sum() + J[(i+N*N*j):(i+1),site_nbr2, :].sum()
        site_interactions[i*N+j][1] -= J[(i+N*N*j):(i+1),site_nbr1, :].sum() - J[(i+N*N*j):(i+1),site_nbr2, :].sum()
  
  return [[x[0], x[1]] for x in site_interactions]


#score: {'data2D.txt': -0.34199953703703595}
program:
def priority(N, h, J):
  priority_total = [[[0, 0] for _ in range(N)] for _ in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[i][j][1] -= 1
      else:
        priority_total[i][j][0] -= 1
        
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[site][j][0] += sum([J[(i+N*N*j):(i+1),k, :].sum() for k in [(site_nbr1-1)%N, (site_nbr1+1)%N]])
        priority_total[site][j][1] -= 2*sum([J[(i+N*N*j):(i+1),k, :].sum() for k in [(site_nbr1-1)%N, (site_nbr1+1)%N]])
      else:
        priority_total[site][j][1] += sum([J[(i+N*N*j):(i+1),k, :].sum() for k in [(site_nbr1-1)%N, (site_nbr1+1)%N]])
        priority_total[site][j][0] -= 2*sum([J[(i+N*N*j):(i+1),k, :].sum() for k in [(site_nbr1-1)%N, (site_nbr1+1)%N]])
        
  return [[x[0], x[1]] for row in priority_total for x in row]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += h[site_nbr][j]
        priority_total[i*N+j][1] -= h[site_nbr][j]
      else:
        priority_total[i*N+j][0] -= h[site_nbr][j]
        priority_total[i*N+j][1] += h[site_nbr][j]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  
  priority = np.column_stack((sum_1, -sum_2))
  
  return(priority.tolist())


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return([list(x) for x in priority])


#score: {'data2D.txt': -0.0008717592592592589}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j - 1) % N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
      
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % 2)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] -= J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] += J[site_nbr*N+(i%N)//2::4].sum()
    else:
      priority_total[i][0] += J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] -= J[site_nbr*N+(i%N)//2::4].sum()
  
  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    site_nbr = (i + ((-1)**((i-1)//N)) - N//2) % N
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
      
  for i in range(N**2):
    site_nbr = (i // N + ((-1)**((i%N)//N)) - N//2) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] -= J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] += J[site_nbr*N+(i%N)//2::4].sum()
    else:
      priority_total[i][0] += J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] -= J[site_nbr*N+(i%N)//2::4].sum()
  
  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += state[site_nbr][j]
        total_spin[i*N+j][1] -= state[site_nbr][j]
      else:
        total_spin[i*N+j][0] -= state[site_nbr][j]
        total_spin[i*N+j][1] += state[site_nbr][j]
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      total_spin[i][0] += sum(J[(i//N + ((i%N-1)%2 - 1)) % N + (k%4)*N+k//4::4].sum() for k in range(N))
      total_spin[i][1] -= sum(J[(i//N + ((i%N-1)%2 - 1)) % N + (k%4)*N+k//4::4].sum() for k in range(N))
    else:
      total_spin[i][0] -= sum(J[(i//N + ((i%N-1)%2 - 1)) % N + (k%4)*N+k//4::4].sum() for k in range(N))
      total_spin[i][1] += sum(J[(i//N + ((i%N-1)%2 - 1)) % N + (k%4)*N+k//4::4].sum() for k in range(N))
  return sorted([(a, b) for a, b in total_spin], reverse=True)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    site_nbr = (i + ((i-1)%N - N//2)) % N
    for j in range(N):
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % 2)) % N
    if h[i//N][i%N] > 0:
      total_spin[i][0] -= J[site_nbr*N+(i%N)//2::4].sum()
      total_spin[i][1] += J[site_nbr*N+(i%N)//2::4].sum()
    else:
      total_spin[i][0] += J[site_nbr*N+(i%N)//2::4].sum()
      total_spin[i][1] -= J[site_nbr*N+(i%N)//2::4].sum()
  return sorted([(a, b) for a, b in total_spin], reverse=True)


#score: {'data2D.txt': 6.635802469135976e-06}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  
  priority_total = [[0.0 for _ in range(2)] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] += J_new[4*(site*N+j) + 3]
        priority_total[i*N+j][1] -= J_new[4*(i*N+((j-1)%N-N//2)) + 0]
      else:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] -= J_new[4*(site*N+j) + 3]
        priority_total[i*N+j][1] += J_new[4*(i*N+((j-1)%N-N//2)) + 0]
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    if h[site_nbr][i%N] > 0:
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      total_spin[i][0] -= 1

  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[site_nbr][0]
        priority_total[i*N+j][1] = -total_spin[site_nbr][0]

  return [[x[0],-x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[site][0]
        priority_total[i*N+j][1] = -total_spin[site][0]
  
  return [[x[0],-x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    if h[site_nbr][i%N] > 0:
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      total_spin[i][0] -= 1
  
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += total_spin[site][0]
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += total_spin[site][0]
  
  return [[x[0],-x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N2)]

  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1

  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j][0] += state[i][j]
        priority_total[i*N+j][1] -= state[i][j]
      else:
        priority_total[i*N+j][0] -= state[i][j]

  return [list(x) for x in priority_total]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  for i in range(N**2):
    total_spin = [0, 0]
    site_nbr = (i // N, i % N)
    for k in site_interaction:
      j_offset, i_offset = k
      if state[site_nbr[0]][(site_nbr[1]+i_offset)%N] == -1:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] += -J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= -J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin[0]])
    else:
      priorities.append([-1*total_spin[0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      if state[site_nbr[0]][(site_nbr[1]+i_offset)%N] == -1:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] += -J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= -J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([total_spin[0], float('-inf')])
    else:
      priorities.append([-1*total_spin[0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      if state[site_nbr[0]][(site_nbr[1]+i_offset)%N] == -1:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] += -J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= -J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([-total_spin[0], float('-inf')])
    else:
      priorities.append([float('-inf'), total_spin[0]])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    site = (site_nbr[0] + ((site_nbr[1]-1)%2 - 1)) % N
    total_spin = [0, 0]
    if h[i//N][i%N] > 0:
      total_spin[0] += h[site][i%N]
    else:
      total_spin[0] -= h[site][i%N]
    for k in [(0,1),(1,0),(-1,1),(1,-1)]:
      j_offset, i_offset = k
      if state[site_nbr[0]][(site_nbr[1]+i_offset)%N] == -1:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] += -J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= -J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([total_spin[0], float('-inf')])
    else:
      priorities.append([-1*total_spin[0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': -0.000703858024691358}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j - 1) % N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += state[site_nbr][j]
        priority_total[i*N+j][1] -= state[site_nbr][j]
      else:
        priority_total[i*N+j][0] -= state[site_nbr][j]
        priority_total[i*N+j][1] += state[site_nbr][j]
  
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % 2 - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += sum(J[site_nbr*N+(k%4)*N+k//4::4].sum() for k in range(N))
      priority_total[i][1] -= sum(J[site_nbr*N+(k%4)*N+k//4::4].sum() for k in range(N))
    else:
      priority_total[i][0] -= sum(J[site_nbr*N+(k%4)*N+k//4::4].sum() for k in range(N))
      priority_total[i][1] += sum(J[site_nbr*N+(k%4)*N+k//4::4].sum() for k in range(N))
  
  return sorted([(a, b) for a, b in priority_total], reverse=True)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % 2)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] -= sum(J[site_nbr*N+(k%N)//2::4].sum() for k in range(i))
      priority_total[i][1] += sum(J[site_nbr*N+(k%N)//2::4].sum() for k in range(i))
    else:
      priority_total[i][0] += sum(J[site_nbr*N+(k%N)//2::4].sum() for k in range(i))
      priority_total[i][1] -= sum(J[site_nbr*N+(k%N)//2::4].sum() for k in range(i))
  
  return sorted([(a, b) for a, b in priority_total], reverse=True)


#score: {'data2D.txt': 0.008068364197530865}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[site_nbr*N+int((j+1)//N)][0] += 1
        total_spin[i*N+j][0] -= 1
      else:
        total_spin[site_nbr*N+int((j+1)//N)][0] -= 1
        total_spin[i*N+j][0] += 1
  for j in range(N):
    if h[j//N][j%N] > 0:
      priority_total[j][0] = total_spin[j][0]
    else:
      priority_total[j][1] = -total_spin[j][0]
  return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  total_spin = [[0,0] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      spin = -1 if h[i][j] > 0 else 1
      total_spin[site][spin==1] += 1
      
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[j][0] = total_spin[j][0]
      else:
        priority_total[j][1] = -1*total_spin[j][0]
  
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in range(3)]
      total_spin = sum(h[site][j] for site in site_nbrs)
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
      else:
        priority_total[i*N+j][1] = -total_spin
  return priority_total


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        total_spin = sum(h[k][j] for k in range(N))
        priority_total[i*N+j][1] -= total_spin
      elif h[i][j] < 0:
        total_spin = sum(-h[k][j] for k in range(N))
        priority_total[i*N+j][0] += total_spin
      
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        priority_total[i*N+j][0] -= sum(J[site_nbr*N+(i%N)//2::4].sum() for site_nbr in site_nbrs)
        priority_total[i*N+j][1] += sum(J[site_nbr*N+(i%N)//2::4].sum() for site_nbr in site_nbrs)
      elif all(h[site_nbr][j] < 0 for site_nbr in site_nbrs):
        priority_total[i*N+j][0] += sum(-J[site_nbr*N+(i%N)//2::4].sum() for site_nbr in site_nbrs)
        priority_total[i*N+j][1] -= sum(J[site_nbr*N+(i%N)//2::4].sum() for site_nbr in site_nbrs)
  
  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.0018177469135802476}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        total_spin[i*N+j][0] = sum(1 if h[k][j] > 0 else -1 for k in range(N))
      elif all(h[site_nbr][j] < 0 for site_nbr in site_nbrs):
        total_spin[i*N+j][1] = -sum(1 if h[k][j] > 0 else -1 for k in range(N))
  
  return [[x, y] for x, y in sorted([(a, b) for a, b in total_spin], reverse=True)]


#score: {'data2D.txt': -0.0006893518518518516}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]

  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      total_spin = sum(h[site][j] for site in site_nbrs)
      if h[i][j] > 0:
        priorities[i][j][0] = total_spin
      else:
        priorities[i][j][1] = -total_spin

  return [[x, y] for x, y in sorted([(a, b) for a, b in [item for sublist in priorities for item in sublist]], reverse=True)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]

  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        priorities[i][j][0] += 2
        priorities[i][j][1] -= 2
      elif all(h[site_nbr][j] < 0 for site_nbr in site_nbrs):
        priorities[i][j][0] -= 2
        priorities[i][j][1] += 2

  return [[x[0], x[1]] for x in [item for sublist in priorities for item in sublist]]


#score: {'data2D.txt': 0.16680787037037062}
program:
def priority(N, h, J):
  site_priority = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbrs = [(i+((k-1)%2 - 1)) % N for k in range(3)]
        for s in site_nbrs:
          if i < N//2:
            if h[s][j] > 0:
              site_priority[i*N+j][0] += 1
              site_priority[s*N+int(j/N)][1] -= 1
            else:
              site_priority[i*N+j][0] -= 1
              site_priority[s*N+int(j/N)][1] += 1
          else:
            if h[s][j] > 0:
              site_priority[i*N+j][0] -= 1
              site_priority[s*N+int(j/N)][1] += 1
            else:
              site_priority[i*N+j][0] += 1
              site_priority[s*N+int(j/N)][1] -= 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': -0.15467669753086444}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        site = (site_nbr + ((i-1)%2 - 1)) % N
        total_spin[i*N+j][0] = h[site][j]
        total_spin[i*N+j][1] = -total_spin[i*N+j][0]
  return [[x, y] for x, y in total_spin]


#score: {'data2D.txt': 0.010183179012345679}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  for i in range(N**2):
    site = (i % N + ((i//N-1)%2 - 1)) % N
    total_spin[i][0] += 1 if state[site][i%N] == 1 else -1
    total_spin[i][1] -= 1 if state[site][i%N] == 1 else 1
  priorities = [(total_spin[i][0],-total_spin[i][1]) for i in range(N**2)]
  return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': 0.3312316358024691}
program:
def priority(N, h, J):
  J_flat = J.flatten()
  total_spin = np.zeros((N*N, 2))
  
  for i in range(N*N):
    s1 = 0
    s2 = 0
    
    for j in range(4):
      if (j==0 and ((i//N)%2==0 or (i%N)==0)) or ((j==1 and ((i//N)%2==1 or i==(N-1))) or (j==2 and ((i//N)%2==0 or i%(N*2)<N)) or (j==3 and ((i//N)%2==1 or i%(N*2)>N))):
        s1 += J_flat[i]
      elif j==1:
        s1 -= J_flat[i]
      elif j==2:
        s2 += J_flat[i]
      else:
        s2 -= J_flat[i]
    
    total_spin[i] = [s1, -s2]
  
  return total_spin


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i % N + ((i // N -1) % N) - 1) % N
    spin = -1 if h[i//N][i%N] > 0 else 1
    total_spin[i][spin==1] += 1

  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (j + ((i-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += np.sum(J[:,i,j])
      else:
        priority_total[i*N+j][1] -= np.sum(J[site_nbr*N:(site_nbr+1)*N].flatten())

  return priority_total


#score: {'data2D.txt': -0.001532561728395062}
program:
def priority(N, h, J):
  N2 = N*N
  priorities = [[0, 0] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = ((i+1)%N + (j-1)%2) % N
      site_nbr2 = (i+(j-1)%2) % N
      
      if h[i][j] > 0:
        priorities[i*N+j][0] += J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priorities[i*N+j][1] -= J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
      else:
        priorities[i*N+j][0] -= J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        priorities[i*N+j][1] += J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
  
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = [[0,0] for _ in range(N2)]
  site_priors = [[0,0] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_nbr1 = ((i+1)%N + (j-1)%2) % N
        site_nbr2 = (i+(j-1)%2) % N
        total_spin[i*N+j][0] += J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        total_spin[i*N+j][1] -= J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
        site_priors[i*N+j][0] += 1
        site_priors[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        total_spin[i*N+j][1] += J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
        site_priors[i*N+j][0] -= 1
        site_priors[i*N+j][1] += 1
        
  return [[x[0], x[1]] for x in site_priors]


#score: {'data2D.txt': -0.047544598765432135}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = np.zeros((N2, 2))
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  
  priorities = []
  for i in range(N2):
    site_nbr1 = (i//N + ((i%N-1)%2 - N//2)) % N
    site_nbr2 = (i//N + (i%N-1)//2) % N
    
    if h[i//N][i%N] > 0:
      priorities.append([total_spin[site_nbr1][0] - total_spin[site_nbr2][0], total_spin[site_nbr1][0] + total_spin[site_nbr2][0]])
    else:
      priorities.append([-total_spin[site_nbr1][0] + total_spin[site_nbr2][0], -total_spin[site_nbr1][0] - total_spin[site_nbr2][0]])
  
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.0018177469135802476}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        total_spin[i*N+j][0] = sum(1 if h[k][j] > 0 else -1 for k in range(N))
      elif all(h[site_nbr][j] < 0 for site_nbr in site_nbrs):
        total_spin[i*N+j][1] = -sum(1 if h[k][j] > 0 else -1 for k in range(N))
      
  return [[x, y] for x, y in sorted([(a, b) for a, b in total_spin], reverse=True)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        total_spin = sum(1 if h[k][j] > 0 else -1 for k in range(N))
        priority_total[i][j][0] += total_spin
        priority_total[i][j][1] -= total_spin
      elif all(h[site_nbr][j] < 0 for site_nbr in site_nbrs):
        total_spin = sum(1 if h[k][j] > 0 else -1 for k in range(N))
        priority_total[i][j][0] -= total_spin
        priority_total[i][j][1] += total_spin
  return [[x[0], x[1]] for x in [item for sublist in priority_total for item in sublist]]


#score: {'data2D.txt': -0.037466203703703724}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        total_spin = sum(1 if h[k][j] > 0 else -1 for k in range(N))
        
        if h[i][j] > 0:
          priority_total[i][j][0] = total_spin
        else:
          priority_total[i][j][1] = -total_spin
  
  return [[x[0], x[1]] for x in [item for sublist in priority_total for item in sublist]]


#score: {'data2D.txt': -0.10007762345679021}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in range(3) if (i, j) != ((k-1)//N, k%N)]
      total_spin = [0, 0]
      for site_nbr in site_nbrs:
        if h[site_nbr][j] > 0:
          total_spin[0] += 1
          total_spin[1] -= 1
        else:
          total_spin[0] -= 1
      priority_total[i*N+j] = [sum(1 for k in range(N) if J[(k-1)//N][i][j]*h[k%N][j] > 0), -total_spin[0]]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::N], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::N], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority)


#score: {'data2D.txt': -0.0005143518518518524}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
    spin = 1 if h[site_nbr][i%N] > 0 else -1
    total_spin[i][spin==1] += 1
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[j][0] = total_spin[j][0]
      else:
        priority_total[j][1] = -1*total_spin[j][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.007745833333333335}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%N - 1)) % N for k in range(3)]
      for k in site_nbrs:
        total_spin[i*N+j][0] += h[k%N][j%N]
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
      else:
        total_spin[i*N+j][1] -= 1
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[j][0] = total_spin[j][0]
      else:
        priority_total[j][1] = -total_spin[j][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  site_nbrs = [(i + ((j-1)%N - N//2)) % N for i in range(N) for j in range(N)]
  
  for i in range(N**2):
    site_nbr = (site_nbrs[i] + ((i//N-1)%2 - 1)) % N
    spin = 1 if h[site_nbr][i%N] > 0 else -1
    total_spin[i][spin==1] += 1
  
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[j*N+j][0] += total_spin[j*N+j][0]
        priority_total[j*N+j][1] -= total_spin[j*N+j][0]
      else:
        priority_total[j*N+j][1] = -total_spin[j*N+j][0]
        priority_total[j*N+j][0] = total_spin[j*N+j][0]
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i % N, i // N)
    total_spin = [0, 0]
    for k in [(0, 1), (-1, 0), (1, -1), (-1, 1)]:
      j_offset, i_offset = k
      if abs(i_offset) == 1 and site_nbr[1] + i_offset >= N:
        continue
      total_spin[0] += J[i_offset][site_nbr[0]][(site_nbr[1]+j_offset)%N]
      total_spin[1] -= J[j_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), -total_spin[0]])
    else:
      priorities.append([-1*total_spin[0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i % N, i // N)
    total_spin = [0, 0]
    for k in [(1, 0), (0, 1), (-1, 0), (0, -1)]:
      j_offset, i_offset = k
      if site_nbr[0] + j_offset < N and site_nbr[1] + i_offset < N:
        total_spin[0] += J[i_offset][site_nbr[0]][(site_nbr[1]+j_offset)%N]
      if site_nbr[0] + j_offset >= 0 and site_nbr[1] - i_offset >= 0:
        total_spin[1] -= J[j_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([-1*total_spin[0], float('-inf')])
    else:
      priorities.append([float('-inf'), -total_spin[0]])
  return(priorities)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i % N, i // N)
    total_spin = [0, 0]
    for k in [(1, 0), (0, 1), (-1, 0), (0, -1)]:
      j_offset, i_offset = k
      total_spin[0] += J[i_offset][site_nbr[0]][(site_nbr[1]+j_offset)%N]
      total_spin[1] -= J[j_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), -total_spin[0]])
    else:
      priorities.append([-1*total_spin[0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': 0.03905601851851852}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(1, -1), (-1, 1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] -= J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      if h[(site_nbr[0]+i_offset)%N][site_nbr[1]] > 0:
        total_spin[1] += J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      else:
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
    priority_total[i][0] = -total_spin[0]
    priority_total[i][1] = total_spin[1]
  return(priority_total)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i, (j+1)%N), ((i+1)%N, j), (i, (j-1+N)%N), ((i-1+N)%N, j)]
      for k, nbr in enumerate(site_nbrs):
        if h[nbr[0]][nbr[1]] > 0:
          priorities[i*N+j][0] += J[k][nbr[0]][nbr[1]]
          priorities[i*N+j][1] -= J[k][nbr[0]][nbr[1]]
        else:
          priorities[i*N+j][0] -= J[k][nbr[0]][nbr[1]]
          priorities[i*N+j][1] += J[k][nbr[0]][nbr[1]]
  return(priorities)


#score: {'data2D.txt': 0.011877623456790122}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] -= J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      if h[(site_nbr[0]+i_offset)%N][site_nbr[1]] > 0:
        total_spin[1] += J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      else:
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
    priorities.append(total_spin)
  return(priorities)


#score: {'data2D.txt': -0.0003945987654320986}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  priority_total = [[0.0 for _ in range(2)] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += J_new[4*(site*N+j) + 3]
        priority_total[i*N+j][1] -= J_new[4*(i*N+((j-1)%2 - 1)) + 0]
      else:
        site = (i + ((j-1)%2 - 1)) % N
        priority_total[i*N+j][0] -= J_new[4*(site*N+j) + 3]
        priority_total[i*N+j][1] += J_new[4*(i*N+((j-1)%2 - 1)) + 0]
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.22840848765432106}
program:
def priority(N, h, J):
  N2 = N*N
  J_new = J.flatten()
  priority_total = [[0.0 for _ in range(2)] for _ in range(N2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      total_spin = J_new[4*(site*N+j) + 3]
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
      else:
        priority_total[i*N+j][1] = -total_spin
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin_up = sum([state[i][j] * (h[i][j]) for i in range(N) for j in range(N)])
  total_spin_down = -total_spin_up
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j][1] = total_spin_down
        priority_total[i*N+j][0] = -total_spin_up
      else:
        priority_total[i*N+j][1] = total_spin_up
        priority_total[i*N+j][0] = -total_spin_down
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0013032407407407404}
program:
def priority(N, h, J):
  N2 = N*N
  site_interactions = []
  
  for i in range(N2):
    site_nbr1 = ((i//N+1)%N + (i%N-1)%2) % N
    site_nbr2 = (i//N+(i%N-1)%2) % N
    
    if h[i//N][i%N] > 0:
      site_interactions.append([J[(i+N2*site_nbr1):(i+1), ((i//N+1)%N + (i%N-1)%2) % N, :].sum(), -J[(i+N2*site_nbr2):(i+1), (i//N+(i%N-1)%2) % N, :].sum()])
    else:
      site_interactions.append([-J[(i+N2*site_nbr1):(i+1), ((i//N+1)%N + (i%N-1)%2) % N, :].sum(), J[(i+N2*site_nbr2):(i+1), (i//N+(i%N-1)%2) % N, :].sum()])
  
  return site_interactions


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = (np.prod(J_new[0::2], 0) + h).flatten()
  sum2 = (-np.prod(J_new[1::2], 0)).flatten()
  priority = np.column_stack((sum1, -sum1))
  return(priority)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[j][0] = float('inf')
      else:
        priority_total[j][1] = float('-inf')
        
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  site_nbrs = [(i + ((j-1)%N - N//2)) % N for i in range(N) for j in range(N)]

  for i in range(N):
    for j in range(N):
      site_spin = 1 if h[i][j] > 0 else -1
      total_spin[i*N+j][0] += site_spin
      total_spin[i*N+j][1] -= site_spin

  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]

  for i in range(N**2):
    if h[i//N][i%N]>0:
      total_spin_value = total_spin[i][0]
      priority_total[i][0] = -total_spin_value
      priority_total[i][1] = total_spin_value
    else:
      total_spin_value = total_spin[i][0]
      priority_total[i][0] = total_spin_value
      priority_total[i][1] = -total_spin_value

  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  site_nbrs = [(i + ((j-1)%N - N//2)) % N for i in range(N) for j in range(N)]
 
  for i in range(N):
    for j in range(N):
      site_spin = 1 if h[i][j] > 0 else -1
      total_spin[i*N+j][0] += site_spin
      total_spin[i*N+j][1] -= site_spin
      
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N**2):
    if h[i//N][i%N]>0:
      priority_total[i][0] = total_spin[i][0]
      priority_total[i][1] = -total_spin[i][0]
    else:
      priority_total[i][1] = total_spin[i][0]
      priority_total[i][0] = -total_spin[i][0]
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        
  for i in range(N**2):
    site = (i % N + ((i//N-1)%2 - 1)) % N
    state[site][i%N] += 1 if h[site][i%N] > 0 else -1
    total_spin[i][0] += 1 if h[site][i%N] > 0 else -1
    total_spin[i][1] -= 1 if h[site][i%N] > 0 else 1
        
  priorities = [(total_spin[i][0],-total_spin[i][1]) for i in range(N**2)]
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.04845447530864198}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      total_spin[i*N+j][0] += state[site_nbr][j]
      total_spin[i*N+j][1] -= state[site_nbr][j]

  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N**2):
    if h[i//N][i%N]>0:
      priority_total[i][0] = total_spin[i][0]
      priority_total[i][1] = -total_spin[i][0]
    else:
      priority_total[i][1] = total_spin[i][0]
      priority_total[i][0] = -total_spin[i][0]
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.00829706790123457}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[site_nbr][0] -= 1
        total_spin[site_nbr][1] += 1
  
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N**2):
    if h[i//N][i%N]>0:
      priority_total[i][0] = total_spin[i][0]
      priority_total[i][1] = -total_spin[i][0]
    else:
      priority_total[i][1] = total_spin[i][0]
      priority_total[i][0] = -total_spin[i][0]
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.0013594135802469127}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = [[h[i][j] if i%2 == 0 else -h[i][j] for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N2):
    site_nbr1 = (i//N + (i%N-1)%2) % N
    site_nbr2 = ((i//N+1)%N + (i%N-1)%2) % N
    if h[i//N][i%N] > 0:
      priorities.append([total_spin[site_nbr1][i%N], -total_spin[site_nbr2][i%N]])
    else:
      priorities.append([-total_spin[site_nbr1][i%N], total_spin[site_nbr2][i%N]])
  return [[x, y] for x,y in priorities]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  
  return [[x, y] for x,y in [tuple(total) for total in priority_total]]


#score: {'data2D.txt': 0.0007112654320987658}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = [[h[i][j] if i%2 == 0 else -h[i][j] for j in range(N)] for i in range(N)]
  priorities = []
  
  for i in range(N2):
    site_nbr1 = (i//N + (i%N-1)%2) % N
    site_nbr2 = ((i+1)%N + (i%N-1)//N) % N
    
    if h[i//N][i%N] > 0:
      priorities.append([total_spin[site_nbr1][i%N], -total_spin[site_nbr2][i%N]])
    else:
      priorities.append([-total_spin[site_nbr1][i%N], total_spin[site_nbr2][i%N]])
  
  return [[x, y] for x,y in priorities]


#score: {'data2D.txt': -0.0650375}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_energy = [0, 0]
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      total_energy[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_energy[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    priorities.append([-total_energy[0], -total_energy[1]])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    site_spin = sum(1 if J[(j%N)%4][site_nbr[0]][(site_nbr[1]+j-1)%N] > 0 else -1*1 if J[(j%N)%4][site_nbr[0]][(site_nbr[1]-j+1)%N] > 0 else 0 for j in range(4))
    site_spin = (site_spin + state[site_nbr[0]][site_nbr[1]]) % 2
    priorities.append([site_spin, -1*site_spin])
  return(priorities)


#score: {'data2D.txt': 0.17344953703703703}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    site_spin = sum(1 if J[(k%4)][site_nbr[0]][(site_nbr[1]+k-1)%N] > 0 else -1*1 if J[(k%4)][site_nbr[0]][(site_nbr[1]-k+1)%N] > 0 else 0 for k in range(4))
    priorities.append([site_spin, -1*site_spin])
  return(priorities)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%N - N//2)) % N for k in [j-1, (j+1)%N, (i-1+N)%N, (i+1)%N]]
      
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        total_spin[i*N+j][0] += 2
        total_spin[i*N+j][1] -= 2
      elif any(h[site_nbr][j] < 0 for site_nbr in site_nbrs):
        if all(h[site_nbr][j] < 0 for site_nbr in site_nbrs) or h[i][j] > 0:
          total_spin[i*N+j][0] -= 1
          total_spin[i*N+j][1] += 1
        else:
          total_spin[i*N+j][0] += 1
          total_spin[i*N+j][1] -= 1
  
  return [[x, y] for x, y in sorted([(a, b) for a, b in total_spin], reverse=True)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]

  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        
  return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]

  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1

  for i in range(N):
    site = (i + ((j-1)%2 - 1)) % N
    if h[i][j] > 0:
      priority_total[i*N+j][0] += sum(J[site*N:(site+1)*N].flatten())
      priority_total[i*N+j][1] -= sum(J[site*N:(site+1)*N].flatten())
    else:
      priority_total[i*N+j][0] -= sum(J[site*N:(site+1)*N].flatten()) + sum(J[i*N:(i+1)*N].flatten())

  return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      for k in range(3):
        total_spin = sum(J[site_nbr*N:(site_nbr+1)*N].flatten())
        if h[i][j] > 0:
          priority_total[i*N+j][0] += 1 + total_spin
          priority_total[i*N+j][1] -= 1 - total_spin
        else:
          priority_total[i*N+j][0] -= 1 + total_spin
          priority_total[i*N+j][1] = -1 + total_spin
  
  return [[p[0], p[1]] for p in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += sum(J[site_nbr*N:(site_nbr+1)*N].flatten())
        priority_total[i*N+j][1] -= sum(J[site_nbr*N:(site_nbr+1)*N].flatten())
      else:
        priority_total[i*N+j][0] -= sum(J[site_nbr*N:(site_nbr+1)*N].flatten())
  
  return [[total_spin[0], total_spin[1]] for total_spin in priority_total]


#score: {'data2D.txt': 0.001082253086419753}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N-1)%N - 1)) % N
    total_spin[i][0] += h[site_nbr][i % N]
    total_spin[i][1] -= h[site_nbr][i % N]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[i*N+j][0]
        priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
      else:
        priority_total[i*N+j][0] = -1*total_spin[i*N+j][0]
        priority_total[i*N+j][1] = total_spin[i*N+j][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0013155864197530861}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        total_spin = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        state[site_nbrs[0]][j] += -1
        state[site_nbrs[1]][j] += 1 if site_nbrs[1]%N == j else -1
        state[site_nbrs[2]][j] += -1
        state[site_nbrs[3]][j] += 1 if site_nbrs[3]%N == j else -1
        
        for k in range(N):
          total_spin[k*N+j][0] = sum(h[i][k] for i in range(N))
          total_spin[k*N+j][1] = sum(1 if h[i][k] > 0 else -1 for i in range(N))
        
        return [[x, y] for x, y in sorted([(a, b) for a, b in total_spin], reverse=True)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      
      if all(h[site_nbr][0] > 0 for site_nbr in site_nbrs):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        
        total_spin = [sum(1 if h[i][j] > 0 else -1 for j in range(N)) for i in range(N)]
        priority_total[i*N+j][0] += sum(h[i][j]*total_spin[j] for j in range(N))
        priority_total[i*N+j][1] -= sum(-h[i][j]*total_spin[j] for j in range(N))
        
      elif all(h[site_nbr][0] < 0 for site_nbr in site_nbrs):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        
        total_spin = [sum(1 if h[i][j] > 0 else -1 for j in range(N)) for i in range(N)]
        priority_total[i*N+j][0] -= sum(h[i][j]*total_spin[j] for j in range(N))
        priority_total[i*N+j][1] += sum(-h[i][j]*total_spin[j] for j in range(N))
  
  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.0022912037037037037}
program:
def priority(N, h, J):
  def sum_spin(i,j):
    spin = 0
    for k in range(3):
      site_nbr = (i + ((k-1)%2 - 1)) % N
      spin += h[site_nbr][j]
    return spin

  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_spin = sum_spin(i,j)
      if h[i][j] > 0:
        priority_total[i*N+j][0] = site_spin
        priority_total[i*N+j][1] = -1*site_spin
      else:
        priority_total[i*N+j][0] = -site_spin
        priority_total[i*N+j][1] = site_spin
  return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[site_nbr][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    if h[site_nbr][i%N] > 0:
      priority_total[i][0] = total_spin[i][0]
      priority_total[i][1] = -1*total_spin[i][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.05013564814814815}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, -1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] += -J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= -J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[site_nbr[0]][site_nbr[1]] > 0:
      priorities.append([total_spin[0], -total_spin[1]])
    else:
      priorities.append([-total_spin[0], total_spin[1]])
  return(priorities)


#score: {'data2D.txt': -0.0022890432098765434}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, -1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] += -J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
        total_spin[1] -= -J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    site = (site_nbr[0] + ((site_nbr[1]-1)%2 - 1)) % N
    if h[site_nbr[0]][site_nbr[1]] > 0:
      priorities.append([total_spin[0], -total_spin[1]])
    else:
      priorities.append([-total_spin[0], total_spin[1]])
  return([[p1, p2] for p1, p2 in sorted(priorities)])


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin_left = [float('-inf') for _ in range(2)]
  total_spin_right = [float('-inf') for _ in range(2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        total_spin_left[0] += J[0][i][j]
        total_spin_left[1] -= J[1][i][j]
        total_spin_right[0] += J[2][i][j]
        total_spin_right[1] -= J[3][i][j]
      else:
        total_spin_left[0] += -J[0][i][j]
        total_spin_left[1] -= -J[1][i][j]
        total_spin_right[0] += -J[2][i][j]
        total_spin_right[1] -= -J[3][i][j]
      if h[i][j] > 0:
        priorities.append([total_spin_left[0], -total_spin_right[0]])
      else:
        priorities.append([-total_spin_left[0], total_spin_right[0]])
  return(priorities)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in site_interaction:
      j_offset, i_offset = k
      total_spin[i][0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[i][1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
  priorities = []
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'),total_spin[i][0]])
    else:
      priorities.append([-1*total_spin[i][0],float('-inf')])
  return(priorities)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in site_interaction:
      j_offset, i_offset = k
      total_spin[i][0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[i][1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    priorities = []
    for i in range(N**2):
      if h[i//N][i%N] > 0:
        priorities.append([float('-inf'), total_spin[i][0]])
      else:
        priorities.append([-1*total_spin[i][0], float('-inf')])
    return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[[float('inf'), -float('inf')] for _ in range(4)] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for j_offset in [-1, 0, 1]:
      for i_offset in [-1, 0, 1]:
        if j_offset == 0 and i_offset == 0:
          continue
        site = (site_nbr[0] + i_offset, site_nbr[1] + j_offset)
        if site[0] < 0 or site[0] >= N or site[1] < 0 or site[1] >= N:
          continue
        priority_total[i][0][0] -= J[1][site[0]][site[1]]
        priority_total[i][0][1] += J[3][site[0]][site[1]]
        if h[site[0]][site[1]] > 0:
          priority_total[i][1][0] -= 2 * J[1][site[0]][site[1]]
          priority_total[i][1][1] += 2 * J[3][site[0]][site[1]]
        else:
          priority_total[i][1][0] += 2 * J[1][site[0]][site[1]]
          priority_total[i][1][1] -= 2 * J[3][site[0]][site[1]]
  return [[priority_total[i][0].index(min(priority_total[i][0])), priority_total[i][1].index(min(priority_total[i][1]))] for i in range(N**2)]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum2 = (np.prod(J_new[1::4], 0) + h).flatten()
  sum3 = (np.prod(J_new[2::4], 0) + h).flatten()
  sum4 = (np.prod(J_new[3::4], 0) + h).flatten()
  priority = np.column_stack((sum1+sum2+sum3, -sum1-sum2-sum3))
  return(priority)


#score: {'data2D.txt': -0.0011384259259259251}
program:
def priority(N, h, J):
  priority_total = [[[0.0, 0.0]] * N for _ in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[site_nbr][j][0] += 1
        priority_total[site_nbr][j][1] -= 1
      else:
        priority_total[site_nbr][j][0] -= 1
  return [[x[0], x[1]] for x in [y for y in np.concatenate(priority_total).tolist()]]


#score: {'data2D.txt': 0.2083486111111112}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[site_nbr][0] += 1
        total_spin[site_nbr][1] -= 1
      else:
        total_spin[site_nbr][0] -= 1

  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += total_spin[site][0]
        priority_total[i*N+j][1] -= total_spin[site][0]
      else:
        priority_total[i*N+j][0] -= total_spin[site][0]

  return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': -0.02238317901234568}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      if J[k[0]][site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin[0] += 1
        total_spin[1] -= 1
      else:
        total_spin[0] -= 1
        total_spin[1] += 1
    priorities.append(total_spin)
  return(priorities)


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(1, 0), (-1, 0), (0, -1), (0, 1)]:
      j_offset, i_offset = k
      if J[3][site_nbr[0]][(site_nbr[1]-j_offset)%N] > 0:
        total_spin[0] += 2
      elif J[3][site_nbr[0]][(site_nbr[1]-j_offset)%N] < 0:
        total_spin[1] -= 2
    if h[i//N][i%N] > 0:
      priorities.append([-total_spin[0], float('-inf')])
    else:
      priorities.append([float('-inf'), -total_spin[0]])
  return(priorities)


#score: {'data2D.txt': -0.010488425925925927}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  site_spin_sum = sum(sum(h[i]) for i in range(N))
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin = site_spin_sum + J[site*N+(j-1)//2::4].sum()
        priority_total[i*N+j][0] = total_spin
      else:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin = site_spin_sum - J[site*N+(j-1)//2::4].sum()
        priority_total[i*N+j][1] = -total_spin
  
  return sorted([(a, b) for a, b in priority_total], reverse=True)


#score: {'data2D.txt': -0.0005214506172839501}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]

  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j - 1) % N - N // 2)) % N
      total_spin = sum(sum(h[k][l] * state[k][l] for l in range(N)) for k in range(N))
      if h[i][j] > 0:
        priority_total[i*N+j][0] += total_spin
        priority_total[i*N+j][1] -= total_spin
      else:
        priority_total[i*N+j][0] -= total_spin
        priority_total[i*N+j][1] += total_spin

  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % 2)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] -= J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] += J[site_nbr*N+(i%N)//2::4].sum()
    else:
      priority_total[i][0] += J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] -= J[site_nbr*N+(i%N)//2::4].sum()

  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.0008717592592592589}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]

  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j - 1) % N - N // 2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1

  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % 2)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] -= J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] += J[site_nbr*N+(i%N)//2::4].sum()
    else:
      priority_total[i][0] += J[site_nbr*N+(i%N)//2::4].sum()
      priority_total[i][1] -= J[site_nbr*N+(i%N)//2::4].sum()

  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.04651466049382716}
program:
def priority(N, h, J):
  J_flat = J.flatten()
  total_spin = np.zeros((N*N, 2))
  
  for i in range(N*N):
    s1 = 0
    s2 = 0
    
    for j in range(4):
      if (j==0 and ((i//N)%2==0 or (i%N)==0)) or ((j==1 and ((i//N)%2==1 or i==(N-1))) or (j==2 and ((i//N)%2==0 or i%(N*2)<N)) or (j==3 and ((i//N)%2==1 or i%(N*2)>N))):
        s1 += J_flat[i]
      elif j==1:
        s1 -= J_flat[i]
      elif j==2:
        s2 += J_flat[i]
      else:
        s2 -= J_flat[i]
    
    if h[i//N][i%N] > 0:
      total_spin[i][0] += s1
      total_spin[i][1] -= s2
    else:
      total_spin[i][0] -= s1
      total_spin[i][1] += s2
  
  priority_total = [[x[0], x[1]] for x in total_spin]
  
  return priority_total


#score: {'data2D.txt': 0.00026898148148148213}
program:
def priority(N, h, J):
  J_flat = J.reshape(-1, 4).sum(axis=1)
  total_spin = np.zeros((N*N, 2))
  
  for i in range(N*N):
    s1 = 0
    s2 = 0
    
    for j in range(4):
      if (j==0 and ((i//N)%2==0 or (i%N)==0)) or ((j==1 and ((i//N)%2==1 or i==(N-1))) or (j==2 and ((i//N)%2==0 or i%(N*2)<N)) or (j==3 and ((i//N)%2==1 or i%(N*2)>N))):
        s1 += J_flat[i]
      elif j==1:
        s1 -= J_flat[i]
      elif j==2:
        s2 += J_flat[i]
      else:
        s2 -= J_flat[i]
    
    total_spin[i] = [s1, -s2]
  
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = [[0, 0] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  
  return [[x[0], -x[1]] for x in total_spin]


#score: {'data2D.txt': -0.0006893518518518516}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]

  for site in range(N**2):
    site_nbr = (site // N + ((site % N - 1) % 2)) % N
    if h[site//N][site%N] > 0:
      total_spin = sum(J[site_nbr*N+(i%N)//2::4].sum() for i in range(N))
      priority_total[site][0] = total_spin
    else:
      total_spin = -sum(J[site_nbr*N+(i%N)//2::4].sum() for i in range(N))
      priority_total[site][1] = total_spin

  return sorted([(a, b) for a, b in priority_total], reverse=True)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  site_spin_sum = sum(sum(h[i]) for i in range(N))
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin = site_spin_sum + J[site*N+(j-1)//2::4].sum()
        priority_total[i*N+j][0] = total_spin
      else:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin = site_spin_sum - J[site*N+(j-1)//2::4].sum()
        priority_total[i*N+j][1] = -total_spin
  
  return sorted([(a,b) for a,b in priority_total], key=lambda x: (x[0]+x[1]), reverse=True)


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
  sum_3 = (np.prod(J_new[2::4], 0) + h).flatten()
  sum_4 = (np.prod(J_new[3::4], 0) + h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  site_spin_sum = sum(sum(h[i]) for i in range(N))
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin = site_spin_sum + J[site*N+(j-1)//2::4].sum()
        priority_total[i*N+j][0] = total_spin
      else:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin = site_spin_sum - J[site*N+(j-1)//2::4].sum()
        priority_total[i*N+j][1] = -total_spin
  
  return sorted([(a, b) for a, b in priority_total], reverse=True)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      if J[k[0]][site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin[0] += 1
        total_spin[1] -= 1
      else:
        total_spin[0] -= 1
        total_spin[1] += 1
    site = (i + ((i//N-1)%2 - 1)) % N
    if h[i//N][site]%N > 0:
      priorities.append([total_spin[0], -1*total_spin[1]])
    else:
      priorities.append([-1*total_spin[0], total_spin[1]])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [float('-inf'), float('-inf')]
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in site_interaction:
      j_offset, i_offset = k
      total_spin[0] += J[i_offset][site_nbr[0]][(site_nbr[1]+j_offset)%N]
      total_spin[1] -= J[j_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
    priorities.append(total_spin)
  return(priorities)


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      if J[k[0]][site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin[0] += 1
        total_spin[1] -= 1
      else:
        total_spin[0] -= 1
        total_spin[1] += 1
    if h[i//N][i%N] > 0:
      priorities.append([-total_spin[0], float('-inf')])
    else:
      priorities.append([float('-inf'), -total_spin[0]])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    site_nbr = (i + ((N-1)%2 - 1)) % N
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[site_nbr*N+int(j/N)][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[site_nbr*N+int(j/N)][1] += 1
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.0011384259259259251}
program:
def priority(N, h, J):
  priority_total = [[[0.0, 0.0]] * N for _ in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[site_nbr][j][0] += 1
        priority_total[site_nbr][j][1] -= 1
      else:
        priority_total[site_nbr][j][0] -= 1
  
  return [[x[0], x[1]] for x in [y for y in np.concatenate(priority_total).tolist()]]


#score: {'data2D.txt': -0.0028433641975308638}
program:
def priority(N, h, J):
  priority_total = [[[0.0, 0.0]] * N for _ in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = (i + ((j-1)%N - 1)) % N
      site_nbr2 = (i + ((j+1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[site_nbr1][j][0] += 1
        priority_total[site_nbr1][j][1] -= 1
        priority_total[site_nbr2][j][0] += 1
        priority_total[site_nbr2][j][1] -= 1
      else:
        priority_total[site_nbr1][j][0] -= 1
        priority_total[site_nbr1][j][1] += 1
        priority_total[site_nbr2][j][0] -= 1
        priority_total[site_nbr2][j][1] += 1
  
  return [[x[0], x[1]] for x in [y for y in np.concatenate(priority_total).tolist()]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[site][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[site][1] += 1
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': 0.2690439814814816}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += np.sum(J[:,i,j])
        priority_total[i*N+j][1] -= np.sum(J[site:N*2:3].flatten())
      else:
        priority_total[i*N+j][0] -= np.sum(J[site:N*2:3].flatten())
  return priority_total


#score: {'data2D.txt': 0.1019699074074074}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%2 - 1)) % N
        for k in range(4):
          priority_total[i*N+j][0] += J[k,i,j]
          if k == 3:
            break
      else:
        total_spin = 0
        for k in range(4):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += J[k,i,j]
        priority_total[i*N+j][1] -= total_spin
  return priority_total


#score: {'data2D.txt': -0.22128873456790102}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N2)]
  for i in range(N2):
    site = (i % N + ((i//N-1)%2 - 1)) % N
    k = i + N//2
    if h[i//N][i%N] > 0:
      priority_total[i][0] = sum(J[k%N*N:(k+1)%N*N].flatten()) + (h[i//N][i%N]-h[(site+N)//N][(site+N)%N])
      priority_total[i][1] = -sum(J[k%N*N:(k+1)%N*N].flatten())
    else:
      priority_total[i][0] = -sum(J[k%N*N:(k+1)%N*N].flatten()) + (h[i//N][i%N]-h[(site+N)//N][(site+N)%N])
      priority_total[i][1] = sum(J[k%N*N:(k+1)%N*N].flatten())
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00045910493827160424}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = [[0, 0] for _ in range(N2)]
  for i in range(N2):
    site = (i % N + ((i//N-1)%2 - 1)) % N
    k = i + N//2
    if h[i//N][i%N] > 0:
      total_spin[i][0] += sum(J[k%N*N:(k+1)%N*N].flatten()) + (h[i//N][i%N]-h[(site+N)//N][(site+N)%N])
      total_spin[i][1] -= sum(J[k%N*N:(k+1)%N*N].flatten())
    else:
      total_spin[i][0] -= sum(J[k%N*N:(k+1)%N*N].flatten()) + (h[i//N][i%N]-h[(site+N)//N][(site+N)%N])
      total_spin[i][1] += sum(J[k%N*N:(k+1)%N*N].flatten())
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.0013097222222222219}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = [[0.0, 0.0] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      spin = -1 if h[i][j] > 0 else 1
      
      total_spin[site][spin==1] += sum(J[(i*N+j)%N2:(i*N+2)*N2].flatten())
      
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[j][0] = total_spin[j][0]
      else:
        priority_total[j][1] = -total_spin[j][0]
        
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  site_nbrs = [(i + ((j-1)%N - N//2)) % N for i in range(N) for j in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_spin = 1 if h[i][j] > 0 else -1
      total_spin[i*N+j][0] += site_spin
      total_spin[i*N+j][1] -= site_spin
      
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N**2):
    if h[i//N][i%N]>0:
      priority_total[i][0] = total_spin[i][0]
      priority_total[i][1] = -total_spin[i][0]
    else:
      priority_total[i][1] = total_spin[i][0]
      priority_total[i][0] = -total_spin[i][0]
      
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0010507716049382712}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]

  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      total_spin = sum(h[site][j] for site in site_nbrs)
      if h[i][j] > 0:
        priorities[i][j][0] = -total_spin
        priorities[i][j][1] = 1
      else:
        priorities[i][j][0] = 1
        priorities[i][j][1] = total_spin

  return sorted([(a, b) for a, b in [item for sublist in priorities for item in sublist]], reverse=True)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N**2):
    site_nbrs = [(i // N + ((i % N - 1) % 2)) % N for k in range(4)]
    total_spin[i][0] += sum(J[site_nbr*N+(i%N)//2::4].sum() if h[site_nbr//N][site_nbr%N] > 0 else -J[site_nbr*N+(i%N)//2::4].sum() for site_nbr in site_nbrs)
    total_spin[i][1] -= sum(J[site_nbr*N+(i%N)//2::4].sum() if h[site_nbr//N][site_nbr%N] > 0 else -J[site_nbr*N+(i%N)//2::4].sum() for site_nbr in site_nbrs)
  return sorted([(a, b) for a, b in total_spin], reverse=True)


#score: {'data2D.txt': -0.001297685185185185}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%N - N//2)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      if all(h[site_nbr][j] > 0 for site_nbr in site_nbrs):
        total_spin[i*N+j][0] += 2
        total_spin[i*N+j][1] -= 2
      elif any(h[site_nbr][j] < 0 for site_nbr in site_nbrs):
        if all(h[site_nbr][j] < 0 for site_nbr in site_nbrs) or h[i][j] > 0:
          total_spin[i*N+j][0] -= 1
          total_spin[i*N+j][1] += 1
        else:
          total_spin[i*N+j][0] += 1
          total_spin[i*N+j][1] -= 1
  return [[x, y] for x, y in sorted([(a, b) for a, b in total_spin], reverse=True)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      total_spin[i*N+j][0] += sum(h[site_nbr][j] * (-1 if h[site_nbr][j] > 0 else 1) for site_nbr in site_nbrs)
      total_spin[i*N+j][1] -= sum(h[site_nbr][j] * (-1 if h[site_nbr][j] < 0 else 1) for site_nbr in site_nbrs)
  return [[x, y] for x, y in sorted([(a, b) for a, b in total_spin], reverse=True)]


#score: {'data2D.txt': -0.0014708333333333338}
program:
def priority(N, h, J):
  priority_total = [[0, 0] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]

  for i in range(N**2):
    site_nbrs = [(i // N + ((k - 1) % 2) - 1) % N for k in [i % N - 1, i % N + 1, (N - 1) + (i // N - 1) % N, (N - 1) + (i // N + 1) % N]]
    if all(h[site_nbr][i % N] > 0 for site_nbr in site_nbrs):
      priority_total[i][0] += sum(sum(1 for k in range(N) if h[k][l] > 0) for l in range(N))
      priority_total[i][1] -= sum(sum(-1 for k in range(N) if h[k][l] < 0) for l in range(N))
    elif any(h[site_nbr][i % N] < 0 for site_nbr in site_nbrs):
      if all(h[site_nbr][i % N] < 0 for site_nbr in site_nbrs) or h[i // N][i % N] > 0:
        priority_total[i][0] -= sum(sum(1 for k in range(N) if h[k][l] > 0) for l in range(N))
        priority_total[i][1] += sum(sum(-1 for k in range(N) if h[k][l] < 0) for l in range(N))
      else:
        priority_total[i][0] += sum(sum(1 for k in range(N) if h[k][l] > 0) for l in range(N))
        priority_total[i][1] -= sum(sum(-1 for k in range(N) if h[k][l] < 0) for l in range(N))

  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  total_spin = [[float('inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[site*N+int((j-1)//N)][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[site*N+int((j-1)//N)][1] += 1
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[[float('-inf') for _ in range(2)] for j in range(N)] for i in range(N)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[site][int((j-1)//N)][1] -= 1
      else:
        priority_total[i][j][0] -= 1
        priority_total[site][int((j-1)//N)][1] += 1
  return [[-x[1], x[0]] for sublist in priority_total for x in sublist]


#score: {'data2D.txt': -0.33499552469135707}
program:
def priority(N, h, J):
  state = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_priority = (i + ((j-1)%2 - 1)) % N
        neighbor = (site_priority + ((site_priority//N - 1) % N - 1)) % N
        state[i*N+j][0] += 1
        if j < N-1:
          state[neighbor*N+int((j+1)//N)][1] -= 1
      else:
        site_priority = (i + ((j-1)%2 - 1)) % N
        neighbor = (site_priority + ((site_priority//N - 1) % N - 1)) % N
        state[i*N+j][0] -= 1
        if j < N-1:
          state[neighbor*N+int((j+1)//N)][1] += 1
  return state.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[site][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[site][1] += 1
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.2046770061728397}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        priority_total[i*N+j][0] += J[3,i,j]
        priority_total[i*N+j][1] -= J[3,i,j]
      else:
        site = (i + ((j-1)%N - N//2)) % N
        total_spin = np.sum(J[:,site,j])
        if total_spin > 0:
          priority_total[i*N+j][0] = total_spin
        else:
          priority_total[i*N+j][1] = -total_spin
  return priority_total


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]

  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      
      for site_nbr in site_nbrs:
        if h[site_nbr][0] > 0:
          total_spin[i*N+j][0] += 1
          total_spin[i*N+j][1] -= 1
        else:
          total_spin[i*N+j][0] -= 1
          total_spin[i*N+j][1] += 1

  return sorted([(a, b) for a, b in total_spin], reverse=True)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      spin = -1 if h[i][j] > 0 else 1
      total_spin[site][spin==1] += 1
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[site][0] += 1
        priority_total[site][1] -= 1
      else:
        priority_total[site][0] -= 1
        priority_total[site][1] += 1
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  total_spin = [[0, 0] for _ in range(N**2)]

  for k in range(3):
    site_nbr = (k-1) % N
    for i in range(N):
      for j in range(N):
        total_spin[i*N+j][0] += h[site_nbr][j]
  for i in range(N**2):
    if state[i//N][i%N] > 0:
      priority_total[i][1] -= J[:,i//N,i%N].flatten().sum()
      priority_total[i][0] += J[:,i//N,i%N].flatten().sum()
    else:
      priority_total[i][0] -= J[:,i//N,i%N].flatten().sum()

  return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[::4], 0) + h).flatten()
  sum_2 = (np.prod(J_new[1::4], 0) - h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum_2 = (-np.prod(J_new[1::4], 0) - h).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  site = lambda i, j: (i + ((j-1)%2 - 1)) % N
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
  return [[p[0], p[1]] for p in priority_total]


#score: {'data2D.txt': 0.005821759259259258}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, 1), (0, -1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+j_offset)%N] > 0:
        total_spin[0] += J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      else:
        total_spin[0] -= J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      if h[(site_nbr[0]+i_offset)%N][site_nbr[1]] > 0:
        total_spin[1] += J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[1] -= J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if state[i//N][i%N] > 0:
      priorities.append([-total_spin[0], -total_spin[1]])
    else:
      priorities.append([total_spin[0], total_spin[1]])
  return(priorities)


#score: {'data2D.txt': 0.0003208333333333333}
program:
def priority(N, h, J):
  priority_total = [[float('inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(1, -1), (-1, 1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] -= J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      if h[(site_nbr[0]+i_offset)%N][site_nbr[1]] > 0:
        total_spin[1] += J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      else:
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
    priority_total[i][0] = -total_spin[0]
    priority_total[i][1] = total_spin[1]
  return [[-x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.10354182098765431}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(1,-1),(-1,1),(0,1),(1,0)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[0] -= J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      if h[(site_nbr[0]+i_offset)%N][site_nbr[1]] > 0:
        total_spin[1] += J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      else:
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([total_spin[0], -total_spin[1]])
    else:
      priorities.append([-total_spin[0], total_spin[1]])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i][j][0] += 1
        priority_total[site_nbr][int(i%N/N)][1] -= 1
      else:
        priority_total[i][j][0] -= 1
        priority_total[site_nbr][int(i%N/N)][1] += 1
  return [[-x[1], x[0]] for x in [item for sublist in priority_total for item in sublist]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[site_nbr*N+int(i%N/N)][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[site_nbr*N+int(i%N/N)][1] += 1
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('inf'), float('-inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[site_nbr*N+int((j-1)//N)][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[site_nbr*N+int((j-1)//N)][1] += 1
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': 0.06868070987654323}
program:
def priority(N, h, J):
  site_priority = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site_priority[i*N+j][0] += 1
        if i < N//2:
          site_priority[(i+1)%N*N+j][1] -= 1
          site_priority[i*N+(j+1)%N][1] -= 1
          site_priority[(i+1)%N*N+(j+1)%N][0] += 1
        else:
          site_priority[i*N+j][1] -= 1
          site_priority[(i-1)%N*N+j][0] += 1
          site_priority[i*N+(j-1)%N][0] += 1
      else:
        site_priority[i*N+j][0] -= 1
        if i < N//2:
          site_priority[(i+1)%N*N+j][1] += 1
          site_priority[i*N+(j+1)%N][1] += 1
          site_priority[(i+1)%N*N+(j+1)%N][0] -= 1
        else:
          site_priority[i*N+j][1] += 1
          site_priority[(i-1)%N*N+j][0] -= 1
          site_priority[i*N+(j-1)%N][0] -= 1
  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[site_nbr*N+int((j-1)//N)][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[site_nbr*N+int((j-1)//N)][1] += 1
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.010593364197530864}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    total_spin = [0, 0]
    site_nbr = (i // N, i % N)
    for k in [(0, -1), (1, 0), (0, 1), (-1, 0)]:
      j_offset, i_offset = k
      if site_nbr[1] == 0 and j_offset < 0 or site_nbr[1] == N-1 and j_offset > 0:
        continue
      if site_nbr[0] == 0 and i_offset < 0 or site_nbr[0] == N-1 and i_offset > 0:
        continue
      total_spin[1] += J[k[1]][site_nbr[0]][(site_nbr[1]+k[0])%N]
      total_spin[0] -= J[k[0]][site_nbr[0]][(site_nbr[1]-k[1])%N]
    if h[i//N][i%N] > 0:
      priorities.append([-total_spin[0], -total_spin[1]])
    else:
      priorities.append([total_spin[0], total_spin[1]])
  return(priorities)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [[0, 0] for _ in range(N**2)]
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in site_interaction:
      j_offset, i_offset = k
      total_spin[i][0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[i][1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), -total_spin[i][0]])
    else:
      priorities.append([-1*total_spin[i][0], float('-inf')])
  
  return(priorities)


#score: {'data2D.txt': 0.0009711419753086426}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    total_spin = [0, 0]
    site_nbr = (i // N, i % N)
    for k in range(4):
      if k == 0:
        total_spin[1] += J[k][site_nbr[0]][site_nbr[1]]
      elif k == 1:
        total_spin[0] += J[(k+2)%4][site_nbr[0]][(site_nbr[1]+1)%N]
      elif k == 2:
        total_spin[1] += J[k][(site_nbr[0]+1)%N][site_nbr[1]]
      else:
        total_spin[0] += J[k-2][site_nbr[0]][(site_nbr[1]-1)%N]
    if h[i//N][i%N] > 0:
      priorities.append([-1*total_spin[0], -1*total_spin[1]])
    else:
      priorities.append([total_spin[0], total_spin[1]])
  return(priorities)


#score: {'data2D.txt': -0.00145354938271605}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N + ((i % N - 1) % 2)) % N
    if h[i//N][i%N] > 0:
      total_spin[i][0] += J[site_nbr*N+(i%N)//2::4].sum()
      total_spin[i][1] -= J[site_nbr*N+(i%N)//2::4].sum()
    else:
      total_spin[i][0] -= J[site_nbr*N+(i%N)//2::4].sum()
      total_spin[i][1] += J[site_nbr*N+(i%N)//2::4].sum()
  return sorted([(a, b) for a, b in total_spin], reverse=True)


#score: {'data2D.txt': 0.004232870370370371}
program:
def priority(N, h, J):
  return [(sum([J[(i + ((j-1)%N - N//2)) % N*N+(k-1)//2::4].sum() for k in range(N)]), 
      sum([-1 * J[(i + ((j-1)%N - N//2)) % N*N+(k-1)//2::4].sum() for k in range(N)]) if h[i][j] > 0 else 
      sum(J[(i + ((j-1)%N - N//2)) % N*N+(k-1)//2::4].sum() for k in range(N))) 
      for i in range(N) for j in range(N)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%2 - 1)) % N
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        site = (i + ((j-1)%2 - 1)) % N
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += 1
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in [(0, 1), (1, 0), (-1, 1), (1, -1)]:
      j_offset, i_offset = k
      total_spin[i][0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[i][1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
  priorities = []
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin[i][0]])
    else:
      priorities.append([-1*total_spin[i][0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N**2):
    site = (i // N, (i % N) - ((i // N + i % N) % 2) - 1)
    if h[site[0]][site[1]] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      site = (site[0], ((-1 * site[1]) + (i % N)) % N)
      priority_total[i][0] -= 1
      priority_total[i][1] += 1
  return priority_total


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N,i%N)
    for k in [(0,1),(1,0),(-1,1),(1,-1)]:
      j_offset, i_offset = k
      total_spin[i][0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[i][1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      priorities = [float('-inf'),total_spin[i][0]]
    else:
      priorities = [-1*total_spin[i][0],float('-inf')]
    for j in range(2):
      total_spin[i][j] = max(min(total_spin[i][j],priorities[j]),-min(priorities[j],0))
  return [[x,y] for x,y in total_spin]


#score: {'data2D.txt': -0.0009908950617283948}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    site_nbr = (i + ((i-1)%N - N//2)) % N
    for j in range(N):
      state[site_nbr][j] += state[i][j]
      total_spin[(i*N+j)][0] += h[i][j]*state[i][j]
      if h[i][j] > 0:
        total_spin[(i*N+j)][1] -= state[i][j]
      else:
        total_spin[(i*N+j)][1] += state[i][j]
  priority_total = [[x[0], x[1]] for x in total_spin]
  return sorted([(a, b) for a, b in priority_total], reverse=True)


#score: {'data2D.txt': -0.0012594135802469135}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      total_spin = sum(state[site_nbr][k] for k in range(N))
      if h[i][j] > 0:
        priority_total[i*N+j][0] += total_spin
        priority_total[i*N+j][1] -= total_spin
      else:
        priority_total[i*N+j][0] -= total_spin
        priority_total[i*N+j][1] += total_spin
  return [[x, y] for x, y in sorted([(a, b) for a, b in priority_total], reverse=True)]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = [[[0,0] for _ in range(N)] for _ in range(N)]
  
  for i in range(N2):
    site = (i // N + ((i % N) - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i//N][i%N][0] += 1
      priority_total[i//N][i%N][1] -= 1
    else:
      priority_total[i//N][i%N][0] -= 1
  
  return [[x, y] for x,y in [item for sublist in priority_total for item in sublist]]


#score: {'data2D.txt': 0.2825233024691353}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbrs = [(i//N + (k-1)%N) % N for k in [0,N-1,i%N]]
    total_spin = sum([h[site][i%N] for site in site_nbrs])
    if h[i//N][i%N] > 0:
      priorities.append([-total_spin, 1])
    else:
      priorities.append([total_spin, -1])
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.0022912037037037037}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  site_nbrs = [(i + ((j-1)%N - N//2)) % N for i in range(N) for j in range(N)]
  
  for k in range(3):
    for i in range(N):
      for j in range(N):
        site_nbr = (i + ((k-1)%2 - 1)) % N
        total_spin[i*N+j][0] += h[site_nbr][j]
        
  priority_total = [[0,0] for _ in range(N**2)]
  
  for i in range(N**2):
    if h[i//N][i%N]>0:
      priority_total[i][0] = total_spin[i][0]
      priority_total[i][1] = -total_spin[i][0]
    else:
      priority_total[i][1] = total_spin[i][0]
      priority_total[i][0] = -total_spin[i][0]
      
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, -1), (1, 1)]:
      j_offset, i_offset = k
      if i_offset == 0 and j_offset == 0:
        continue
      total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin[0]])
    else:
      priorities.append([-1*total_spin[0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for j in range(N)] for i in range(N)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%2 - 1)) % N
        priority_total[site][j][0] += 1
        priority_total[site][j][1] -= 1
      else:
        site = (i + ((j-1)%2 - 1)) % N
        priority_total[site][j][0] -= 1
  return([[total[0], total[1]] for row in priority_total for total in row])


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(0, 1), (1, 0), (-1, -1), (-1, 1)]:
      j_offset, i_offset = k
      total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([-total_spin[0], -float('inf')])
    else:
      priorities.append([total_spin[0], float('inf')])
  return(priorities)


#score: {'data2D.txt': -0.18656990740740742}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[sum([h[k//N][k%N] * (2*state[i][j] - 1) for k in [(i+1)%N*N+j, i*N+j-1, i*N+(j+1)%N-N//2] if k < N**2]) for j in range(N)] for i in range(N)]
  priority_total = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i+1)%N*N+j, i*N+j-1, i*N+(j+1)%N-N//2]
      if state[i][j] > 0:
        priority_total[site_nbrs[0]][0] += total_spin[i][j]
        priority_total[site_nbrs[0]][1] -= total_spin[i][j]
      else:
        priority_total[site_nbrs[0]][0] -= total_spin[i][j]
        priority_total[site_nbrs[0]][1] += total_spin[i][j]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N**2):
    for k in range(3):
      site_nbr = (i // N + ((k-1)%2 - 1)) % N
      total_spin[i][0] += state[site_nbr][(i % N)]
      total_spin[i][1] -= state[site_nbr][(i % N)]
  
  priority_total = [[0,0] for _ in range(N**2)]
  
  for i in range(N**2):
    if h[i//N][i%N]>0:
      priority_total[i][0] = total_spin[i][0]
      priority_total[i][1] = -total_spin[i][0]
    else:
      priority_total[i][1] = total_spin[i][0]
      priority_total[i][0] = -total_spin[i][0]
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((j-1)%N - N//2)) % N for k in range(3)]
      
      total_spin[i*N+j][0] += sum([state[site_nbr][j] for site_nbr in site_nbrs])
      total_spin[i*N+j][1] -= sum([-state[site_nbr][j] for site_nbr in site_nbrs])
      
  priority_total = [[0,0] for _ in range(N**2)]
  
  for i in range(N**2):
    if h[i//N][i%N]>0:
      priority_total[i][0] = total_spin[i][0]
      priority_total[i][1] = -total_spin[i][0]
    else:
      priority_total[i][1] = total_spin[i][0]
      priority_total[i][0] = -total_spin[i][0]
      
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N*N
  spin_total = np.zeros((N2,2))
  
  for i in range(N2):
    site = (i + ((i%N)-N//2)) % N
    s1 = 0
    s2 = 0
    
    if h[i//N][i%N] > 0:
      priority_total = [s1+1, -s2-1]
    else:
      priority_total = [-s1-1, -s2+1]
    
    spin_total[i] = priority_total
  
  return spin_total


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N*N
  priorities = np.zeros((N2, 2))
  
  for i in range(N2):
    site1 = (i + ((i//N)%2 - 1)) % N
    site2 = (i + ((i%N)-1) % N)
    
    if h[i//N][i%N] > 0:
      priorities[i][0] += 1
      priorities[i][1] -= 1
    else:
      priorities[i][0] -= 1
      priorities[i][1] += 1
      
  return priorities


#score: {'data2D.txt': -0.001015895061728395}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = []
  for i in range(N**2):
    site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in range(4)]
    total_spin = sum(state[site_nbr][i%N] if site_nbr != i else state[i//N][i%N] for site_nbr in site_nbrs)
    priority_total.append([total_spin, -total_spin])
  return sorted(priority_total, reverse=True)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    site_nbr = (i + ((N - 1) % N)) % N
    for j in range(N):
      total_spin = state[site_nbr][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] += total_spin
        priority_total[i*N+j][1] -= total_spin
      else:
        priority_total[i*N+j][0] -= total_spin
        priority_total[i*N+j][1] += total_spin
  return [[a, b] for a, b in sorted([(x[0], -x[1]) for x in priority_total], reverse=True)]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = np.zeros((N2, 2))

  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1

  return priority_total


#score: {'data2D.txt': -0.0003834876543209873}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = np.zeros((N2, 2))
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  
  for i in range(N2):
    site = (i + ((i//N)%2 - 1)) % N
    if h[site//N][site%N] > 0:
      total_spin[i][0] += 1
    else:
      total_spin[i][1] -= 1
  
  return np.column_stack((total_spin[:, 0], -total_spin[:, 1]))


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = np.zeros((N2, 2))
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
  
  return priority_total


#score: {'data2D.txt': -0.0009631172839506176}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = np.zeros((N**2,2))
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%2 - 1)) % N for k in [j-1, j+1, (N-1)+(i-1)%N, (N-1)+(i+1)%N]]
      
      for site_nbr in site_nbrs:
        if h[site_nbr][0] > 0:
          total_spin[i*N+j][0] += state[site_nbr][j]
          total_spin[i*N+j][1] -= state[site_nbr][j]
        else:
          total_spin[i*N+j][0] -= state[site_nbr][j]
          total_spin[i*N+j][1] += state[site_nbr][j]

  return sorted([(a, b) for a, b in total_spin], reverse=True)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]

  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%N - N//2)) % N for k in [j-1, (j+1)%N, (i-1)%N, (i+1)%N]]
      
      for site_nbr in site_nbrs:
        if h[site_nbr][0] > 0:
          priority_total[i*N+j][0] += 1
          priority_total[i*N+j][1] -= 1
        else:
          priority_total[i*N+j][0] -= 1
          priority_total[i*N+j][1] += 1

  return sorted([(a, b) for a, b in priority_total], reverse=True)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf') for _ in range(2)] for _ in range(N**2)]

  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%N - N//2)) % N for k in [j-1, (j+1)%N, (i-1+N)%N, (i+1)%N]]
      
      for site_nbr in site_nbrs:
        if h[site_nbr][j] > 0:
          total_spin[i*N+j][0] += 1
          total_spin[i*N+j][1] -= 1
        else:
          total_spin[i*N+j][0] -= 1
          total_spin[i*N+j][1] += 1

  return sorted([(a, b) for a, b in total_spin], reverse=True)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        priority_total[i*N+j][0] += sum(J[k,i,j] for k in range(4) if abs(k-2) == j or k == i)
        priority_total[i*N+j][1] -= sum(J[k,i,j] for k in range(4) if k != i and k != j)
      else:
        priority_total[i*N+j][0] -= sum(J[k,i,j] for k in range(4) if abs(k-2) == j or k == i)
  return priority_total


#score: {'data2D.txt': -0.0009464506172839506}
program:
def priority(N, h, J):
  N2 = N**2
  priority_total = [[0, 0] for _ in range(N2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      total_spin = np.sum(J[site*N:(site+1)*N].flatten())
      if h[i][j] > 0:
        priority_total[i*N+j][0] += total_spin
        priority_total[i*N+j][1] -= total_spin
      else:
        priority_total[i*N+j][0] -= total_spin
  return priority_total


#score: {'data2D.txt': 0.001897993827160494}
program:
def priority(N, h, J):
  N2 = N*N
  J_flat = J.reshape(-1, J.shape[-1])
  total_spin = np.zeros((N2, 2))
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += J_flat[i*N:(i+1)*N, j].sum()
        total_spin[i*N+j][1] -= J_flat[site*N:(site+1)*N, j].flatten().sum()
      else:
        total_spin[i*N+j][0] -= J_flat[site*N:(site+1)*N, j].flatten().sum()
  
  return total_spin


#score: {'data2D.txt': 0.29374521604938286}
program:
def priority(N, h, J):
  site_interactions = [0] * N**2
  magnetism_contributions = [[0, 0] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        magnetism_contributions[i*N+j][0] += sum(J[:,i,j])
        magnetism_contributions[i*N+j][1] -= sum(J[site*N:(site+1)*N].flatten())
      else:
        magnetism_contributions[i*N+j][0] -= sum(J[site*N:(site+1)*N].flatten())
  
  return magnetism_contributions


#score: {'data2D.txt': 0.24476342592592581}
program:
def priority(N, h, J):
  N2 = N**2
  site_interactions = []
  for i in range(N2):
    site_nbrs = [(i//N + ((k-1)%2 - 1)) % N for k in [1,3]]
    total_spin = sum([h[site_nbr][i%N] for site_nbr in site_nbrs])
    if h[i//N][i%N] > 0:
      site_interactions.append([-total_spin, 1])
    else:
      site_interactions.append([total_spin, -1])
  return [list(x) for x in site_interactions]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((j-1)%N - N//2)) % N for k in range(4)]
      
      for spin in [-1, 1]:
        total_spin = sum([state[site][j] if (site==i and jj==j) else state[site][jj] for site, jj in zip(site_nbrs, [(j-1)%N + i//N * N for _ in range(4)])])
        
        priority_total[i][j][0] = max(priority_total[i][j][0], total_spin)
        priority_total[i][j][1] = min(priority_total[i][j][1], -total_spin)
  
  return [[x[0], x[1]] for x in (priority_total[i][j] for i in range(N) for j in range(N))]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = (np.prod(J_new[0::4], 0) + h).flatten()
  sum2 = (np.prod(J_new[1::4], 0) + h).flatten()
  sum3 = (-np.prod(J_new[2::4], 0)).flatten()
  sum4 = (-np.prod(J_new[3::4], 0)).flatten()
  
  priority = np.column_stack((sum1, -sum2))
  return(priority)


#score: {'data2D.txt': -0.001532561728395062}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = [[0, 0] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = ((i+1)%N + (j-1)%2) % N
      site_nbr2 = (i+(j-1)%2) % N
      
      if h[i][j] > 0:
        total_spin[i*N+j][0] += J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        total_spin[i*N+j][1] -= J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
      else:
        total_spin[i*N+j][0] -= J[(i+N2*j):(i+1), ((i+1)%N + (j-1)%2) % N, :].sum()
        total_spin[i*N+j][1] += J[(i+N2*j):(i+1), (i+(j-1)%2) % N, :].sum()
  
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.17288996913580196}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    priority_spin = [0,0]
    if h[site_nbr][i%N] > 0:
      priority_spin[0] += state[site_nbr].count(1)
      priority_spin[1] -= state[site_nbr].count(-1)
    else:
      priority_spin[0] -= state[site_nbr].count(1)
      priority_spin[1] += state[site_nbr].count(-1)
    priorities.append(priority_spin)
  return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    if h[site_nbr][i%N] > 0:
      total_spin[i][0] += 1
    else:
      total_spin[i][1] -= 1
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i//N + ((i%N-1)%2 - 1)) % N
    if h[site_nbr][i%N] > 0:
      priority_total[i][0] += total_spin[i][0]
      priority_total[i][1] -= total_spin[i][1]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = np.zeros((N2,2))
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        
  return total_spin.tolist()


#score: {'data2D.txt': -0.33500632716049283}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = np.zeros((N2, 2))
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      if h[site][j] > 0:
        total_spin[i*N+j][0] += total_spin[site*N+j][1]
      else:
        total_spin[i*N+j][1] -= total_spin[site*N+j][0]
  
  return total_spin


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]

  site_nbrs = [(i + ((j-1)%N - N//2)) % N for i in range(N) for j in range(N)]

  for i in range(N):
    for j in range(N):
      site_spin = 1 if h[i][j] > 0 else -1
      total_spin[i*N+j][0] += site_spin
      total_spin[i*N+j][1] -= site_spin

  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]

  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      spin = -1 if h[i][j] > 0 else 1

      total_spin[site][spin==1] += 1

  for i in range(N**2):
    if h[i//N][i%N]>0:
      priority_total[i][0] = total_spin[i][0]
      priority_total[i][1] = -total_spin[i][0]
    else:
      priority_total[i][1] = total_spin[i][0]
      priority_total[i][0] = -total_spin[i][0]

  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.19647793209876557}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [sum(1 if h[i][j] > 0 else -1 for j in range(N)) for i in range(N)]
  site_nbrs = [(i + ((j-1)%N - N//2)) % N for i in range(N) for j in range(N)]

  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[i]
        priority_total[i*N+j][1] = -total_spin[i]
      else:
        priority_total[i*N+j][1] = total_spin[i]
        priority_total[i*N+j][0] = -total_spin[i]

  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001261574074074074}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      spin = 1 if h[i][j] > 0 else -1
      total_spin[site][spin==1] += 1
  
  priority_total = []
  
  for i in range(N**2):
    site_nbrs = [(i + ((k-1)%N - N//2)) % N for k in range(3)]
    
    if any(state[i//N][j] == spin for j,spin in zip(site_nbrs,[state[site//N][site%N] for site in site_nbrs])):
      priority_total.append([-total_spin[i][0], total_spin[i][0]])
    else:
      priority_total.append([total_spin[i][0], -total_spin[i][0]])
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.33038040123456697}
program:
def priority(N, h, J):
  site_priority = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%N - N//2)) % N
        site_nbr = (site + ((site//N - 1) % N - 1)) % N
        site_priority[i*N+j][0] += 1
        site_priority[site_nbr*N+int((j-1)//N)][1] -= 1
      else:
        site = (i + ((j-1)%N - N//2)) % N
        site_nbr = (site + ((site//N - 1) % N - 1)) % N
        site_priority[i*N+j][0] -= 1
        site_priority[site_nbr*N+int((j-1)//N)][1] += 1

  return [[-x[1], x[0]] for x in site_priority]


#score: {'data2D.txt': 0.17529429012345704}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site_nbrs = [(i//N + (k-1)%N) % N for k in [0,N-1,i%N]]
    total_spin = sum([state[site][i%N] for site in site_nbrs])
    if h[i//N][i%N] > 0:
      priorities.append([-total_spin, 1])
    else:
      priorities.append([total_spin, -1])
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.01636064814814815}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[site_nbr][0] += 1
        total_spin[site_nbr][1] -= 1
      else:
        total_spin[site_nbr][0] -= 1

  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[site][0] += 1
        priority_total[i*N+j][0] += total_spin[site][0]
        priority_total[i*N+j][1] -= 1
      else:
        priority_total[i*N+j][0] -= 1
        priority_total[i*N+j][1] += total_spin[site][0]

  return [[x[0],-x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%N - 1)) % N for k in range(3)]
      for k in site_nbrs:
        if h[k][j] > 0:
          priority_total[i][j][0] += 1
          priority_total[i][j][1] -= 1
        else:
          priority_total[i][j][0] -= 1
          priority_total[i][j][1] += 1
  
  return [[x[0], x[1]] for x in [y for sublist in priority_total for y in sublist]]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%N - 1)) % N for k in range(3)]
      for k in site_nbrs:
        total_spin[i*N+j][0] += h[k%N][j%N]
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
      else:
        total_spin[i*N+j][1] -= 1
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        priority_total[j][0] = total_spin[j][0]
      else:
        priority_total[j][1] = -total_spin[j][0]
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001261574074074074}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      spin = 1 if h[i][j] > 0 else -1
      total_spin[site][spin==1] += 1
      
  priority_total = []
  
  for i in range(N**2):
    site_nbrs = [(i + ((k-1)%N - N//2)) % N for k in range(3)]
    
    if any(state[i//N][j] == spin for j,spin in zip(site_nbrs,[state[site//N][site%N] for site in site_nbrs])):
      priority_total.append([-total_spin[i][0], total_spin[i][0]])
    else:
      priority_total.append([total_spin[i][0], -total_spin[i][0]])
      
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%N - N//2)) % N for k in range(3)]
      if all(state[i//N][j] == state[site//N][(site%N)] for site in site_nbrs):
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  
  priority_total = [[-total_spin[i][0], total_spin[i][0]] for i in range(N**2)]
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('inf')] for _ in range(N**2)]
  
  for i in range(N**2):
    site_nbrs = [(i // N + ((k-1) % N - N//2)) % N for k in range(3)]
    
    if any(state[i//N][j] == 1-spin for j,spin in zip(site_nbrs,[state[site//N][site%N] for site in site_nbrs])):
      total_spin[i][0] += sum(h[i//N][j] for j in site_nbrs)
      total_spin[i][1] -= sum(h[i//N][j] for j in site_nbrs)
    else:
      total_spin[i][0] += -sum(h[i//N][j] for j in site_nbrs)
      total_spin[i][1] -= -sum(h[i//N][j] for j in site_nbrs)
  
  priority_total = [[total_spin[i][0], total_spin[i][1]] for i in range(N**2)]
  
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0009121913580246914}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin0 = 0
    total_spin1 = 0
    for k in [(1, -1), (-1, 1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin0 += J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
        total_spin1 -= J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      else:
        total_spin0 -= J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
        total_spin1 += J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
    site = (site_nbr[0] + ((site_nbr[1]-1)%2 - 1)) % N
    if h[site_nbr[0]][site_nbr[1]] > 0:
      priority_total[i][0] = total_spin0
      priority_total[i][1] = -total_spin1
    else:
      priority_total[i][0] = -total_spin0
      priority_total[i][1] = total_spin1
  return(priority_total)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin0 = [0, 0]
    total_spin1 = [0, 0]
    for k in [(1, -1), (-1, 1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+i_offset)%N] > 0:
        total_spin0[0] += J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
        total_spin1[0] -= J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin0[0] -= J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
        total_spin1[0] += J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      if h[(site_nbr[0]+i_offset)%N][site_nbr[1]] > 0:
        total_spin0[1] += J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
        total_spin1[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      else:
        total_spin0[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
        total_spin1[1] += J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
    site = (site_nbr[0] + ((site_nbr[1]-1)%2 - 1)) % N
    if h[site_nbr[0]][site_nbr[1]] > 0:
      priority_total[i][0] = total_spin0[1]
    else:
      priority_total[i][1] = total_spin1[0]
  return(priority_total)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin = [0, 0]
    for k in [(1, -1), (-1, 1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+j_offset)%N] > 0:
        total_spin[0] += J[j_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      else:
        total_spin[0] -= J[j_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      if h[(site_nbr[0]+i_offset)%N][site_nbr[1]] > 0:
        total_spin[1] += J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[site_nbr[0]][site_nbr[1]] > 0:
      priority_total[i][0] = -total_spin[0]
    else:
      priority_total[i][1] = total_spin[1]
  return(priority_total)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    site = (i // N, i % N)
    site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
    total_spin = [0, 0]
    for k in site_interaction:
      j_offset, i_offset = k
      total_spin[0] += J[j_offset][site[0]][(site[1]+i_offset)%N]
      total_spin[1] -= J[i_offset][site[0]][(site[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin[0]])
    else:
      priorities.append([-1*total_spin[0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j][0] += 1
        priority_total[i*N+j][1] -= 1
      else:
        site = (i + ((j-1)%2 - 1)) % N
        priority_total[site*N+j][0] -= 1
        priority_total[site*N+j][1] += 1
  return(priority_total)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [[0, 0] for _ in range(N**2)]
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in site_interaction:
      j_offset, i_offset = k
      total_spin[i][0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin[i][1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin[i][0]])
    else:
      priorities.append([-1*total_spin[i][0], float('-inf')])
  return(priorities)


#score: {'data2D.txt': -0.04845447530864198}
program:
def priority(N, h, J):
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      total_spin = state[site_nbr][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
        priority_total[i*N+j][1] = -total_spin
      else:
        priority_total[i*N+j][0] = -total_spin
        priority_total[i*N+j][1] = total_spin
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0026791666666666665}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N**2)]
  site_map = {(i + ((j-1)%N - N//2)) % N: i*N+j for i in range(N) for j in range(N)}
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        total_spin[site_map[(i + ((j-1)%N - N//2)) % N]][0] += 1
        total_spin[site_map[(i + ((j-1)%N - N//2)) % N]][1] -= 1
      else:
        site_nbr = (i + ((j-1)%N - N//2)) % N
        total_spin[site_map[site_nbr]][0] -= 1
        total_spin[site_map[site_nbr]][1] += 1
  return [[total_spin[i][0], total_spin[i][1]] for i in range(N**2)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
  
  for i in range(N):
    for j in range(N):
      site_nbrs = [(i + ((k-1)%N - 1)) % N for k in range(3)]
      
      if h[i][j] > 0:
        priority_total[i][j][0] += sum([state[site][j] for site in site_nbrs])
        priority_total[i][j][1] -= sum([-state[site][j] for site in site_nbrs])
      else:
        priority_total[i][j][0] -= sum([state[site][j] for site in site_nbrs])
        priority_total[i][j][1] += sum([-state[site][j] for site in site_nbrs])
      
  return [[x[0], x[1]] for x in (priority_total[i][j] for i in range(N) for j in range(N))]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    site = (i + ((i//N-1)%2 - 1)) % N
    if h[i//N][i%N] > 0:
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      total_spin[i][0] -= 1
      total_spin[i][1] += 1
    
    for k in site_interaction:
      j_offset, i_offset = k
      if h[(site_nbr[0]+i_offset)%N][(site_nbr[1]-j_offset)%N] > 0:
        total_spin[i][0] -= J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[i][0] += J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    
    priorities.append(total_spin[i])
  return(priorities)


#score: {'data2D.txt': 0.005821759259259258}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [[0, 0] for _ in range(N**2)]
  
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in [(0, 1), (1, 0), (-1, 1), (0, -1)]:
      j_offset, i_offset = k
      if h[site_nbr[0]][(site_nbr[1]+j_offset)%N] > 0:
        total_spin[i][0] += J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      else:
        total_spin[i][0] -= J[i_offset][site_nbr[0]][(site_nbr[1]-i_offset)%N]
      if h[(site_nbr[0]+i_offset)%N][site_nbr[1]] > 0:
        total_spin[i][1] += J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      else:
        total_spin[i][1] -= J[j_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
    if state[i//N][i%N] > 0:
      priorities.append([-total_spin[i][0], -total_spin[i][1]])
    else:
      priorities.append([total_spin[i][0], total_spin[i][1]])
  return(priorities)


#score: {'data2D.txt': 0.0002631172839506174}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[0,0] for _ in range(N**2)]
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = []
      if (i+1)%N != 0:
        site_nbrs.append((i+1)%N*N + j)
      if i != 0:
        site_nbrs.append(i*N+j-1)
      if (j+1)%N != 0:
        site_nbrs.append(i*N+(j+1)%N - N//2)
      for k in site_nbrs:
        total_spin[i*N+j][0] += h[k//N][k%N]
        if state[i][j] == state[k//N][k%N]:
          priority_total[i*N+j][0] += 1
          priority_total[i*N+j][1] -= 1
        else:
          priority_total[i*N+j][0] -= 1
          priority_total[i*N+j][1] += 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbrs = []
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = (np.prod(J_new[::4], 0) + h).flatten()
  sum2 = (np.prod(J_new[1::4], 0) + h).flatten()
  sum3 = (np.prod(J_new[2::4], 0) + h).flatten()
  sum4 = (np.prod(J_new[3::4], 0) + h).flatten()
  priority = np.column_stack((sum1, -sum2)) + np.column_stack((-sum3, sum4))
  return(priority)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
  site_nbrs = []
  for i in range(N):
    for j in range(N):
      if (i+1)%N != 0: site_nbrs.append((i+1)%N*N + j)
      if i != 0: site_nbrs.append(i*N+j-1)
      if (j+1)%N != 0: site_nbrs.append(i*N+(j+1)%N - N//2)
      for k in site_nbrs:
        total_spin = h[k//N][k%N]
        if state[i][j] == state[k//N][k%N]:
          priority_total[i*N+j][0] += 1
          priority_total[i*N+j][1] -= 1
        else:
          priority_total[i*N+j][0] -= 1
          priority_total[i*N+j][1] += 1
  return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N * N
  total_spin = np.zeros((N2, 2))
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j - 1) % 2 - 1)) % N
      if h[i][j] > 0:
        total_spin[i * N + j][0] += 1
        total_spin[i * N + j][1] -= 1
      else:
        site = (i + ((j - 1) % N - N // 2)) % N
        total_spin[i * N + j][0] -= 1
        total_spin[i * N + j][1] += 1
  
  return total_spin


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = np.zeros((N2, 2))
  
  for i in range(N2):
    site = (i % N) + ((i//N)%2 - 1) % N
    
    if h[i//N][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[i][0] -= 1
      priority_total[i][1] += 1
  
  return priority_total


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  N2 = N*N
  J_flat = J.flatten()
  total_spin = np.zeros((N2, 2))
  
  for i in range(N2):
    site = (i // N) % 2
    if h[i//N][i%N] > 0:
      site = (site + ((i%N-1)%2 - 1)) % N
      total_spin[i][0] += 1
      total_spin[i][1] -= 1
    else:
      site = (site + ((i%N-1)%2 - 1)) % N
      total_spin[i][0] -= 1
      total_spin[i][1] += 1
  
  return total_spin


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
  return(total_spin)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0, 0] for _ in range(N**2)]
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
      for k in site_interaction:
        j_offset, i_offset = k
        if j == N-1 and j_offset < 0 or j == 0 and j_offset > 0:
          continue
        if i == N-1 and i_offset < 0 or i == 0 and i_offset > 0:
          continue
        priority_total[i*N+j][0] += J[j_offset][i][site_nbr]
        priority_total[i*N+j][1] -= J[i_offset][i][site_nbr]
  return priority_total


#score: {'data2D.txt': -0.008998611111111093}
program:
def priority(N, h, J):
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  priorities = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  total_spin = [0, 0]
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    for k in site_interaction:
      j_offset, i_offset = k
      if site_nbr[1] == 0 and j_offset < 0 or site_nbr[1] == N-1 and j_offset > 0:
        continue
      if site_nbr[0] == 0 and i_offset < 0 or site_nbr[0] == N-1 and i_offset > 0:
        continue
      total_spin[0] += J[k[1]][site_nbr[0]][(site_nbr[1]+k[0])%N]
      total_spin[1] -= J[k[0]][site_nbr[0]][(site_nbr[1]-k[1])%N]
    if h[i//N][i%N] > 0:
      priorities[i][0] = -total_spin[0]
      priorities[i][1] = -total_spin[1]
    else:
      priorities[i][0] = total_spin[0]
      priorities[i][1] = total_spin[1]
  return(priorities)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  site_interaction = [(0, 1), (1, 0), (-1, 1), (1, -1)]
  
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin_1 = [0, 0]
    total_spin_2 = [0, 0]
    
    for k in site_interaction:
      j_offset, i_offset = k
      total_spin_1[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset)%N]
      total_spin_1[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset)%N]
      
      total_spin_2[0] += J[j_offset][site_nbr[0]][(site_nbr[1]+i_offset-1)%N]
      total_spin_2[1] -= J[i_offset][site_nbr[0]][(site_nbr[1]-j_offset+1)%N]
    
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), -total_spin_1[0]])
    else:
      priorities.append([-1*total_spin_1[0], float('-inf')])
  
  return(priorities)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  
  for i in range(N**2):
    site_nbr = (i // N, i % N)
    total_spin_1 = sum(J[0][site_nbr[0]][(site_nbr[1] + k) % N] * state[(k+site_nbr[1])%N][site_nbr[0]] for k in range(N))
    total_spin_2 = sum(J[3 - (k+1)%4][site_nbr[0]][(site_nbr[1] - k) % N] * state[(k-site_nbr[1])%N][site_nbr[0]] for k in range(N))
    
    if h[i//N][i%N] > 0:
      priorities.append([float('-inf'), total_spin_1 + total_spin_2])
    else:
      priorities.append([-1*(total_spin_1 + total_spin_2), float('-inf')])
  return(priorities)


#score: {'data2D.txt': 0.3341745370370361}
program:
def priority(N, h, J):
  total_spin = [[0, 0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1) % N - 1)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[site_nbr*N+int(j/N)][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[site_nbr*N+int(j/N)][1] += 1
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': 0.19079398148148174}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = np.zeros((N**2, 2))
  
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[site_nbr*N+(j%N)][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[site_nbr*N+(j%N)][1] += 1
  
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      site_nbr = (i + ((j-1)%N - N//2)) % N
      if h[i][j] > 0:
        total_spin[i*N+j][0] += 1
        total_spin[site_nbr*N+(j%N)][1] -= 1
      else:
        total_spin[i*N+j][0] -= 1
        total_spin[site_nbr*N+(j%N)][1] += 1
  return [[-x[1], x[0]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = [[0, 0] for _ in range(N2)]
  
  for i in range(N2):
    site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[i][0] += 1
      priority_total[site_nbr*N+int(i%N/N)][1] -= 1
    else:
      priority_total[i][0] -= 1
      priority_total[site_nbr*N+int(i%N/N)][1] += 1
  
  for i in range(N2):
    site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
    if h[i//N][i%N] > 0:
      priority_total[site_nbr*N+int(i%N/N)][0] += 1
      priority_total[i][1] -= 1
    else:
      priority_total[site_nbr*N+int(i%N/N)][0] -= 1
      priority_total[i][1] += 1
  
  return [[-x[1], x[0]] for x in priority_total]


#score: {'data2D.txt': -0.31534274691357944}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]

  for i in range(N**2):
    site_nbrs = [(i//N + (k-1)%N) % N for k in [0,N-1,i%N]]
    if h[i//N][i%N] > 0:
      total_spin[i][0] += sum([state[site][i%N] for site in site_nbrs])
      total_spin[i][1] -= len(site_nbrs)
    else:
      total_spin[i][0] += -sum([state[site][i%N] for site in site_nbrs])
      total_spin[i][1] += len(site_nbrs)

  return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  total_spin = np.zeros((2, N2))
  
  for i in range(N):
    for j in range(N):
      site_nbr1 = ((i+1)%N + (j-1)%2) % N
      site_nbr2 = (i+(j-1)%2) % N
      
      if h[i][j] > 0:
        total_spin[0, i*N+j] += 1
        total_spin[1, i*N+j] -= 1
      else:
        total_spin[0, i*N+j] -= 1
        total_spin[1, i*N+j] += 1
      
  priorities = []
  
  for i in range(N2):
    if h[i//N][i%N] > 0:
      priorities.append([total_spin[0, i], -total_spin[1, i]])
    else:
      priorities.append([-total_spin[0, i], total_spin[1, i]])
  
  return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
      for i in range(N):
        for j in range(N):
          site_nbr = (i + ((j-1)%2 - 1)) % N
          if h[i][j] > 0:
            priority_total[i*N+j][0] += 1
            priority_total[i*N+j][1] -= 1
          else:
            priority_total[i*N+j][0] -= 1
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    priority_total[i][j][0] += 1
                    priority_total[i][j][1] -= 1
                else:
                    priority_total[i][j][0] -= 1
        return [[x[0], x[1]] for sublist in priority_total for x in sublist]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += 1
                    priority_total[i*N+j][1] -= 1
                else:
                    priority_total[i*N+j][0] -= 1
        for k in range(N):
            site_nbr = (k + ((N-1)%2 - 1)) % N
            for j in range(N):
                if h[k][j] > 0:
                    priority_total[i*N+j][0] += 1
                    priority_total[i*N+j][1] -= 1
                else:
                    priority_total[i*N+j][0] -= 1
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        for k in range(3):
            for i in range(N):
                for j in range(N):
                    site_nbr = (i + ((k-1)%2 - 1)) % N
                    total_spin = state[i][j]*h[site_nbr][j]
                    if h[i][j] > 0:
                        priority_total[i*N+j][0] += 1
                        priority_total[i*N+j][1] -= 1
                    else:
                        priority_total[i*N+j][0] -= 1
        return [[x, y] for x,y in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,N,2))
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin[i][j] += h[site_nbr][j]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] += total_spin[i//N][i%N][0]
                priority_total[i][1] -= total_spin[i//N][i%N][1]
            else:
                priority_total[i][0] -= total_spin[i//N][i%N][0]
                priority_total[i][1] += total_spin[i//N][i%N][1]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] += h[site_nbr][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += 1
                    priority_total[i*N+j][1] -= 1
                else:
                    priority_total[i*N+j][0] -= 1
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      total_spin = [[0, 0] for _ in range(N**2)]
      for i in range(N):
          for j in range(N):
              site_nbr = (i + ((j-1)%2 - 1)) % N
              if h[i][j] > 0:
                  total_spin[i*N+j][0] += 1
                  total_spin[i*N+j][1] -= 1
              else:
                  total_spin[i*N+j][0] -= 1
      return [[float('-inf'), float('-inf')] for _ in range(N**2)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i // N + ((i % N) - 1) % N)
        if h[i//N][i%N] > 0:
          priority_total[i][0] += 1
          priority_total[i][1] -= 1
        else:
          priority_total[i][0] -= 1
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        priority_total = [[float('-inf'),float('inf')] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] += h[site_nbr][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += 1
                    priority_total[i*N+j][1] -= 1
                else:
                    priority_total[i*N+j][0] -= 1
        for i in range(N**2):
            if total_spin[i][0] > 0:
                priority_total[i][0] = -priority_total[i][1]
            elif total_spin[i][0] < 0:
                priority_total[i][1] = -priority_total[i][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%N - N//2)) % N
                total_spin = [0,0]
                if h[i][j] > 0:
                    total_spin[0] += 1
                    total_spin[1] -= 1
                else:
                    total_spin[0] -= 1
                    total_spin[1] += 1
                for k in range(3):
                    site_nbr = (i + ((k-1)%2 - 1)) % N
                    total_spin[0] += h[site_nbr][j]
                priority_total[i*N+j] = total_spin
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    N2 = N*N
    total_spin = [[0,0] for _ in range(N2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            if h[i][j] > 0:
                total_spin[i*N+j][0] += 1
                total_spin[i*N+j][1] -= 1
            else:
                total_spin[i*N+j][0] -= 1
    priority_total = [[float('-inf'),float('-inf')] for _ in range(N2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            if h[i][site_nbr] > 0:
                priority_total[i*N+j][0] += 1
                priority_total[i*N+j][1] -= 1
            else:
                priority_total[i*N+j][0] -= 1
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        
        for i in range(N**2):
            site_nbr = (i // N + ((i % N - 1) % 2 - 1)) % N
            if h[site_nbr][i % N] > 0:
                priority_total[i][0] += 1
                priority_total[i][1] -= 1
            else:
                priority_total[i][0] -= 1
        
        return [[x, y] for x, y in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N//2)) % N
                if h[i][j] > 0:
                    priority_total[i][j][0] += 1
                    priority_total[i][j][1] -= 1
                else:
                    priority_total[i][j][0] -= 1
        return [[x[0], x[1]] for x in itertools.chain(*priority_total)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    priority_total[i][j][0] += 1
                    priority_total[i][j][1] -= 1
                else:
                    priority_total[i][j][0] -= 1
        return [[x[0], x[1]] for i in range(N**2) for x in [priority_total[i//N][i%N]]]


#score: {'data2D.txt': -0.010806327160493826}
program:
def priority(N, h, J):
        N2 = N*N
        total_spin = np.zeros((N2, 2))
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    total_spin[i*N+j] += [1, -1]
                else:
                    total_spin[i*N+j] += [-1, 1]
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N2)]
        for i in range(N):
            for k in range(3):
                site_nbr = (i + ((k-1)%2 - 1)) % N
                total_spin[i*N+j] += h[site_nbr][j]
        priority_total = [[0,0] for _ in range(N2)]
        for i in range(N2):
            if total_spin[i][0] > total_spin[i][1]:
                priority_total[i] = [total_spin[i][0], 0]
            elif total_spin[i][0] < total_spin[i][1]:
                priority_total[i] = [total_spin[i][1], 1]
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += 1
                    priority_total[i*N+j][1] -= 1
                else:
                    priority_total[i*N+j][0] -= 1
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      site_nbr = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        for k in range(3):
          site_nbr[i][k%2] += h[(i//N + ((k-1)%2 - 1)) % N][i%N]
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        if h[i//N][i%N] > 0:
          priority_total[i][0] = total_spin[i][0]
        else:
          priority_total[i][1] = -1*total_spin[i][0]
      return priority_total


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N-1)%N - 1)) % N
            total_spin[i][0] += h[site_nbr][i%N]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[0, 0] for _ in range(N**2)]
        total_spin = [[0, 0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N-1)%N - 1)) % N
            total_spin[i][0 if h[site_nbr][i%N] > 0 else 1] += 1
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                spin = -1 if h[i][j] > 0 else 1
                total_spin[site][spin==1] += 1
        for i in range(N**2):
            priority_total[i] = [total_spin[i][1], -total_spin[i][0]]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.010528858024691359}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N)-1)%N) % N
            total_spin[i][0] += h[site_nbr][i%N]
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -total_spin[i][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0014097222222222221}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        
        for i in range(N**2):
            site_nbr = (i // N + ((i%N-1)%N - 1)) % N
            total_spin[i][0] += h[site_nbr][i%N]
            total_spin[i][1] += -1*h[site_nbr][i%N]
        
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[j][0]
                else:
                    priority_total[j][1] = -1*total_spin[j][0]
                    
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        site_nbrs = []
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][h[i][j]>0] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[int(i/N)][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.010386882716049383}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N-1)%N - 1)) % N
            total_spin[i][0] += h[site_nbr][i%N]
        if sum([sum(row) for row in total_spin]) > 0:
            priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
            for i in range(N):
                for j in range(N):
                    site = (i + ((j-1)%N - N//2)) % N
                    if h[i][j] > 0:
                        priority_total[i*N+j][0] += 1
                        priority_total[i*N+j][1] -= 1
                    else:
                        priority_total[i*N+j][0] -= 1
            return [[x[0], x[1]] for x in priority_total]
        else:
            return [[-1,0] for _ in range(N**2)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site_nbr = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] += h[site_nbr][j]
        if h[i][j] > 0:
          priority_total[i*N+j][0] += 1
          priority_total[i*N+j][1] -= 1
        else:
          priority_total[i*N+j][0] -= 1
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += 1
                    priority_total[i*N+j][1] -= 1
                else:
                    priority_total[i*N+j][0] -= 1
                    
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[[float('-inf') for _ in range(2)] for j in range(N)] for i in range(N)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    site = (i + ((j-1)%N - N//2)) % N
                    priority_total[i][j][0] += 1
                    priority_total[i][j][1] -= 1
                else:
                    site = (i + ((j-1)%N - N//2)) % N
                    priority_total[i][j][0] -= 1
        return [[x[0], x[1]] for x in [priority_total[i][j] for i in range(N) for j in range(N)]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
        
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    priority_total[site_nbr][j][0] += 1
                    priority_total[site_nbr][j][1] -= 1
                else:
                    priority_total[site_nbr][j][0] -= 1
        return [[x[0], x[1]] for i in range(N) for j in range(N) for x in [priority_total[i][j]]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    
    for i in range(N):
      for j in range(N):
        site_nbr = (i + ((j-1)%2 - 1)) % N
        if h[i][j] > 0:
          priority_total[i*N+j][0] += 1
          priority_total[i*N+j][1] -= 1
        else:
          priority_total[i*N+j][0] -= 1
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i + ((i%N)//2 - N//2)) % N
        if h[i//N][site_nbr] > 0:
          priority_total[i][0] += 1
          priority_total[i][1] -= 1
        else:
          priority_total[i][0] -= 1
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
      for i in range(N):
          for j in range(N):
              site_nbr = (i + ((j-1)%2 - 1)) % N
              if h[i][j] > 0:
                  priority_total[i*N+j][0] += 1
                  priority_total[i*N+j][1] -= 1
              else:
                  priority_total[i*N+j][0] -= 1
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
        
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                if h[site_nbr][j] > 0:
                    priority_total[i][j][0] += 1
                    priority_total[i][j][1] -= 1
                else:
                    priority_total[i][j][0] -= 1
                    
        return [[x[0], x[1]] for x in [priority_total[i][j] for i in range(N) for j in range(N)]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
      for i in range(N):
        for j in range(N):
          site_nbr = (i + ((j-1)%2 - 1)) % N
          total_spin = h[site_nbr][j]
          if h[i][j] > 0:
            priority_total[i*N+j][0] += 1
            priority_total[i*N+j][1] -= 1
          else:
            priority_total[i*N+j][0] -= 1
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      N2 = N*N
      total_spin = [[0. for _ in range(2)] for _ in range(N2)]
      priority_total = [[float('-inf') for _ in range(2)] for _ in range(N2)]
      for i in range(N):
          for j in range(N):
              site_nbr = (i + ((j-1)%N - N//2)) % N
              total_spin[i*N+j][0] += h[site_nbr][j]
              if h[i][j] > 0:
                  priority_total[i*N+j][0] += 1
                  priority_total[i*N+j][1] -= 1
              else:
                  priority_total[i*N+j][0] -= 1
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.007843981481481481}
program:
def priority(N, h, J):
    N2 = N*N
    priority_total = [[[float('-inf'), float('-inf')] for _ in range(2)] for _ in range(N2)]
    for i in range(N2):
        site_nbr = (i//N + ((i%N)-1)%N) % N
        total_spin = [0, 0]
        for k in range(3):
            if h[site_nbr][i%N] > 0:
                total_spin[1] -= 1
            else:
                total_spin[0] += 1
        priority_total[i][0] = total_spin[0]
        priority_total[i][1] = -total_spin[1]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
      for i in range(N):
        for j in range(N):
          site_nbr = (i + ((j-1)%2 - 1)) % N
          total_spin = h[site_nbr][j]
          if h[i][j] > 0:
            priority_total[i*N+j][0] += 1
            priority_total[i*N+j][1] -= 1
          else:
            priority_total[i*N+j][0] -= 1
          for k in range(3):
            site_nbr = (i + ((k-1)%2 - 1)) % N
            total_spin += h[site_nbr][j]
          if h[i][j] > 0:
            priority_total[i*N+j][0] += 1
            priority_total[i*N+j][1] -= 1
          else:
            priority_total[i*N+j][0] -= 1
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site_nbr = (i + ((j-1)%2 - 1)) % N
        total_spin = 0
        for k in range(3):
          site_nbr = (i + ((k-1)%2 - 1)) % N
          total_spin += h[site_nbr][j]
        if h[i][j] > 0:
          priority_total[i*N+j][0] += 1
          priority_total[i*N+j][1] -= 1
        else:
          priority_total[i*N+j][0] -= 1
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            if h[i][j] > 0:
                priority_total[i][j][0] += 1
                priority_total[i][j][1] -= 1
            else:
                priority_total[i][j][0] -= 1
    return [[x[0], x[1]] for sublist in priority_total for x in sublist]


#score: {'data2D.txt': -0.007741820987654322}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      site_nbr = []
      for i in range(N):
        for j in range(N):
          site = (i + ((j-1)%N - 1)) % N
          spin = -1 if h[i][j] > 0 else 1
          total_spin[i*N+j][spin==1] += 1
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N):
        for j in range(N):
          site_nbr = (i + ((j-1)%2 - 1)) % N
          total_spin[i*N+j] += h[site_nbr][j]
      for j in range(N):
        if h[j][0] > 0:
          priority_total[j][0] = total_spin[j][0]
        else:
          priority_total[j][1] = -1*total_spin[j][0]
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
          site_nbr = (i // N + ((i % N - 1)%N) - 1) % N
          total_spin[i][0] += h[site_nbr][i%N]
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N):
          for j in range(N):
              if h[i][j] > 0:
                  priority_total[i*N+j][0] = total_spin[i*N+j][0]
              else:
                  priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.27106867283950575}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site_nbr][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 0))
                else:
                    priorities.append((-1*total_spin, 1))
        return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
        total_spin[i][0] += h[site_nbr][i%N]
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
        if h[i//N][i%N] > 0:
          priority_total[i][0] = total_spin[i][0]
        else:
          priority_total[i][1] = -1*total_spin[i][0]
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.27106867283950575}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
        for j in range(N):
          total_spin = 0
          site_nbr = (i + ((j-1)%2 - 1)) % N
          total_spin += h[site_nbr][j]
          if h[i][j] > 0:
            priority_total = [total_spin, 0]
          else:
            priority_total = [-1*total_spin, 1]
          priorities.append(priority_total)
      return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.27106867283950575}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
        for j in range(N):
          total_spin = 0
          site_nbr = (i + ((j-1)%2 - 1)) % N
          total_spin += h[site_nbr][j]
          if h[i][j] > 0:
            priorities.append([total_spin, 0])
          else:
            priorities.append([-1*total_spin, 1])
      return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        total_spin = [[0, 0] for _ in range(N**2)]
        site_nbr = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                spin = -1 if h[i][j] > 0 else 1
                total_spin[i*N+j][spin==1] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j] += h[site_nbr][j]
        for i in range(N**2):
            if h[int(i/N)][i%N] > 0:
                priority_total[i] = [total_spin[i][0], 0]
            else:
                priority_total[i] = [-1*total_spin[i][0], 1]
        return priority_total


#score: {'data2D.txt': -0.0009399691358024688}
program:
def priority(N, h, J):
        total_spin = [[0, 0] for _ in range(N**2)]
        site_nbrs = [(i + ((j-1)%N - 1)) % N for i in range(N) for j in range(N)]
        
        for k in range(3):
            for i in range(N**2):
                total_spin[i][0] += h[site_nbrs[i]][int(i/N)]
        
        priority_total = [[0, 0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                spin = -1 if h[i][j] > 0 else 1
                total_spin[site][spin==1] += 1
        
        for i in range(N**2):
            if h[int(i/N)][int(i%N)] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        
        return [priority_total[i] for i in range(N**2)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0, 0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
            total_spin[i][0 if h[site_nbr][i % N] > 0 else 1] += 1
        priority_total = [[0, 0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority_total[j*N+i][0] = total_spin[j*N+i][0]
                else:
                    priority_total[j*N+i][1] = -1*total_spin[j*N+i][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
          site_nbr = (i // N + ((i % N-1)%N - 1)) % N
          total_spin[i][1 if h[site_nbr][i%N] > 0 else 0] += 1
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N):
          for j in range(N):
              site = (i + ((j-1)%N - 1)) % N
              if h[i][j] > 0:
                  priority_total[i*N+j][0] = total_spin[site][0]
              else:
                  priority_total[i*N+j][1] = -1*total_spin[site][0]
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                spin = -1 if h[i][j] > 0 else 1
                total_spin[i*N+j][spin==1] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for k in range(3):
            site_nbr = (i + ((k-1)%2 - 1)) % N
            total_spin[i*N+j] += h[site_nbr][j]
        return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i // N + ((i % N-1)%N - 1)) % N
        total_spin[i][0] += h[site_nbr][i % N]
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N):
        for j in range(N):
          if h[i][j] > 0:
            priority_total[i*N+j][0] = total_spin[i*N+j][0]
          else:
            priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
      return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][h[i][j]>0] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N]>0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0 if h[site_nbr][j] > 0 else 1] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[site][0]
                else:
                    priority_total[j][1] = -1*total_spin[site][0]
        return priority_total


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
    J_new = J.flatten()
    sum_1 = (np.prod(J_new[0::4], 0) + h).flatten()
    sum_2 = (np.prod(J_new[1::4], 0) + h).flatten()
    priority = np.column_stack((sum_1, -sum_2))
    return(priority)


#score: {'data2D.txt': 0.0032081790123456785}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1)%N - 1)) % N
        total_spin[i][0 if h[i//N][i%N] > 0 else 1] += 1
      for j in range(N):
        for i in range(N):
          site_nbr = (i + ((j-1)%2 - 1)) % N
          priority_total[j*N+i][0 if h[i][j] > 0 else 1] = total_spin[site_nbr*N+j][0 if h[site_nbr//N][site_nbr%N] > 0 else 1]
      return [[x[0], 1-x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i % N + (i//N-1)%2 - 1) % N
            total_spin[i][1 if h[site_nbr//N][site_nbr%N] > 0 else 0] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
        return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0, 0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                spin = -1 if h[i][j] > 0 else 1
                total_spin[site][spin==1] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j] += h[site_nbr][j]
        for j in range(N):
            if h[0][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -1*total_spin[j][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][1] += h[site_nbr][j]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N-1)%N - 1)) % N
            total_spin[i][h[i//N][i%N] > 0] += 1
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.15269768518518537}
program:
def priority(N, h, J):
      priority_total = [[0,0] for _ in range(N**2)]
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
          site_nbr = (i//N + ((i%N-1)%N - 1)) % N
          total_spin[i][h[i//N][i%N]>0] += h[site_nbr][i%N]
      for j in range(N**2):
          if h[j//N][j%N] > 0:
              priority_total[j][0] = total_spin[j][0]
          else:
              priority_total[j][1] = -1*total_spin[j][0]
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N**2)]
    site_nbr = [[-1 if i == (j+((i-1)%N - 1))%N else 0 for j in range(N)] for i in range(N)]
    for i in range(N):
      for j in range(N):
        spin = -1 if h[i][j] > 0 else 1
        total_spin[i*N+j][spin==1] += 1
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
      if site_nbr[i//N][i%N]:
        priority_total[i][0] = total_spin[i][0]
      else:
        priority_total[i][1] = -1*total_spin[i][0]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      priority_total = [[0,0] for _ in range(N**2)]
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N):
        for j in range(N):
          site_nbr = (i + ((j-1)%N - 1)) % N
          total_spin[i*N+j][1 if h[site_nbr][j] > 0 else 0] += 1
      for j in range(N):
        if h[0][j] > 0:
          priority_total[j][0] = total_spin[j][0]
        else:
          priority_total[j][1] = -1*total_spin[j][0]
      return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                spin = -1 if h[i][j] > 0 else 1
                total_spin[site][spin==1] += 1
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0 if h[site_nbr][j]>0 else 1] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site = (i//N + ((i%N-1)%N - 1)) % N
            if h[i//N][i%N]>0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return priority_total


#score: {'data2D.txt': -0.007741820987654322}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][h[i][j]>0] += h[site_nbr][j]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[j][0]
                else:
                    priority_total[j][1] = -1*total_spin[j][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][0] += h[site_nbr][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
        return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.0014097222222222221}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N - 1)%N) - 1) % N
            total_spin[i][0] += h[site_nbr][i%N]
        priority_total = [[0,0] for _ in range(N**2)]
        for j in range(N):
            if h[j//N][j]%2 > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -1*total_spin[j][0]
        return priority_total


#score: {'data2D.txt': -0.17972824074074076}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        site_nbr = [ [(i + ((j-1)%N - 1)) % N for j in range(N)] for i in range(N) ]
        
        for k in range(3):
            for i in range(N):
                for j in range(N):
                    total_spin[i*N+j][0] += h[site_nbr[i][k]][j]
                    
        priority_total = [[0,0] for _ in range(N**2)]
        
        for i in range(N**2):
            if h[i//N][i%N]>0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
                
        return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%N - 1)) % N
                total_spin = -1 if h[i][j] > 0 else 1
                total_spin += h[site_nbr][j]
                priority_total[i*N+j] = [total_spin, -1*total_spin]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i//N + ((i%N-1)%N - 1)) % N
        total_spin[i][0] += h[site_nbr][i%N]
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        if h[i//N][i%N] > 0:
          priority_total[i][0] = total_spin[i][0]
        else:
          priority_total[i][1] = -1*total_spin[i][0]
      return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N-1)%N - 1)) % N
            total_spin[i][1 if h[site_nbr][i%N] > 0 else 0] += 1
        for j in range(N):
            priority_total[j][0] = total_spin[j][0]
            priority_total[j][1] = -1*total_spin[j][0]
        return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.010528858024691359}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i//N + ((i%N)-1)%N) % N
        total_spin[i][0] += h[site_nbr][i%N]
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        if h[i//N][i%N] > 0:
          priority_total[i][0] = total_spin[i][0]
        else:
          priority_total[i][1] = -1*total_spin[i][0]
      return priority_total


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i//N + ((i%N-1)%N - 1)) % N
            total_spin = h[site_nbr][i%N]
            if h[i//N][i%N] > 0:
                priority_total[i][0] += total_spin
            else:
                priority_total[i][1] = -1*total_spin
        return priority_total


#score: {'data2D.txt': -0.000984413580246913}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i//N + ((i%N-1)%N - 1)) % N
        total_spin[i][0 if h[site_nbr][i%N] > 0 else 1] += 1
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            spin = -1 if h[i][j] > 0 else 1
            total_spin[site][spin==1] += 1
            priority_total[site][0 if total_spin[site][0] >= total_spin[site][1] else 1] += 1
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      total_spin = [[0, 0] for _ in range(N**2)]
      for i in range(N**2):
          site_nbr = (i // N + ((i % N - 1) % N) - 1) % N
          total_spin[i][1 if h[site_nbr][i % N] > 0 else 0] += 1
      priority_total = [[0, 0] for _ in range(N**2)]
      for i in range(N):
          for j in range(N):
              site = (i + ((j-1)%N - 1)) % N
              if h[i][j] > 0:
                  priority_total[j*N+i][0] = total_spin[site][0]
              else:
                  priority_total[j*N+i][1] = -1*total_spin[site][0]
      return priority_total


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] += h[site_nbr][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N - 1)%N) % N)
            total_spin[i][0 if h[site_nbr//N][site_nbr%N] > 0 else 1] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N - 1)%N) % N)
            if h[site_nbr//N][site_nbr%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': -0.010528858024691359}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i//N + ((i%N)-1)%N) % N
            total_spin[i][0] += h[site_nbr][i%N]
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [priority_total[i] for i in range(N**2)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                if h[site_nbr][j] > 0:
                    state = 1
                else:
                    state = -1
                total_spin[i*N+j][state] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][1]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [x for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        site_nbr = [[0]*N for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site_nbr[i][j] = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j] += h[site_nbr[i][j]][j]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[int(i/N)][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [priority_total[i] for i in range(N**2)]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][0] += h[site_nbr][j]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return priority_total


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i//N + ((i%N-1)%N - 1)) % N
            total_spin[i][0] += h[site_nbr][i%N]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return priority_total


#score: {'data2D.txt': -0.004754783950617283}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
            total_spin[i][0] += h[site_nbr][i//N]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    site_nbr = (i + ((j-1)%2 - 1)) % N
                    priority_total[i*N+j][0] += 1
                    priority_total[i*N+j][1] -= 1
                else:
                    site_nbr = (i + ((j-1)%2 - 1)) % N
                    priority_total[i*N+j][0] -= 1
        return [[x, y] for x, y in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      priority_total = [[0,0] for _ in range(N**2)]
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1)%N - 1)) % N
        total_spin[i][1 if h[site_nbr//N][site_nbr%N]>0 else 0] += 1
      for j in range(N):
        priority_total[j][0] = total_spin[j][0]
        priority_total[j][1] = -1*total_spin[j][0]
      return [[x, y] for x,y in priority_total]


#score: {'data2D.txt': 0.0001279320987654317}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N - 1)%N) // N - 1) % N
            total_spin[i][0] += h[site_nbr][i % N]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -total_spin[i][0]
        return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': -0.15429645061728445}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      site_nbrs = []
      for k in range(3):
        for i in range(N):
          for j in range(N):
            site_nbr = (i + ((k-1)%2 - 1)) % N
            total_spin[i*N+j][0] += h[site_nbr][j]
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        if h[i//N][i%N] > 0:
          priority_total[i] = [total_spin[i][0], 0]
        else:
          priority_total[i] = [-1*total_spin[i][0], 1]
      return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        
        for i in range(N**2):
            site_nbr = (i // N + ((i % N) - 1) % N)
            if h[i//N][i%N] > 0:
                priority_total[i][0] += 1
                priority_total[i][1] -= 1
            else:
                priority_total[i][0] -= 1
        
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      total_spin = [[0, 0] for _ in range(N**2)]
      priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
      for i in range(N):
          for j in range(N):
              site_nbr = (i + ((j-1)%2 - 1)) % N
              total_spin[i*N+j][0] += h[site_nbr][j]
              if h[i][j] > 0:
                  priority_total[i*N+j][0] += 1
                  priority_total[i*N+j][1] -= 1
              else:
                  priority_total[i*N+j][0] -= 1
      for i in range(N**2):
          if total_spin[i][0] > 0:
              priority_total[i][0] = float('-inf')
          elif total_spin[i][0] < 0:
              priority_total[i][1] = float('inf')
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        priority_total = [[[float('-inf'),float('-inf')] for _ in range(2)] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] += h[site_nbr][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0][0] -= 1
                    priority_total[i*N+j][0][1] += 1
                else:
                    priority_total[i*N+j][0][0] += 1
                    priority_total[i*N+j][0][1] -= 1
        
        return [[x[0][0],x[0][1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin = h[site_nbr][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += 1
                    priority_total[i*N+j][1] -= 1
                else:
                    priority_total[i*N+j][0] -= 1
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    priority_total[i][j][0] += 1
                    priority_total[i][j][1] -= 1
                else:
                    priority_total[i][j][0] -= 1
        return [[x[0], x[1]] for x in [item for sublist in priority_total for item in sublist]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
      for i in range(N):
        for j in range(N):
          site_nbr = (i + ((j-1)%2 - 1)) % N
          if h[i][j] > 0:
            priority_total[i*N+j][0] += 1
            priority_total[i*N+j][1] -= 1
          else:
            priority_total[i*N+j][0] -= 1
      for i in range(N**2):
        min_val = min(priority_total[i])
        if min_val == float('-inf'):
          continue
        index = [k for k, v in enumerate(priority_total[i]) if v == min_val].index(min_val)
        priority_total[i][0] -= 1
        priority_total[i][1] += 1
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            if h[i][j] > 0:
                priority_total[i*N+j][0] += 1
                priority_total[i*N+j][1] -= 1
            else:
                priority_total[i*N+j][0] -= 1
    
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin = 0
                for k in range(3):
                    site_nbr = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site_nbr][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += 1
                    priority_total[i*N+j][1] -= 1
                else:
                    priority_total[i*N+j][0] -= 1
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += 1
                    priority_total[i*N+j][1] -= 1
                else:
                    priority_total[i*N+j][0] -= 1
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%N - N//2)) % N
            total_spin[i*N+j][0] += h[site_nbr][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] += 1
                priority_total[i*N+j][1] -= 1
            else:
                priority_total[i*N+j][0] -= 1
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
    priority_total = [[[float('-inf'), float('-inf')] for _ in range(2)] for _ in range(N**2)]
    
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%N - N//2)) % N
            total_spin = [0, 0]
            if h[i][j] > 0:
                total_spin[0] += 1
                total_spin[1] -= 1
            else:
                total_spin[0] -= 1
                total_spin[1] += 1
            for k in range(3):
                site_nbr = (i + ((k-1)%2 - 1)) % N
                total_spin[0] += h[site_nbr][j]
            priority_total[i*N+j] = [total_spin[0], -total_spin[1]]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            total_spin[i*N+j][0] += h[site_nbr][j]
            if h[i][j] > 0:
                total_spin[i*N+j][1] -= 1
            else:
                total_spin[i*N+j][1] += 1
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            if h[site_nbr][j] > 0:
                priority_total[i*N+j][0] += 1
                priority_total[i*N+j][1] -= 1
            else:
                priority_total[i*N+j][0] -= 1
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i//N + ((i%N-1)%N - 1)) % N
            total_spin[i][0] += h[site_nbr][i%N]
        
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
        
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.009940277777777779}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                spin = -1 if h[i][j] > 0 else 1
                total_spin[i*N+j][spin==1] += 1
        for i in range(N**2):
            for k in range(3):
                site_nbr = (i // N + ((k-1)%2 - 1)) % N
                total_spin[i] += h[site_nbr][i % N]
        for j in range(N):
            if h[0][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -1*total_spin[j][0]
        return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i % N + (i//N - 1)%N) % N
            total_spin[i][0 if h[site_nbr][i%N] > 0 else 1] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i % N + (i//N - 1)%N) % N
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.009727623456790123}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      site_nbr = [[-N-1 for _ in range(N)] for _ in range(N)]
      for k in range(3):
        for i in range(N):
          for j in range(N):
            site_nbr[i][j] = (i + ((k-1)%2 - 1)) % N
            total_spin[i*N+j][0] += h[site_nbr[i][j]][j]
      priority_total = [[0,0] for _ in range(N**2)]
      for j in range(N):
        if h[j//N][j%N] > 0:
          priority_total[j][0] = total_spin[j][0]
        else:
          priority_total[j][1] = -1*total_spin[j][0]
      return [priority_total[i].copy() for i in range(N**2)]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i//N + ((i%N-1)%N - 1)) % N
            total_spin[i][0] += h[site_nbr][i%N]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i//N + ((i%N-1)%N - 1)) % N
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [priority_total[i] for i in range(N**2)]


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j] += h[site_nbr][j]
        for i in range(N**2):
            if h[int(i//N)][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.20015447530864225}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][0] += h[site_nbr][j]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i] = [total_spin[i][0], 0]
            else:
                priority_total[i] = [-1*total_spin[i][0], 1]
        return priority_total


#score: {'data2D.txt': -0.009536882716049383}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
        total_spin[i][0] += h[site_nbr][i%N]
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
        if h[i//N][i%N] > 0:
          priority_total[i][0] = total_spin[i][0]
        else:
          priority_total[i][1] = -1*total_spin[i][0]
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        site_nbrs = [(i + ((j-1)%N - 1)) % N for i in range(N) for j in range(N)]
        h_flipped = [[-1*x if x > 0 else 1*x for x in row] for row in h]
        for i in range(N**2):
            site = site_nbrs[i]
            spin = -1 if h_flipped[site][i%N] > 0 else 1
            total_spin[i][spin==1] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N-1)%N - 1)) % N
            total_spin[i][0] += h[site_nbr][i%N]
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.001401697530864198}
program:
def priority(N, h, J):
        priority_total = [[[float('-inf'), float('-inf')] for _ in range(2)] for _ in range(N**2)]
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%N - N//2)) % N
                total_spin = [0, 0]
                if h[i][j] > 0:
                    total_spin[0] += 1
                    total_spin[1] -= 1
                else:
                    total_spin[0] -= 1
                    total_spin[1] += 1
                for k in range(3):
                    site_nbr = (i + ((k-1)%2 - 1)) % N
                    total_spin[0] += h[site_nbr][j]
                if state[i][j] == 1:
                    priority_total[i*N+j][0] = total_spin[0]
                    priority_total[i*N+j][1] = -total_spin[1]
                else:
                    priority_total[i*N+j][0] = -total_spin[0]
                    priority_total[i*N+j][1] = total_spin[1]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        priority_total = [[[float('-inf'), float('-inf')] for _ in range(2)] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%N - N//2)) % N
                total_spin = [0, 0]
                if h[i][j] > 0:
                    total_spin[0] += 1
                    total_spin[1] -= 1
                else:
                    total_spin[0] -= 1
                    total_spin[1] += 1
                for k in range(3):
                    site_nbr = (i + ((k-1)%2 - 1)) % N
                    total_spin[0] += h[site_nbr][j]
                priority_total[i*N+j][0] = total_spin[0]
                priority_total[i*N+j][1] = -total_spin[1]
        
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%N - N//2)) % N
                total_spin = [0, 0]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += 1
                    priority_total[i*N+j][1] -= 1
                else:
                    priority_total[i*N+j][0] -= 1
                    priority_total[i*N+j][1] += 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[site][j] > 0:
                        total_spin[0] += 1
                        total_spin[1] -= 1
                    else:
                        total_spin[0] -= 1
                        total_spin[1] += 1
                priority_total[i*N+j][0] = total_spin[0]
                priority_total[i*N+j][1] = -total_spin[1]
        
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.053504783950617286}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N - 1)%N - 1)) % N
            total_spin[i][0] += h[site_nbr][i % N]
        
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
        
        return [[x[0], 1-x[0]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i//N + ((i%N-1)%N - 1)) % N
            total_spin[i][0] += h[site_nbr][i%N]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
        return [x[:] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i % N + ((i//N - 1)%2 - 1)) % N
            total_spin[i][1 if h[site_nbr][i%N] > 0 else 0] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i % N + ((i//N - 1)%2 - 1)) % N
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i//N + ((i%N-1)%N - 1)) % N
            total_spin[i][0] += h[site_nbr][i%N]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        total_spin = [[0, 0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
            total_spin[i][0] += h[site_nbr][i % N]
        priority_total = [[0, 0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i // N + ((i % N-1)%N - 1)) % N
        total_spin[i][0] += h[site_nbr][i % N]
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        if h[i // N][i % N] > 0:
          priority_total[i][0] = total_spin[i][0]
        else:
          priority_total[i][1] = -1*total_spin[i][0]
      return priority_total


#score: {'data2D.txt': -0.2684050925925922}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site_nbr = (i + ((2-j)%2 - 1)) % N
                total_spin += h[site_nbr][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 0))
                else:
                    priorities.append((-1*total_spin, 1))
        return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        total_spin = [[0, 0] for _ in range(N**2)]
        site_nbr = [0]*4
        for i in range(N**2):
            for k in range(3):
                site_nbr[k] = (i // N + ((k-1)%2 - 1)) % N
                total_spin[i][0] += h[site_nbr[k]][i%N]
        priority_total = [[0, 0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return priority_total


#score: {'data2D.txt': -0.27106867283950575}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site_nbr][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 0))
                else:
                    priorities.append((total_spin, 1))
        return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0, 0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N - 1) % N) - 1) % N
            total_spin[i][0 if h[site_nbr][i % N] > 0 else 1] += 1
        priority_total = [[0, 0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority_total[j*N+i][0] = total_spin[j*N+i][0]
                else:
                    priority_total[j*N+i][1] = -1*total_spin[j*N+i][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N-1)%N - 1)) % N
            total_spin[i][0] += h[site_nbr][i % N]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return priority_total


#score: {'data2D.txt': -0.15269768518518537}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        
        for i in range(N**2):
            site_nbr = (i // N + ((i % N-1)%N - 1)) % N
            total_spin[i][0] += h[site_nbr][i % N]
            
        for j in range(N):
            for i in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                spin = -1 if h[i][j] > 0 else 1
                total_spin[i*N+j][spin==1] += 1
                
        for j in range(N**2):
            if h[j//N][j%N] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -1*total_spin[j][0]
                
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
        total_spin[i][0] += h[site_nbr][i % N]
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N):
        for j in range(N):
          if h[i][j] > 0:
            priority_total[i*N+j][0] = total_spin[i*N+j][0]
          else:
            priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i // N + ((i % N-1)%N - 1)) % N
        total_spin[i][0 if h[site_nbr//N][site_nbr%N] > 0 else 1] += 1
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i // N + ((i % N-1)%N - 1)) % N
        if h[i//N][i%N] > 0:
          priority_total[i][0] = total_spin[i][0]
        else:
          priority_total[i][1] = -1*total_spin[i][0]
      return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N-1)%N - 1)) % N
            total_spin[i][0 if h[site_nbr][i%N] > 0 else 1] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[site][0]
                else:
                    priority_total[i*N+j][1] = -1*total_spin[site][0]
        return [[x[0],x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%N - N//2)) % N
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += 1
                    priority_total[i*N+j][1] -= 1
                else:
                    priority_total[i*N+j][0] -= 1
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site_nbr = (i + ((j-1)%N - N//2)) % N
        if h[i][j] > 0:
          priority_total[i*N+j][0] += 1
          priority_total[i*N+j][1] -= 1
        else:
          priority_total[i*N+j][0] -= 1
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        site_nbr = [0]*4
        priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N//2)) % N
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += 1
                    priority_total[i*N+j][1] -= 1
                else:
                    priority_total[i*N+j][0] -= 1
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%N - N//2)) % N
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += 1
                    priority_total[i*N+j][1] -= 1
                else:
                    priority_total[i*N+j][0] -= 1
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        site_nbr = (i//N + ((i%N-1)%N - 1)) % N
        total_spin[i][0 if h[site_nbr][i%N] > 0 else 1] += 1
      for j in range(N):
        for i in range(N):
          site = (i + ((j-1)%2 - 1)) % N
          spin = -1 if h[i][j] > 0 else 1
          total_spin[i*N+j][spin==1] += 1
      for j in range(N):
        if h[0][j] > 0:
          priority_total[j][0] = total_spin[j][0]
        else:
          priority_total[j][1] = -1*total_spin[j][0]
      return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0, 0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
            total_spin[i][0 if h[site_nbr // N][site_nbr % N] > 0 else 1] += 1
        priority_total = [[0, 0] for _ in range(N**2)]
        for i in range(N):
            site_nbr = (i + ((N-1)%2 - 1)) % N
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0, 0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N) - 1) % N)
            total_spin[i][0 if h[site_nbr // N][site_nbr % N] > 0 else 1] += 1
        priority_total = [[0, 0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[site][0]
                else:
                    priority_total[i*N+j][1] = -1*total_spin[site][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0011587962962962964}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
        for j in range(N):
          total_spin = [0, 0]
          site_nbr = (i + ((j-1)%2 - 1)) % N
          total_spin[0] += h[site_nbr][j]
          total_spin[1] -= h[i][j]
          if h[i][j] > 0:
            priorities.append(total_spin)
          else:
            priorities.append([-x for x in total_spin])
      return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N-1)%N - 1)) % N
            total_spin[i][0 if h[site_nbr][i%N] > 0 else 1] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N-1)%N - 1)) % N
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_nbr = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][h[i][j]>0] += h[site_nbr][j]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i] = total_spin[i][0:1]+[0]
            else:
                priority_total[i] = [0]+total_spin[i][1:2]
        return priority_total


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum1 = (np.prod(J_new[0::2], 0) + h).flatten()
        sum2 = (-1)*sum1
        priority = np.column_stack((sum1, sum2))
        return(priority)


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N-1)%N - 1)) % N
            total_spin[i][0] += h[site_nbr][i%N]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.2000797839506175}
program:
def priority(N, h, J):
        priorities = []
        for i in range(N**2):
            total_spin = 0
            site_nbr = (i // N + ((i % N) - 1)) % N
            total_spin += h[site_nbr][i % N]
            if h[i//N][i%N] > 0:
                priorities.append([total_spin, 0])
            else:
                priorities.append([total_spin, 1])
        return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum1 = (np.prod(J_new[0::2], 0) + h).flatten()
        sum2 = (-1)*sum1
        priority = np.column_stack((sum1, sum2))
        return [[x[0], x[1]] for x in priority.reshape(-1, 2)]


#score: {'data2D.txt': -0.009077623456790125}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N):
          for j in range(N):
              site_nbr = (i + ((j-1)%N - 1)) % N
              total_spin[i*N+j][site_nbr==j] += h[site_nbr][j]
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
          if h[i//N][i%N] > 0:
              priority_total[i][0] = total_spin[i][0]
          else:
              priority_total[i][1] = -1*total_spin[i][0]
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum1 = (np.prod(J_new[0::2], 0) + h).flatten()
        sum2 = (-1)*sum1
        priority = np.column_stack((sum1, sum2))
        return [[i[0], i[1]] for i in priority]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            site_nbr = (i // N + ((i % N-1)%N - 1)) % N
            total_spin[i][1 if h[site_nbr][i%N] > 0 else 0] += 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -total_spin[i][0]
        return [x[:] for x in priority_total]


#score: {'data2D.txt': -0.0014097222222222221}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        
        for i in range(N**2):
            site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
            total_spin[i][0] += h[site_nbr][i % N]
            
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[j][0]
                else:
                    priority_total[j][1] = -1*total_spin[j][0]
                    
        return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
      total_spin = [[0,0] for _ in range(N**2)]
      for i in range(N):
        for j in range(N):
          site_nbr = (i + ((j-1)%N - 1)) % N
          total_spin[i*N+j][0] += h[site_nbr][j]
      priority_total = [[0,0] for _ in range(N**2)]
      for i in range(N**2):
        if h[i//N][i%N] > 0:
          priority_total[i][0] = total_spin[i][0]
        else:
          priority_total[i][1] = -1*total_spin[i][0]
      return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        site_nbrs = [(i + ((j-1)%N - 1)) % N for i in range(N) for j in range(N)]
        for i in range(N**2):
            site_nbr = site_nbrs[i]
            total_spin[i][0] += h[site_nbr][i%N]
            total_spin[i][1] -= h[site_nbr][i%N]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -total_spin[i][0]
        return [priority_total[i] for i in range(N**2)]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%N - N//2)) % N
            total_spin[i*N+j][0] += h[site_nbr][j]
            if h[i][j] > 0:
                total_spin[i*N+j][0] += 1
                total_spin[i*N+j][1] -= 1
            else:
                total_spin[i*N+j][0] -= 1
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%N - N//2)) % N
            if h[site_nbr][j] > 0:
                priority_total[i*N+j][0] += 1
                priority_total[i*N+j][1] -= 1
            else:
                priority_total[i*N+j][0] -= 1
    return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                site_nbr = (i + ((j-1)%N - N//2)) % N
                total_spin[i*N+j][0] += 1
                total_spin[i*N+j][1] -= 1
            else:
                site_nbr = (i + ((j-1)%N - N//2)) % N
                total_spin[i*N+j][0] -= 1
                total_spin[i*N+j][1] += 1
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] += 1
                total_spin[i*N+j][1] -= 1
            else:
                site_nbr = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] -= 1
                total_spin[i*N+j][1] += 1
    return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%N - N//2)) % N
            if h[i][j] > 0:
                priority_total[i*N+j][0] += 1
                priority_total[i*N+j][1] -= 1
            else:
                priority_total[i*N+j][0] -= 1
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            if h[i][j] > 0:
                priority_total[i*N+j][0] += 1
                priority_total[i*N+j][1] -= 1
            else:
                priority_total[i*N+j][0] -= 1
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    for i in range(N**2):
        site = (i // N + ((i % N) - 1) % N)
        if h[i // N][i % N] > 0:
            priority_total[i][0] += 1
            priority_total[i][1] -= 1
        else:
            priority_total[i][0] -= 1
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%N - N//2)) % N
            total_spin = i*N+j
            if h[i][j] > 0:
                priority_total[total_spin][0] += 1
                priority_total[total_spin][1] -= 1
            else:
                priority_total[total_spin][0] -= 1
    return [x for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[float('inf') for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            if h[i][j] > 0:
                total_spin[i*N+j][0] += 1
                total_spin[i*N+j][1] -= 1
            else:
                total_spin[i*N+j][0] -= 1
    return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                site = (i + ((j-1)%N - N//2)) % N
                priority_total[i*N+j][0] += 1
                priority_total[i*N+j][1] -= 1
            else:
                site = (i + ((j-1)%N - N//2)) % N
                priority_total[i*N+j][0] -= 1
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            if h[i][j] > 0:
                priority_total[i][j][0] += 1
                priority_total[i][j][1] -= 1
            else:
                priority_total[i][j][0] -= 1
    return [[x[0], x[1]] for x in itertools.chain.from_iterable(priority_total)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N) - 1) % N)
        total_spin[i][0 if h[site_nbr//N][site_nbr%N] > 0 else 1] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N) - 1) % N)
        total_spin[i][0 if h[site_nbr//N][site_nbr%N] > 0 else 1] += J[site_nbr//N][site_nbr%N][0]
    for i in range(N**2):
        priority_total[i][0] = total_spin[i][0]
        priority_total[i][1] = -1 * total_spin[i][1]
    return [[x, y] for x, y in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
    priority_total = [[0, 0] for _ in range(N**2)]
    total_spin = [[0, 0] for _ in range(N**2)]
    
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
        total_spin[i][0] += h[site_nbr][i % N]
        total_spin[i][1] += -h[site_nbr][i % N]
        
    for i in range(N**2):
        site = (i // N + ((i % N - 1) % N - 1)) % N
        if h[i//N][i%N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -total_spin[i][0]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                site_nbr = (i + ((j-1)%N - N//2)) % N
                total_spin[i*N+j][0] += 1
                total_spin[i*N+j][1] -= 1
            else:
                site_nbr = (i + ((j-1)%N - N//2)) % N
                total_spin[i*N+j][0] -= 1
                total_spin[i*N+j][1] += 1
    return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            total_spin = state[site_nbr][j]
            
            if h[i][j] > 0:
                priority_total[i*N+j][0] += 1
                priority_total[i*N+j][1] -= 1
            else:
                priority_total[i*N+j][0] -= 1
    
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[[float('-inf') for _ in range(2)] for _ in range(N)] for _ in range(N)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            total_spin = h[site_nbr][j]
            if h[i][j] > 0:
                priority_total[i][j][0] += 1
                priority_total[i][j][1] -= 1
            else:
                priority_total[i][j][0] -= 1
    return [[x[0], x[1]] for i in range(N) for j in range(N) for x in [priority_total[i][j]]]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
    priority_total = [[float('-inf'), float('inf')] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%N - N//2)) % N
            if h[i][j] > 0:
                priority_total[i*N+j][0] += 1
                priority_total[i*N+j][1] -= 1
            else:
                priority_total[i*N+j][0] -= 1
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%N - N//2)) % N
            if h[i][j] > 0:
                priority_total[i*N+j][0] += 1
                priority_total[i*N+j][1] -= 1
            else:
                priority_total[i*N+j][0] -= 1
                priority_total[i*N+j][1] += 1
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    site_nbrs = [(i + ((k-1)%2 - 1)) % N for i in range(N) for k in range(3)]
    
    for j in range(N):
        for i in range(N):
            site_nbr = (i + ((j-1)%N - N//2)) % N
            total_spin[i*N+j][0] += h[site_nbr][j]
            total_spin[i*N+j][1] -= 1
            
    return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                site_nbr = (i + ((j-1)%N - N//2)) % N
                priority_total[i*N+j][0] += 1
                priority_total[i*N+j][1] -= 1
            else:
                site_nbr = (i + ((j-1)%N - N//2)) % N
                priority_total[i*N+j][0] -= 1
                priority_total[i*N+j][1] += 1
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            total_spin[i*N+j][0] += h[site_nbr][j]
            total_spin[i*N+j][1] -= 1 if h[i][j] > 0 else 1
    return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.14149367283950637}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
        total_spin[i][0 if h[site_nbr][i % N] > 0 else 1] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        priority_total[i] = [total_spin[i][1], -total_spin[i][0]] if h[i//N][i%N] > 0 else [-x for x in total_spin[i]]
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [[0,0] for _ in range(N**2)]
    
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            spin = -1 if h[i][j] > 0 else 1
            total_spin[site][spin==1] += 1
            
    for i in range(N**2):
        if h[int(i//N)][i%N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -1*total_spin[i][0]
            
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.045745833333333374}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
        total_spin[i][0 if h[site_nbr][i % N] > 0 else 1] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            spin = 0 if h[i][j] > 0 else 1
            priority_total[i*N+j][spin] += total_spin[site][spin]
    return [[x, 0] if x > 0 else [-x, 1] for x in [sum(a) for a in priority_total]]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N) - 1) % N)
        total_spin[i][0 if h[site_nbr // N][site_nbr % N] > 0 else 1] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][0 if h[i][j] > 0 else 1] += 1
            priority_total[site][0 if h[i][j] > 0 else 1] = total_spin[site][0] if h[i][j] > 0 else -total_spin[site][1]
    return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
        total_spin[i][0 if h[site_nbr//N][site_nbr%N]>0 else 1] += 1
    for j in range(N**2):
        site = (j // N + ((j % N-1)%N-1)) % N
        priority_total[j] = [total_spin[site][0], -1*total_spin[site][1]]
    return priority_total


#score: {'data2D.txt': -0.010425771604938272}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N)) % N
        total_spin[i][0 if h[site_nbr][i % N] > 0 else 1] += 1
    return [[total_spin[i][0], total_spin[i][1]] for i in range(N**2)]


#score: {'data2D.txt': -0.010754166666666667}
program:
def priority(N, h, J):
    priority_total = [[0, 0] for _ in range(N**2)]
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
        total_spin[i][0 if h[site_nbr][i % N] > 0 else 1] += 1
    for j in range(N):
        for i in range(N):
            site = (i + ((j-1)%N - 1)) % N
            spin = -1 if h[i][j] > 0 else 1
            total_spin[j*N+i][spin==1] += 1
    for j in range(N**2):
        priority_total[j][0 if total_spin[j][0] >= total_spin[j][1] else 1] = total_spin[j][0 if total_spin[j][0] > total_spin[j][1] else 1]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.005020216049382716}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            spin = -1 if h[i][j] > 0 else 1
            total_spin[i*N+j][spin==1] += 1
    priority_total = [[0,0] for _ in range(N**2)]
    for k in range(3):
        site_nbr = (i + ((k-1)%2 - 1)) % N
        for j in range(N):
            total_spin[i*N+j][spin==1] += h[site_nbr][j]
    return [[0 if x[0] > 0 else 1, 1-x[0]] for x in total_spin]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
        total_spin[i][0] += h[site_nbr][i % N]
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        if h[i // N][i % N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -1 * total_spin[i][0]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
        total_spin[i][1 if h[site_nbr//N][site_nbr%N] > 0 else 0] += 1
    return [[sum(x),1-x[0]] for x in total_spin]


#score: {'data2D.txt': -0.1985677469135804}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
        total_spin[i][0 if h[site_nbr//N][site_nbr%N]>0 else 1] += 1
    for j in range(N**2):
        priority_total[j][0 if h[j//N][j%N]>0 else 1] = total_spin[j][0 if h[j//N][j%N]>0 else 1]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N-1)%N - 1)) % N
        total_spin[i][1 if h[site_nbr][i%N] > 0 else 0] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        if h[i//N][i%N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -1*total_spin[i][0]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            total_spin[i*N+j][0] += h[site_nbr][j]
    
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        if h[i//N][i%N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -1*total_spin[i][0]
    
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[0, 0] for _ in range(N**2)]
    total_spin = [[0, 0] for _ in range(N**2)]
    
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            total_spin[i*N+j][0 if h[site_nbr][j] > 0 else 1] += 1
            
    for i in range(N**2):
        if h[i//N][i%N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -total_spin[i][1]
            
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N) - 1) % N
        total_spin[i][1 if h[site_nbr][i % N] > 0 else 0] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N) - 1) % N
        if h[i // N][i % N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -total_spin[i][0]
    return [[priority_total[i][0], priority_total[i][1]] for i in range(N**2)]


#score: {'data2D.txt': -0.007382561728395061}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N-1)%N - 1)) % N
        total_spin[i][0 if h[site_nbr][i%N] > 0 else 1] += 1
    for j in range(N**2):
        site = (j // N + ((j % N-1)%N - 1)) % N
        priority_total[j][0 if h[site][j%N] > 0 else 1] = total_spin[j][0 if h[site][j%N] > 0 else 1]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
        total_spin[i][0 if h[site_nbr][i%N] > 0 else 1] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i % N + ((i//N-1)%2 - 1)) % N
        total_spin[i][0 if h[site_nbr][i%N] > 0 else 1] += h[site_nbr][i%N]
    for i in range(N**2):
        priority_total[i] = [total_spin[i][0], -1*total_spin[i][1]]
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N-1)%N - 1)) % N
        total_spin[i][1 if h[site_nbr][i % N]>0 else 0] += 1
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[site][0]
            else:
                priority_total[i*N+j][1] = -1*total_spin[site][0]
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[0, 0] for _ in range(N**2)]
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
        total_spin[i][1 if h[site_nbr][i % N] > 0 else 0] += 1
    for j in range(N**2):
        if h[j // N][j % N] > 0:
            priority_total[j][0] = total_spin[j][0]
        else:
            priority_total[j][1] = -1 * total_spin[j][0]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': 0.010046759259259259}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N-1)%N - 1)) % N
        total_spin[i][1 if h[site_nbr][i%N] > 0 else 0] += 1
    for j in range(N):
        for i in range(N):
            site_nbr = (i + ((j-1)%N - 1)) % N
            priority_total[j*N+i][1 if h[i][j] > 0 else 0] = total_spin[j*N+i][1 if h[i][j] > 0 else 0]
    return [priority_total[i] for i in range(N**2)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    for i in range(N**2):
        site = (i + ((i//N-1)%2 - 1)) % N
        if h[site][i%N] > 0:
            priority_total[i][0] += 1
            priority_total[i][1] -= 1
        else:
            priority_total[i][0] -= 1
            priority_total[i][1] += 1
    for k in range(3):
        site_nbr = (i + ((k-1)%2 - 1)) % N
        if h[site_nbr][i%N] > 0:
            priority_total[i][0] -= 1
            priority_total[i][1] += 1
        else:
            priority_total[i][0] += 1
            priority_total[i][1] -= 1
    return [[x, y] for x,y in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            if h[i][j] > 0:
                priority_total[i*N+j][0] += 1
                priority_total[i*N+j][1] -= 1
            else:
                priority_total[i*N+j][0] -= 1
                priority_total[i*N+j][1] += 1
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
    J_new = J.flatten()
    sum1 = (J_new[0::2].prod(axis=0) + h).flatten()
    sum2 = (-J_new[1::2].prod(axis=0)).flatten()
    return np.column_stack((sum1, -sum1))


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i//N + ((i%N-1)%N - 1)) % N
        total_spin[i][0 if h[site_nbr][i%N] > 0 else 1] += 1
    for j in range(N):
        for i in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            priority_total[i*N+j] = [total_spin[i*N+j][0], -1*total_spin[i*N+j][1]]
    return priority_total


#score: {'data2D.txt': -0.14828256172839524}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1)%N - 1)) % N
        total_spin[i][h[i//N][i%N] > 0] += 1
    for j in range(N):
        for i in range(N):
            site = (i + ((j-1)%N - 1)) % N
            priority_total[i*N+j][0 if h[i][j] > 0 else 1] = total_spin[site][0 if h[i][j] > 0 else 1]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i//N + ((i%N-1)%N - 1)) % N
        total_spin[i][0] += h[site_nbr][i%N]
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        if h[i//N][i%N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -1*total_spin[i][0]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N) - 1) % N)
        total_spin[i][0 if h[site_nbr // N][site_nbr % N] > 0 else 1] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N) - 1) % N)
        if h[i // N][i % N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -total_spin[i][0]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N) // N - 1) % N
        total_spin[i][0 if h[site_nbr][i % N] > 0 else 1] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N) // N - 1) % N
        if h[i//N][i%N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -total_spin[i][1]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N) - 1) % N
        total_spin[i][0 if h[site_nbr][i % N] > 0 else 1] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N) - 1) % N
        priority_total[i][0 if h[site_nbr][i % N] > 0 else 1] = total_spin[i][0]
    for j in range(N**2):
        priority_total[j][0] = total_spin[j][0]
        if h[(j // N)][j % N] > 0:
            priority_total[j][1] = total_spin[j][0]
        else:
            priority_total[j][1] = -1 * total_spin[j][0]
    return [x for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i % N + ((i // N - 1) % 2 - 1)) % N
        total_spin[i][0 if h[site_nbr][i % N] > 0 else 1] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            spin = -1 if h[i][j] > 0 else 1
            total_spin[site][spin==1] += 1
    return [[x, y] for x, y in priority_total]


#score: {'data2D.txt': 0.001082253086419753}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N-1)%N - 1)) % N
        total_spin[i][0] += h[site_nbr][i%N]
        total_spin[i][1] += -h[site_nbr][i%N]
    for i in range(N**2):
        if h[i//N][i%N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -total_spin[i][1]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.006996759259259259}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
        total_spin[i][0 if h[site_nbr][i % N] > 0 else 1] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            spin = -1 if h[i][j] > 0 else 1
            total_spin[site][spin==1] += 1
    return [[x[0], x[1]] for x in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[0, 0] for _ in range(N**2)]
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N-1)%N - 1)) % N
        total_spin[i][0 if h[site_nbr//N][site_nbr%N] > 0 else 1] += 1
    for j in range(N):
        for i in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            spin = -1 if h[i][j] > 0 else 1
            total_spin[i*N+j][spin] += 1
    for j in range(N**2):
        priority_total[j] = [total_spin[j][0], -1*total_spin[j][1]]
    return priority_total


#score: {'data2D.txt': -0.04796342592592596}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N-1)%N - 1)) % N
        total_spin[i][1 if h[site_nbr][i % N] > 0 else 0] += 1
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            if h[i][j] > 0:
                priority_total[i*N+j] = total_spin[site]
            else:
                priority_total[i*N+j] = [-x for x in total_spin[site]]
    return priority_total


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N-1)%N - 1)) % N
        total_spin[i][0] += h[site_nbr][i%N]
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        if h[i//N][i%N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -1*total_spin[i][0]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.0007257716049382712}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            spin = -1 if h[i][j] > 0 else 1
            total_spin[site][spin==1] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for k in range(3):
        site_nbr = (i + ((k-1)%2 - 1)) % N
        total_spin[i*N+j] += h[site_nbr][j]
    return [total_spin[i] for i in range(N**2)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i//N + ((i%N-1)%N - 1)) % N
        total_spin[i][h[i//N][i%N]>0] += 1
    for j in range(N):
        for i in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -1*total_spin[j][0]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.12418472222222235}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [[0,0] for _ in range(N**2)]
    
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            spin = -1 if h[i][j] > 0 else 1
            total_spin[site][spin==1] += 1
            
    for i in range(N**2):
        for k in range(3):
            site_nbr = (i + ((k-1)%2 - 1)) % N
            total_spin[i] += h[site_nbr][i%N]
            
    for j in range(N**2):
        if h[j//N][j%N] > 0:
            priority_total[j] = [total_spin[j][0], 0]
        else:
            priority_total[j] = [-1*total_spin[j][0], 1]
    
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
        total_spin[i][0 if h[site_nbr][i % N] > 0 else 1] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
        if h[i // N][i % N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -1 * total_spin[i][0]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N) - 1) % N
        total_spin[i][0 if h[site_nbr][i % N] > 0 else 1] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N) - 1) % N
        if h[i//N][i%N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -1*total_spin[i][0]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            total_spin[i*N+j][0] += h[site_nbr][j]
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        if h[i//N][i%N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -total_spin[i][0]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.1662800925925921}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            spin = -1 if h[i][j] > 0 else 1
            total_spin[site][spin==1] += 1
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%2 - 1)) % N
            total_spin[i*N+j] += h[site_nbr][j]
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N**2):
        if h[i//N][i%N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -1*total_spin[i][0]
    return [priority_total[i] for i in range(N**2)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i // N + ((i % N - 1) % N - 1)) % N
        total_spin[i][0 if h[site_nbr][i % N] > 0 else 1] += 1
    
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_nbr = (i + ((j-1)%N - 1)) % N
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[i*N+j][0]
            else:
                priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
    
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        site_nbr = (i % N // N + ((i % N) - 1) % N)
        total_spin[i][1 if h[site_nbr // N][site_nbr % N] > 0 else 0] += 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -1 * total_spin[j][0]
    return [[x[0], x[1]] for x in priority_total]


#score: {'data2D.txt': -7.731481481481539e-05}
program:
def priority(N,h,J):  # random generator
  priority = np.random.rand(N**2,2)
  turn(priority)


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h,J):
  iority = np.zeros((N**2,2))
  r i in range(N):
  for j in range(N):
    if h[i,j] > 0:
      priority[(i*N+j),0] = h[i,j]
    else:
      priority[(i*N+j),1] = -1*h[i,j]
  return(priority)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h,J):  # priorities are all 0 - sets all spins to -1
  priority = np.zeros((N**2,2))
  return(priority)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N,h,J):  #LLM written function - only one that actually works, no modification: 1.715
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += state[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': 0.0005881172839506174}
program:
def priority(N, h, J):  # llm written function -  works with 3 characters of modification (score of -0.002)
  spin_config = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  
  for i in range(N):
    for j in range(N):
      interaction = -2 * J[0][i][j] * spin_config[i][j]
      magnetism = h[i][j]
      priority = interaction + magnetism
      priorities.append([spin_config[i][j], -priority])
  
  return sorted(priorities, key=lambda x: x[1])


#score: {'data2D.txt': -0.02209552469135802}
program:
def priority(N,h,J): ## needs slight modification to work (J indexed wrong). Score -0.002
  spins = [[0 for _ in range(2)] for _ in range(N*N)]
  
  for i in range(N):
    for j in range(N):
      total_J = 0
      if i > 0:
        total_J += J[0][i-1][j]
      if i < N - 1:
        total_J += J[0][i+1][j]
      if j > 0:
        total_J += J[1][i][j-1]
      if j < N - 1:
        total_J += J[1][i][j+1]
      
      if h[i][j] > 0:
        spins[N*i+j][0] = np.exp(total_J) / (np.exp(total_J) + np.exp(-total_J))
        spins[N*i+j][1] = 1 - spins[N*i+j][0]
      else:
        spins[N*i+j][0] = 1 - np.exp(total_J) / (np.exp(total_J) + np.exp(-total_J))
        spins[N*i+j][1] = np.exp(total_J) / (np.exp(total_J) + np.exp(-total_J))
  
  return spins


#score: {'data2D.txt': -0.09313379629629634}
program:
def priority(N, h, J):  # with some modifications it gets to -0.461
  priorities = [[0.0, 0.0] for _ in range(N*N)]
  
  for i in range(N):
    for j in range(N):
      site_energy = -h[i][j]
      for dx in [-1, 0, 1]:
        for dy in [-1, 0, 1]:
          if abs(dx) + abs(dy) == 1:
            x, y = i + dx, j + dy
            if 0 <= x < N and 0 <= y < N:
              site_energy += J[int(h[i][j] * (h[x][y] - 2 * h[i][j])%2)][x][y]
      priorities[i*N+j][1] = site_energy
  return priorities


#score: {'data2D.txt': 0.22561188271604923}
program:
def priority(N, h, J):  # wrong dimensions for J, but other than that its 0.4209
  priorities = [[0 for _ in range(2)] for _ in range(N*N)]
  
  for i in range(N):
    for j in range(N):
      site_energy = -h[i][j]
      if i < N-1:
        site_energy += J[0][i+1][j] * h[i+1][j]
      if j < N-1:
        site_energy += J[1][i][j+1] * h[i][j+1]
      priorities[i*N+j][0] = site_energy
      priorities[i*N+j][1] = -site_energy
  
  return priorities


#score: {'data2D.txt': -0.0013427469135802472}
program:
def priority(N,h,J):  ## score -1.0365
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(2):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if sum(h[i]) > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.17881558641975334}
program:
def priority(N,h,J): ## score = 1.472
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = sum([state[k][j] for k in range(max(0,i-1),min(i+2,N))]) + sum([state[i][k] for k in range(max(0,j-1),min(j+2,N))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities

#-0.87823486328125}
def priority(N,h,J):
  priorities = np.zeros((N**2, 2))

  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priorities[(i*N+j), 0] = np.sin(i*j)  # Unknown rule: sine product of site indices
      else:
        priorities[(i*N+j), 1] = -h[i][j]

  return priorities


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N,h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += state[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities

#-1.717979248046875}
def priority(N, h, J):
  priorities = np.zeros((N*N, 2))
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priorities[(i*N)+j, 0] = h[i][j]
      else:
        priorities[(i*N)+j, 1] = -1*h[i][j]
  
  return priorities


#score: {'data2D.txt': 0.043174845679012364}
program:
def priority(N, h, J):
  priority = np.zeros((N**2, 2))
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        total_spin = sum([J[1][(i+k)%N][(j+l)%N] if k % 2 == 1 and l % 2 == 1 else J[1][(i-k-1)%N][(j-l-1)%N] for k in range(-3,4) for l in range(-3,4)])
        priority[i*N+j] = [total_spin, 1]
      else:
        total_spin = sum([J[0][(i+k)%N][(j+l)%N] if k % 2 == 1 and l % 2 == 1 else J[0][(i-k-1)%N][(j-l-1)%N] for k in range(-3,4) for l in range(-3,4)])
        priority[i*N+j] = [-total_spin, -1]
  
  return priority


#score: {'data2D.txt': 0.014596450617283952}
program:
def priority(N, h, J):  # corrected algorithm
  priority = np.zeros((N**2,2)) 
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        total_spin = sum([h[(i+k)%N][j] if k % 2 == 1 else h[(i-k-1)%N][j] for k in range(-3,4)])
        priority[(i*N+j),0] = total_spin
      else:
        total_spin = sum([h[(i+k)%N][j] if k % 2 == 1 else -h[(i-k-1)%N][j] for k in range(-3,4)])
        priority[(i*N+j),1] = -total_spin

  return priority


#score: {'data2D.txt': -0.0010979938271604935}
program:
def priority(N,h,J):
  priority = np.zeros((N**2, 2))
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority[(i*3+j)%N,0] = h[i][j]
      else:
        priority[(i*3+j)%N,1] = -1*h[i][j]
  
  return priority


#score: {'data2D.txt': 1.0648148148148184e-05}
program:
def priority(N,h, J):
  priorities = []
  
  for i in range(N):
    total_spin = np.zeros((N,2), dtype=int)
    
    for j in range(N):
      spin = -1 if h[i][j] > 0 else 1
      
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[site][0] += spin
        
    for j in range(N):
      priority = np.sign(total_spin[j][0])
      
      if h[i][j] > 0:
        priorities.append((total_spin[j][0], priority))
      else:
        priorities.append((total_spin[j][0], -priority))
  
  return priorities


#score: {'data2D.txt': 0.32948287037036944}
program:
def priority(N,h,J):
  priority = np.zeros((N**2, 2))
  for i in range(N):
    total_spin = np.zeros((N,2), dtype=int)
    for j in range(N):
      spin = -1 if h[i][j] > 0 else 1
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[site][0] += spin
    priority_total = np.zeros((N,2), dtype=int)
    for j in range(N):
      if h[i][j] > 0:
        priority_total[j][0] = total_spin[j][0]
      else:
        priority_total[j][1] = -1*total_spin[j][0]
    for j in range(N):
      priority[(i*N+j),0] = np.sign(priority_total[j][0])
      if h[i][j] > 0:
        priority[(i*N+j),1] = 1
      else:
        priority[(i*N+j),1] = -1
  return(priority)


#score: {'data2D.txt': 0.05238996913580249}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    total_spin = 0
    site1 = (i // N + ((i % N) - 1) // 2 - 1) % N
    site2 = (site1 + (i % N) % 2)
    total_spin += sum(h[site1][j] for j in range(N)) * 2
    if h[i//N, i%N] > 0:
      priorities.append((total_spin, 1))
    else:
      priorities.append((total_spin, -1))
  return(priorities)


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h,J):
  state = [[1 if h[i][j] > 0 else -1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += state[site][j]
      if h[i][j] > 0:
        priorities.append((-1*total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N,h,J):
  priority = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if h[i][j] > 0:
        priority[(i*N+j), 0] = total_spin
      else:
        priority[(i*N+j), 1] = -total_spin
  return priority


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  
  return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += state[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin, h[i][j]))
      else:
        priorities.append((total_spin, -h[i][j]))
  return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h,J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):  # iterate over each site in the neighborhood
        site = ((i + (k-1)%2 - 1)) % N  # calculate the site using integer arithmetic operations
        total_spin += state[site][j]  # accumulate the spin values
      if h[i][j] > 0:
        priorities.append((total_spin, 1))  # add the priority to the list
      else:
        priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': 0.20482700617283975}
program:
def priority(N,h,J):
  priority = np.zeros((N**2,2))
  for i in range(N):
    for j in range(N):
      if h[i,j] > 0:
        priority[(i*N+j),1] = h[i,j]
      else:
        priority[(i*N+j),0] = -1*h[i,3-1-j]
  return(priority)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  priority = []
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      priority.append((h[i//N][i%N], 1))
    else:
      priority.append((h[N-1-i%N][i//N], -1))
  return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority = np.zeros((N**2, 2))
  return(priority)


#score: {'data2D.txt': -0.0005726851851851857}
program:
def priority(N, h, J):
  J_new = np.sum(J, axis=0)
  sum = (np.prod(J_new, 0) + h).T
  priority = [sum, -sum]
  return(np.array(priority).reshape(N**2, 2))


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum = (np.prod(J_new[0::2], 0) + h).flatten()
  priority = np.column_stack((sum, -sum))
  return(priority)


#score: {'data2D.txt': -0.0011794753086419752}
program:
def priority(N, h, J):
  priority = np.zeros((N**2, 2))
  
  for i in range(N**2):
    sum_1 = np.sum(J[0][i:i+2])
    sum_2 = np.sum(J[1][i-N:i+1]) + np.sum(J[3][i-N:i+1])
    
    if h[i//N][i%N] > 0:
      priority[i] = [sum_1 - sum_2, sum_1 + sum_2]
    else:
      priority[i] = [-sum_1 + sum_2, -sum_1 - sum_2]
  
  return(priority)


#score: {'data2D.txt': -0.1729421296296299}
program:
def priority(N, h, J):
  priority_matrix = [[0, 1] for _ in range(N**2)]  
  for i in range(N**2):
    if i % N < N//2:
      if h[i//N][i%N] > 0:
        priority_matrix[i][0] += 1
      else:
        priority_matrix[i][1] += 1
    else:
      if h[N-1-i%N][i//N] > 0:
        priority_matrix[i][0] += 1
      else:
        priority_matrix[i][1] += 1
  return priority_matrix


#score: {'data2D.txt': -0.07410601851851865}
program:
def priority(N, h, J):
  J_new = np.sum(J[:2], axis=0)
  sum_spin = (J_new + h).flatten()
  priority = np.column_stack((sum_spin, -sum_spin))
  return priority.tolist()


#score: {'data2D.txt': -0.17024058641975306}
program:
def priority(N, h, J):
  J_new = J.reshape((4, N, N))
  priorities = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      left = J_new[0, i, (j-1)%N] * h[i, (j-1)%N]
      right = J_new[1, i, (j+1)%N] * h[i, (j+1)%N]
      up = J_new[2, (i-1)%N, j] * h[(i-1)%N, j]
      down = J_new[3, (i+1)%N, j] * h[(i+1)%N, j]
      total_spin = left + right + up + down
      priorities[i*N+j, 0] = total_spin + h[i, j]
      priorities[i*N+j, 1] = -total_spin - h[i, j]
  return priorities


#score: {'data2D.txt': -0.17090324074074073}
program:
def priority(N, h, J):
  priorities = np.zeros((N**2, 2))
  for i in range(N**2):
    x, y = i // N, i % N
    neighbors = [(x, (y+1)%N), ((x+1)%N, y), (x, (y-1)%N), ((x-1)%N, y)]
    interaction = sum(J[k, x, y] * h[neighbors[k][0], neighbors[k][1]] for k in range(4))
    priorities[i] = [interaction + h[x, y], -(interaction + h[x, y])]
  return priorities


#score: {'data2D.txt': -0.17512453703703704}
program:
def priority(N, h, J):
  J_new = J.reshape((4, N, N))
  priorities = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      left = J_new[0, i, (j-1)%N] * h[i, (j-1)%N]
      right = J_new[1, i, (j+1)%N] * h[i, (j+1)%N]
      up = J_new[2, (i-1)%N, j] * h[(i-1)%N, j]
      down = J_new[3, (i+1)%N, j] * h[(i+1)%N, j]
      total_spin = left + right + up + down
      priorities[i*N+j, 0] = np.exp(total_spin + h[i, j])
      priorities[i*N+j, 1] = np.exp(-total_spin - h[i, j])
  return priorities / np.sum(priorities, axis=1, keepdims=True)


#score: {'data2D.txt': -0.14179429012345682}
program:
def priority(N, h, J):
  priorities = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      site_interactions = [J[0, i, j], J[1, i, (j-1)%N], J[2, (i-1)%N, j], J[3, i, (j+1)%N]]
      total_spin = np.sum([h[(i+k)%N][(j+l)%N] for k, l in [(-1, 0), (0, -1), (0, 1), (1, 0)]])
      priorities[i*N+j] = [total_spin + h[i][j], -(total_spin + h[i][j])]
  return priorities


#score: {'data2D.txt': 0.001167438271604938}
program:
def priority(N, h, J):
  priorities = [[0, 0] for _ in range(N**2)]
  for i in range(N):
  for j in range(N):
    idx = i * N + j
    total_spin_1 = sum([h[(i+k)%N][(j+l)%N] for k, l in [(-1, 0), (1, 0), (0, -1), (0, 1)]])
    total_spin_m1 = -total_spin_1
    priorities[idx][0] = total_spin_1 + h[i][j]
    priorities[idx][1] = total_spin_m1 + h[i][j]
  return priorities


#score: {'data2D.txt': 0.28013719135802434}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(4):
        site = (i + ((k-1)%2 - 1)) % N if k < 2 else i
        site_j = (j + ((k-1)%2 - 1)) % N if k >= 2 else j
        total_spin += J[k, i, j] * h[site][site_j]
      priorities.append((total_spin, 1) if h[i][j] > 0 else (total_spin, -1))
  return priorities


#score: {'data2D.txt': 0.003388425925925917}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site1 = i // N
    site2 = (site1 + (i % N) % 2)
    total_spin = sum(h[site1][j] for j in range(N)) * 2
    if h[site1, i%N] > 0:
      priorities.append((total_spin, 1))
    else:
      priorities.append((total_spin, -1))
  return [[priorities[i][0], priorities[i][1]] for i in range(N**2)]


#score: {'data2D.txt': 0.003388425925925917}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site1 = i // N
    site2 = (site1 + (i % N) % 2)
    total_spin = sum(h[site1][j] for j in range(N)) * 2
    if h[site1, i%N] > 0:
      priorities.append((total_spin, 1))
    else:
      priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': 0.003388425925925917}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N**2):
    site1 = i // N
    site2 = (site1 + (i % N) % 2) % N
    total_spin = sum(h[site1][j] for j in range(N)) * 2
    if h[i//N, i%N] > 0:
      priorities.append((total_spin, 1))
    else:
      priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': 0.146027314814815}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] if 0 <= k < N else 0 for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((-total_spin, -1))
      else:
        priorities.append((total_spin, 1))
  return priorities


#score: {'data2D.txt': -0.0635152777777778}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((-total_spin, -1))
      else:
        priorities.append((-total_spin, 1))
  return priorities


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, -1))
      else:
        priorities.append((total_spin, 1))
  return priorities


#score: {'data2D.txt': 0.146027314814815}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((-total_spin, -1))
      else:
        priorities.append((total_spin, 1))
  return priorities


#score: {'data2D.txt': 0.03890293209876543}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] if k!=0 else 2*row_sum[0] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.0006507716049382719}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return [[p[0], p[1]] for p in sorted(priorities)]


#score: {'data2D.txt': 0.041807561728395067}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] if abs(j-k) <= 1 else 0 for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, -1))
      else:
        priorities.append((total_spin, 1))
  return priorities


#score: {'data2D.txt': -0.1564294753086422}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      row_sum = sum(state[i][:j]+state[i][j+1:])
      total_spin = sum([row_sum * state[i][k-j%N] for k in range(min(j+1,N))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((-total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.01753719135802469}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] if h[i][j-k%N]>0 else -row_sum[k]*state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.3074560185185178}
program:
def priority(N, h, J):
  priority = np.zeros((N**2,2), dtype=float)
  for i in range(N):
    for j in range(N):
      total_spin = sum(J[i:(i+1),j:(j+1)].flatten()) + h[i][j]
      if h[i][j] > 0:
        priority[i*N+j, 0] = total_spin
      else:
        priority[i*N+j, 1] = -total_spin
  return priority.tolist()


#score: {'data2D.txt': -0.06987515432098769}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  
  for i in range(N):
    for j in range(N):
      total_spin = sum([state[i][k] * state[i][(j+k)%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, -1))
      else:
        priorities.append((total_spin, 1))
  
  return priorities


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      
      if h[i][j] > 0:
        priorities.append((total_spin, -1))
      else:
        priorities.append((total_spin, 1))
  return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.005117129629629629}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] if (i-k)%N != 0 and (j-k)%N != N-1 else row_sum[k] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((-total_spin, 1))
      else:
        priorities.append((-total_spin, -1))
  return priorities


#score: {'data2D.txt': 0.026169290123456788}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      row_sum = sum(state[i][:j]+state[i][j+1:])
      column_sum = sum([state[k][j] for k in range(N)])
      total_spin = row_sum + column_sum
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.07359120370370377}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [0]*N
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      total_spin[j] += state[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin[j], 1))
      else:
        priorities.append((-1*total_spin[j], -1))
  return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  
  return priorities


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = (np.prod(J_new[0::2], 0) + h).flatten()
  priority = np.column_stack((sum1, -sum1))
  return priority.tolist()


#score: {'data2D.txt': 0.1461016975308644}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [0]*N**2
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N) - N//2) % N
      total_spin[j*N+i] += state[site][j]
  for i in range(N**2):
    if h[i//N][i%N] > 0:
      priorities.append((total_spin[i], 1))
    else:
      priorities.append((total_spin[i], -1))
  return priorities


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = [[0,0] for _ in range(N2)]
  total_spin = [0]*N2
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin[i*N+j] += h[site][j]
      
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[i*N+j]
      else:
        priority_total[i*N+j][1] = -total_spin[i*N+j]
        
  return priority_total


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  priority = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%2 - 1)) % N
      total_spin += h[site][j]
      if h[i][j] > 0:
        priority.append((total_spin, -1))
      else:
        priority.append((total_spin, 1))
  return np.array(priority)


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_0 = (np.prod(J_new[::2], 0) + h).flatten()
  sum_1 = (np.prod(J_new[1::2], 0) - h).flatten()
  priority = np.column_stack((sum_0, sum_1))
  return priority


#score: {'data2D.txt': -0.15429645061728445}
program:
def priority(N, h, J):
  priority = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if h[i][j] > 0:
        priority.append((total_spin, 0))
      else:
        priority.append((-total_spin, 1))
  return np.array(priority)


#score: {'data2D.txt': 0.146027314814815}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((-total_spin, -1))
      else:
        priorities.append((total_spin, 1))
  return np.array(priorities).reshape(N**2,2)


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
  priority = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%2 - 1)) % N
      total_spin += h[site][j]
      if h[i][j] > 0:
        priority[(i*N+j), 0] = total_spin
      else:
        priority[(i*N+j), 1] = -total_spin
  return priority.tolist()


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
      else:
        priority_total[i*N+j][1] = -total_spin
  return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::2], 0) + h).flatten()
  sum_2 = (-1*np.prod(J_new[1::2], 0)).flatten()
  priority = np.column_stack((sum_1, -sum_1-sum_2))
  return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    priority_total = np.zeros((N,2))
    for j in range(N):
      site_sum = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        site_sum += state[site][j]
      if h[i][j] > 0:
        priority_total[j][0] = site_sum
      else:
        priority_total[j][1] = -site_sum
    total_spin.append(priority_total)
  return np.concatenate([np.array(t).flatten() for t in total_spin]).reshape(N**2,2)


#score: {'data2D.txt': -0.15539830246913605}
program:
def priority(N, h, J):
  N2 = N*N
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  
  for i in range(N):
    for j in range(N):
      total_spin = sum([J[k][(i+((k-1)%2 - 1)) % N][(j+((l-1)%2 - 1)) % N]*state[i][j-l%N] for k,l in itertools.product(range(3),range(3)) if ((k-1)%2 - 1) + (l-1)%2 == 0])
      
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
        
  return [[p[1],p[0]] for p in priorities]


#score: {'data2D.txt': 0.10389614197530864}
program:
def priority(N, h, J):
  J = J.reshape(4,N*N)
  priority = [[0,0] for _ in range(N*N)]
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        for k in range(4):
          if k==0 and i+1<N:
            priority[i*N+j][0] += J[0][i*N+j]
          elif k==1 and i-1>=0:
            priority[i*N+j][0] += J[1][i*N+j]
          elif k==2 and j+1<N:
            priority[i*N+j][0] += J[2][i*N+j]
          elif k==3 and j-1>=0:
            priority[i*N+j][0] += J[3][i*N+j]
        priority[i*N+j][1] = -priority[i*N+j][0]
      else:
        for k in range(4):
          if k==0 and i+1<N:
            priority[i*N+j][1] -= J[0][i*N+j]
          elif k==1 and i-1>=0:
            priority[i*N+j][1] -= J[1][i*N+j]
          elif k==2 and j+1<N:
            priority[i*N+j][1] -= J[2][i*N+j]
          elif k==3 and j-1>=0:
            priority[i*N+j][1] -= J[3][i*N+j]
        priority[i*N+j][0] = -priority[i*N+j][1]
  
  return priority


#score: {'data2D.txt': 0.29362299382716023}
program:
def priority(N, h, J):
  n = N**2
  J_flat = J.reshape((4,n))
  h_flat = h.flatten()
  priorities = []
  
  for i in range(n):
    site_neighbors = [J_flat[k][i] for k in range(4)]
    if h_flat[i] > 0:
      total_spin = sum([1 if neighbor > 0 else -1 for neighbor in site_neighbors])
      priorities.append((total_spin, 1))
    else:
      total_spin = sum([1 if neighbor < 0 else -1 for neighbor in site_neighbors])
      priorities.append((-total_spin, -1))
  
  return np.array(priorities).reshape((n,2))


#score: {'data2D.txt': 0.1647720679012351}
program:
def priority(N, h, J):
  priority_total = []
  for j in range(N**2):
    total_spin = 0
    for k in range(3):
      site = (j // N + ((k-1)%2 - 1)) % N
      total_spin += h[site][j % N]
    if h[j // N][j % N] > 0:
      priority_total.append((total_spin, 1))
    else:
      priority_total.append((-total_spin, -1))
  return np.array(priority_total).reshape(N**2, 2)


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return np.array(priorities).reshape(N*N, 2)


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return np.array(priorities).tolist()


#score: {'data2D.txt': 0.15533472222222247}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = sum([J[k][(i + ((k-1)%2 - 1)) % N][j] * state[(i + ((k-1)%2 - 1)) % N][j] for k in range(3)])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.0451294753086421}
program:
def priority(N, h, J):
  N2 = N*N
  J_tensor = J.reshape(4,N2)
  priorities = []
  
  for i in range(N):
    for j in range(N):
      site_spin_sum = 0
      for k in range(4):
        if k == 0:
          site_spin_sum += J_tensor[0][i*N+j]
        elif k == 1:
          site_spin_sum += J_tensor[1][(i+1)%N*N + j]
        elif k == 2:
          site_spin_sum += J_tensor[2][i*N+(j+1)%N]
        else:
          site_spin_sum += J_tensor[3][((i+1)%N)*N+j]
      if h[i][j] > 0:
        priorities.append((site_spin_sum, -1))
      else:
        priorities.append((site_spin_sum, 1))
  
  return priorities


#score: {'data2D.txt': -0.04444305555555559}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      row_sum = sum(state[i][:j]+state[i][j+1:])
      total_spin = sum([row_sum * state[k][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, -1))
      else:
        priorities.append((total_spin, 1))
  return priorities


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] if 0 <= j-k%N < N else 0 for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, -1))
      else:
        priorities.append((total_spin, 1))
  return priorities


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
  priority = np.zeros((N**2, 2))
  
  for i in range(N):
    for j in range(N):
      total_spin = 0
      
      # Calculate total spin based on site interactions and magnetism
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      
      if h[i][j] > 0:
        priority[(i*N+j), 0] = total_spin
      else:
        priority[(i*N+j), 1] = -total_spin
  
  return priority


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
  priority = np.zeros((N**2,2))
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%2 - 1)) % N
      total_spin += h[site][j]
      if h[i][j] > 0:
        priority[i*N+j, 0] = total_spin
      else:
        priority[i*N+j, 1] = -total_spin
  return priority.tolist()


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      
      if h[i][j] > 0:
        priorities.append((total_spin, -1))
      else:
        priorities.append((total_spin, 1))
  
  return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = np.zeros((N**2, 2))
  for i in range(N**2):
    site_row = int(i/N)
    site_col = i % N
    total_spin = 0
    for k in range(3):
      site = (site_row + ((k-1)%2 - 1)) % N
      total_spin += state[site][site_col]
    if h[site_row][site_col] > 0:
      priority_total[i][0] = total_spin
    else:
      priority_total[i][1] = -1*total_spin
  return priority_total.tolist()


#score: {'data2D.txt': -0.27106867283950575}
program:
def priority(N, h, J):
  priority = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%2 - 1)) % N
      total_spin += h[site][j]
      if h[i][j] > 0:
        priority.append((total_spin, 0))
      else:
        priority.append((-total_spin, 1))
  return np.array(priority)


#score: {'data2D.txt': -0.0005408950617283944}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = [[0,0] for _ in range(N**2)]
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += state[site][j]
      if h[i][j] > 0:
        priority_total[j][0] = total_spin
      else:
        priority_total[j][1] = -total_spin
  for j in range(N):
    if h[i][j] > 0:
      priority_total[j][0] = priority_total[j][0]
    else:
      priority_total[j][1] = -priority_total[j][1]
  return [row for row in priority_total]


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((-total_spin, -1))
  return np.array(priorities).reshape(N**2, 2)


#score: {'data2D.txt': -0.17949922839506163}
program:
def priority(N, h, J):
  priority = np.zeros((N**2, 2))
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if h[i][j] > 0:
        priority[(i*N+j), 0] = total_spin
      else:
        priority[(i*N+j), 1] = -total_spin
  return priority.astype(int)


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((-total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.01437175925925926}
program:
def priority(N, h, J):
  J = J.reshape((4, N*N))
  priority_matrix = np.zeros((N*N, 2), dtype=int)
  
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(4):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += J[k][i*N+j]
      
      if h[i][j] > 0:
        priority_matrix[i*N+j, 0] = total_spin
        priority_matrix[i*N+j, 1] = -total_spin
      else:
        priority_matrix[i*N+j, 0] = -total_spin
        priority_matrix[i*N+j, 1] = total_spin
  
  return priority_matrix.tolist()


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum_1 = (np.prod(J_new[0::2], 0) + h).flatten()
  sum_2 = (-np.prod(J_new[1::2], 0)).flatten()
  priority = np.column_stack((sum_1, -sum_1))
  return [list(i) for i in priority]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = np.zeros((N**2, 2), dtype=int)
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += state[site][j]
      if h[i][j] > 0:
        priority_total[(i*N+j), 0] = total_spin
      else:
        priority_total[(i*N+j), 1] = -total_spin
  return [row.tolist() for row in priority_total]


#score: {'data2D.txt': -0.003459722222222222}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [0,0]
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      spin = -1 if h[i][j] > 0 else 1
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[spin] += state[site][j]
      priorities.append((total_spin[0], total_spin[1]))
  return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = np.zeros((N**2, 2), dtype=int)
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += state[site][j]
      if h[i][j] > 0:
        priority_total[i*N+j, 0] = total_spin
      else:
        priority_total[i*N+j, 1] = -total_spin
  return priority_total.tolist()


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return [p for p in priorities]


#score: {'data2D.txt': -0.17729830246913594}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spins = np.zeros((N,2))
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spins[site][0] += state[i][j]
  
  for j in range(N*N):
    if h[j//N][j%N] > 0:
      priorities.append((total_spins[j//N][0], 1))
    else:
      priorities.append((-total_spins[j//N][0], -1))
  
  return priorities


#score: {'data2D.txt': 0.07764182098765438}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      priority_total = [0, 0]
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += state[site][j]
      if h[i][j] > 0:
        priority_total[0] = total_spin
      else:
        priority_total[1] = -total_spin
      priorities.append(priority_total)
  return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = np.zeros((N,N))
  for i in range(N):
    for j in range(N):
      site_spin = state[i][j]
      total_spin_site = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin_site += site_spin * state[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin_site, 1))
      else:
        priorities.append((total_spin_site, -1))
  return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority = np.zeros((N**2, 2))

  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += state[site][j]
      if h[i][j] > 0:
        priority[i*N+j, 0] = total_spin
      else:
        priority[i*N+j, 1] = -total_spin

  return priority.tolist()


#score: {'data2D.txt': -0.2136520061728395}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = np.zeros((N**2,2))
  total_spin = np.zeros((N,N))
  priorities = []
  
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      total_spin[i][j] += state[site][j]
      if h[i][j] > 0:
        priority_total[(i*N+j),0] = total_spin[i][j]
      else:
        priority_total[(i*N+j),1] = -total_spin[i][j]
  
  for j in range(N**2):
    sum_1 = 0
    sum_2 = 0
    for i in range(N):
      site = (i + ((j-1)%N - N) % N)
      if h[i][site%N] > 0:
        sum_1 += priority_total[j][0]
        sum_2 += priority_total[j][1]
      else:
        sum_1 -= priority_total[j][0]
        sum_2 -= priority_total[j][1]
    priorities.append((sum_1 - sum_2, sum_1 + sum_2))
  
  return [x for x in priorities]


#score: {'data2D.txt': -0.27106867283950575}
program:
def priority(N, h, J):
  priority = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%2 - 1)) % N
      total_spin += h[site][j]
      if h[i][j] > 0:
        priority.append((total_spin, 0))
      else:
        priority.append((total_spin, 1))
  return priority


#score: {'data2D.txt': -0.27106867283950575}
program:
def priority(N, h, J):
  priority = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%2 - 1)) % N
      total_spin += h[site][j]
      if h[i][j] > 0:
        priority.append((total_spin, 0))
      else:
        priority.append((-total_spin, 1))
  return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = np.zeros((N,N), dtype=int)
  for i in range(N):
    for j in range(N):
      site_spin = state[i][j]
      total_spin_site = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin_site += site_spin * state[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin_site, 1))
      else:
        priorities.append((total_spin_site, -1))
  return priorities


#score: {'data2D.txt': 0.005746141975308629}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  total_spin = [0,0]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin[0] += h[site][j]
      total_spin[1] -= h[site][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[0]
      else:
        priority_total[i*N+j][1] = -total_spin[1]
  return priority_total


#score: {'data2D.txt': -0.0006125000000000001}
program:
def priority(N, h, J):
  priority = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if h[i][j] > 0:
        priority.append((total_spin, 0))
      else:
        priority.append((-total_spin, 1))
  return np.array(priority).T.reshape(N**2, 2)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = (np.prod(J_new[0::2], 0) + h).flatten()
  sum2 = (-1 * np.prod(J_new[1::2], 0)).flatten()
  priority = np.column_stack((sum1, -sum1-sum2))
  return(priority.astype(int))


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority = [[0.5 for _ in range(2)] for _ in range(N**2)]
  return priority


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
  J_new = J.flatten()
  sum1 = (np.prod(J_new[0::2], 0) + h).flatten()
  sum2 = (-np.prod(J_new[1::2], 0) + h).flatten()
  priority = np.column_stack((sum1, -sum2))
  return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  J_new = J.reshape(4,-1).T.flatten()
  sum_1 = (np.prod(J_new[::2], 0) + h.flatten()).flatten()
  sum_2 = (np.prod(J_new[1::2], 0) - h.flatten()).flatten()
  priority = np.column_stack((sum_1, -sum_2))
  return(priority)


#score: {'data2D.txt': -0.33340694444444346}
program:
def priority(N, h, J):
  priority = np.zeros((N**2, 2))
  
  for i in range(N):
    for j in range(N):
      total_spin = sum(J[(i+1)%N*N:(i+2)%N, (j+1)%N:(j+2)%N].flatten()) + h[i][j]
      if h[i][j] > 0:
        priority[i*N+j, 0] = total_spin
      else:
        priority[i*N+j, 1] = -total_spin
  
  return priority.tolist()


#score: {'data2D.txt': -0.09667175925925932}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  total_spin = [0]*N
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin[site] += h[i][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[site]
      else:
        priority_total[i*N+j][1] = -total_spin[site]
  return priority_total


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
  priority_total = [[0 for _ in range(2)] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
      else:
        priority_total[i*N+j][1] = -total_spin
  return priority_total


#score: {'data2D.txt': -0.2684050925925922}
program:
def priority(N, h, J):
  priority = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j%2) - 1)) % N
      total_spin += h[site][j]
      if h[i][j] > 0:
        priority.append((total_spin, 0))
      else:
        priority.append((-total_spin, 1))
  return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j % N) - 1)) % N
      total_spin += h[site][j]
      if h[i][j] > 0:
        priority = total_spin
      else:
        priority = -total_spin
      priorities.append((priority, -1))
  return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  m = N ** 2
  J_reshaped = J.reshape(4, -1).T.flatten()
  sum_ones = (np.prod(J_reshaped[::2], 0) + h.flatten()).flatten()
  sum_negones = (np.prod(J_reshaped[1::2], 0) - h.flatten()).flatten()
  priority = np.column_stack((sum_ones, -sum_negones))
  return priority


#score: {'data2D.txt': 0.009663734567901214}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  for k in range(4):
    for i in range(N):
      for j in range(N):
        site = (i + ((k-1)%2 - 1)) % N
        if h[i][j] > 0:
          total_spin[i*N+j][1] += state[site][j]
        else:
          total_spin[i*N+j][0] += state[site][j]
  return total_spin


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return np.array(priorities)


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
  priority_total = [[0,0]for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%N - 1)) % N
      total_spin += h[site][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
      else:
        priority_total[i*N+j][1] = -total_spin
  return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority = []
  for i in range(N):
    for j in range(N):
      site_spin = -1 if h[i][j] > 0 else 1
      total_spin = 0
      for k in [(i-1)%N, (i+1)%N]:
        for l in [(j-1)%N, (j+1)%N]:
          if i == k and j != l:
            total_spin += J[k*N+l][1] * site_spin
          elif i != k and j == l:
            total_spin += J[i*N+j][3] * site_spin
      priority.append([total_spin, -total_spin])
  return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%N - 1)) % N
      total_spin += h[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((-total_spin, -1))
  return np.array(priorities).reshape(N**2, 2)


#score: {'data2D.txt': -0.010160339506172839}
program:
def priority(N, h, J):
  m = N ** 2
  priorities = [[0 for _ in range(2)] for _ in range(m)]
  for i in range(m):
    site = (i // N, i % N)
    total_spin = h[site[1]][site[0]]
    if h[site[0]][site[1]] > 0:
      priorities[i][0] = total_spin
    else:
      priorities[i][1] = -total_spin
  for k in range(3):
    site = ((k-1) % N, i // N)
    total_spin += J[(((k-1) % 2) + 1)][site[0]][site[1]]
  return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = np.zeros((N**2, 2), dtype=int)
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin = h[site][j]
      if h[i][j] > 0:
        priority_total[(i*N+j), 0] = total_spin
      else:
        priority_total[(i*N+j), 1] = -total_spin
  return priority_total.tolist()


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
  priority_total = np.zeros((N,N,2))
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if h[i][j] > 0:
        priority_total[i][j][0] = total_spin
      else:
        priority_total[i][j][1] = -total_spin
  return priority_total.reshape(N*N,2)


#score: {'data2D.txt': 0.22532145061728423}
program:
def priority(N, h, J):
  m = N ** 2
  priorities = []
  for i in range(m):
    site = (i // N, i % N)
    total_spin = h[site[1]][site[0]]
    if h[site[0]][site[1]] > 0:
      priority_minus_one = total_spin + np.sum([J[(k+2)%4][site[0]][site[1]] for k in range(3) if ((i//N + (k-1)%2 - 1)) % N == site[0]])
      priorities.append((priority_minus_one, 1))
    else:
      priority_plus_one = total_spin + np.sum([J[(k+2)%4][site[0]][site[1]] for k in range(3) if ((i//N + (k-1)%2 - 1)) % N == site[0]])
      priorities.append((priority_plus_one, -1))
  return priorities


#score: {'data2D.txt': -0.0015356481481481486}
program:
def priority(N, h, J):
  m = N ** 2
  priorities = [[0 for _ in range(2)] for _ in range(m)]
  for i in range(m):
    site = (i // N, i % N)
    total_spin = h[site[1]][site[0]]
    if h[site[0]][site[1]] > 0:
      priorities[i][0] = total_spin
    else:
      priorities[i][1] = -total_spin
  for k in range(3):
    site = ((k-1) % N, i // N)
    total_spin += J[(((k-1) % 2) + 1)][site[0]][site[1]]
  for i in range(m):
    for j in range(i+1,m):
      site1 = (i // N, i % N)
      site2 = (j // N, j % N)
      total_spin += -J[(((site1[0]-site2[0])%2) + 1)][site1[0]][site1[1]]-J[(((site1[0]-site2[0])%2) + 1)][site2[0]][site2[1]]
  for i in range(m):
    if h[i//N][i%N] > 0:
      priorities[i][0] = total_spin
    else:
      priorities[i][1] = -total_spin
  return priorities


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    total_spin = sum([state[(i//N)][(i%N)+(k-(k+1)%2 - 1)] % N for k in range(3)])
    if h[i//N][i%N] > 0:
      priorities.append((total_spin, 1))
    else:
      priorities.append((-total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  result = [[0 for _ in range(2)] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site1 = (i + ((j-1)%N - 1)) % N
      site2 = (i + ((j+1)%N - 1)) % N
      if h[i][j] > 0:
        result[i*N+j][0] = total_spin
      else:
        result[i*N+j][1] = -total_spin
        
  return result


#score: {'data2D.txt': -0.17949922839506163}
program:
def priority(N, h, J):
  N2 = N * N
  priorities = np.zeros((N2, 2), dtype=int)
  
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if h[i][j] > 0:
        priorities[i*N+j, 0] = total_spin
      else:
        priorities[i*N+j, 1] = -total_spin
  
  return priorities


#score: {'data2D.txt': -0.144194290123457}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [0]*N
  for i in range(N):
    for j in range(N):
      site = (i + ((j % N) - 1)) % N
      total_spin[site] += state[i][j]
      if h[i][j] > 0:
        priority = total_spin[site]
      else:
        priority = -total_spin[site]
      priorities.append((priority, -1))
  return priorities


#score: {'data2D.txt': -0.3302288580246904}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [0,0]
  for i in range(N):
    for j in range(N):
      site = (i + ((j % N) - 1)) % N
      total_spin[0] += state[i][j]
      if h[i][j] > 0:
        priority = total_spin[0]
      else:
        priority = -total_spin[0]
      priorities.append((priority, -1))
  return priorities


#score: {'data2D.txt': -0.20612422839506192}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, -1))
      else:
        priorities.append((-total_spin, 1))
  return priorities


#score: {'data2D.txt': -0.14991867283950638}
program:
def priority(N, h, J):
  J = J.reshape(4*N**2)
  priority_list = []
  for i in range(N):
    for j in range(N):
      site_spin = 0
      for k in range(4):
        if k == 0:
          site_spin += J[i*k + (j-1)%N]
        elif k == 1:
          site_spin += J[i*k + N*(i+1)%N - i*N]
        elif k == 2:
          site_spin += J[i*k + N**2 - i*N - j]
        else:
          site_spin += J[i*k + (j-1)%N + i*N]
      priority_list.append((site_spin, -1 if h[i][j] > 0 else 1))
  return priority_list


#score: {'data2D.txt': 0.009663734567901214}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return np.array(priorities)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = [0]*N
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[site] += state[i][j]
      if h[i][j] > 0:
        priority = sum(total_spin)
      else:
        priority = -sum(total_spin)
      priorities.append((priority, 1))
  return priorities


#score: {'data2D.txt': -0.13395077160493843}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [0]*N
  for i in range(N):
    for j in range(N):
      site = (i + ((j % N) - 1)) % N
      total_spin[site] += state[i][j]
      if h[i][j] > 0:
        priority = total_spin[site]
      else:
        priority = -total_spin[site]
      priorities.append((priority, 1))
  return priorities


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += state[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((-total_spin, -1))
  return np.array(priorities)


#score: {'data2D.txt': 0.03464922839506175}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = np.zeros((N,N), dtype=int)
  for k in range(3):
    site = ((k-1)%2 - 1) % N
    for i in range(N):
      for j in range(N):
        total_spin[i][j] += state[(i + (k-1)%2 - 1) % N][site]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priorities.append((total_spin[i][j], 1))
      else:
        priorities.append((-1*total_spin[i][j], -1))
  return priorities


#score: {'data2D.txt': -0.0009816358024691359}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((-total_spin, -1))
  return [(a,b) for a,b in sorted(priorities)]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = np.ones((N,N))
  priorities = np.zeros((N*N,2))

  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        total_spin = sum([state[i][k] if (i+k)%2 == (j+1)%2 else -state[i][k] for k in range(N)])
        priorities[i*N+j,0] = total_spin
        priorities[i*N+j,1] = 0
      else:
        total_spin = sum([state[i][k] if (i+k)%2 != (j+1)%2 else -state[i][k] for k in range(N)])
        priorities[i*N+j,0] = -total_spin
        priorities[i*N+j,1] = 1

  return priorities.astype(int)


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
  priority = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%N - 1)) % N
      total_spin += h[site][j]
      if h[i][j] > 0:
        priority[i*N+j][0] = total_spin
      else:
        priority[i*N+j][1] = -total_spin
  return priority


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
  N2 = N * N
  priority_list = [[0, 0] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%N - 1)) % N
      total_spin += h[site][j]
      
      if h[i][j] > 0:
        priority_list[i*N+j][0] = total_spin
      else:
        priority_list[i*N+j][1] = -total_spin
        
  return priority_list


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  N2 = N*N
  priority_total = np.zeros((N2,2), dtype=int)
  
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%N - 1)) % N
      total_spin += h[site][j]
      if h[i][j] > 0:
        priority_total[(i*N+j),0] = total_spin
      else:
        priority_total[(i*N+j),1] = -total_spin
  
  return priority_total.tolist()


#score: {'data2D.txt': -0.0006125000000000001}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin, 0))
      else:
        priorities.append((-total_spin, 1))
  return np.array(priorities).T.reshape(N**2, 2)


#score: {'data2D.txt': -0.19697546296296325}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [0,0]
  for i in range(N**2):
    site = (i // N, i % N)
    spin = state[site[0]][site[1]]
    for k in range(3):
      neighbor_site = ((site[0] + ((k-1)%2 - 1)) % N, site[1])
      total_spin[0] += spin * state[neighbor_site[0]][neighbor_site[1]]
    if h[i // N][i % N] > 0:
      priorities.append((total_spin[0], 1))
    else:
      priorities.append((-total_spin[0], -1))
    total_spin = [0,0]
  return priorities


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
  N2 = N*N
  result = [[0 for _ in range(2)] for _ in range(N2)]
  
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site1 = (i + ((j-1)%N - 1)) % N
      site2 = (i + ((j+1)%N - 1)) % N
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if h[i][j] > 0:
        result[i*N+j][0] = total_spin
      else:
        result[i*N+j][1] = -total_spin
        
  return result


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      spin = -1 if h[i][j] > 0 else 1
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      priorities.append((total_spin, spin))
  return priorities


#score: {'data2D.txt': 0.14721064814814835}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N**2):
    total_spin = sum([state[(i//N)%N][(i%N)+k-N] * state[i//N][k%N] for k in range(3) if (i//N)%N != ((i//N)//N*(k-1))%N])
    if h[i//N][i%N] > 0:
      priorities.append((total_spin, 1))
    else:
      priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': 0.11668225308641988}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      site_spin = state[i][j]
      total_spin = sum([state[(i + ((k-1)%2 - 1)) % N][max(0, min(j+k, N)-1)] * site_spin for k in range(4)])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((-total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = np.zeros((N,2), dtype=int)
  for i in range(N):
    for j in range(N):
      site_spin = state[i][j]
      total_spin_site = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin_site += site_spin * state[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin_site, 1))
      else:
        priorities.append((total_spin_site, -1))
  return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += state[site][j]
      
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  
  return priorities


#score: {'data2D.txt': 0.2852337962962958}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin = sum([h[k][site-k%N] if k < N else h[N+k-(2*N),site-k%N] for k in range(3)])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((-total_spin, -1))
  return priorities


#score: {'data2D.txt': 0.20332700617283966}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((-total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority_total = [[0,0] for _ in range(N**2)]
  total_spin = [[0,0] for _ in range(N**2)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[i*N+j][0]
      else:
        priority_total[i*N+j][1] = -1*total_spin[i*N+j][0]
  return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  priority = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%2 - 1)) % N
      total_spin += h[site][j]
      if h[i][j] > 0:
        priority.append((total_spin, 1))
      else:
        priority.append((-total_spin, -1))
  return np.array(priority)


#score: {'data2D.txt': -0.06364182098765434}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    total_spin = [0,0]
    for j in range(N):
      spin = -1 if h[i][j] > 0 else 1
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[spin] += state[site][j]
      priorities.append((total_spin[0], total_spin[1]))
  return priorities


#score: {'data2D.txt': 0.146027314814815}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((-total_spin, -1))
      else:
        priorities.append((total_spin, 1))
  return np.array(priorities)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      priority_total = np.zeros(2)
      for l in range(N):
        site = (i + ((l)%2 - 1)) % N
        if h[site][j] > 0:
          priority_total[0] += state[site][j]
        else:
          priority_total[1] -= state[site][j]
      if h[i][j] > 0:
        priorities.append((priority_total[0], 1))
      else:
        priorities.append((-1*priority_total[0], -1))
  return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = np.zeros((N*N,2), dtype=int)
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += state[site][j]
      if h[i][j] > 0:
        priorities[i*N+j, 0] = total_spin
        priorities[i*N+j, 1] = -total_spin
  return priorities.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = np.zeros((N,2))
  for i in range(N):
    for j in range(N):
      spin = -1 if h[i][j] > 0 else 1
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[site][spin] += state[i][j]
      priority_total = np.zeros((N,2), dtype=int)
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[site][0] += spin
      priorities.append(total_spin.sum(axis=0))
  return priorities


#score: {'data2D.txt': -0.003180092592592593}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [0,0]
  for i in range(N):
    for j in range(N):
      total_spin[0] = sum([state[(i + ((k-1)%2 - 1)) % N][j-k%N] if h[i][k%N-j+N-1] > 0 else - state[(i + ((k-1)%2 - 1)) % N][j-k%N] for k in range(min(j,N-1))])
      total_spin[1] = sum([state[(i + ((k-1)%2 - 1)) % N][j-k%N] if h[i][k%N-j+N-1] < 0 else - state[(i + ((k-1)%2 - 1)) % N][j-k%N] for k in range(min(j,N-1))])
      priorities.append((total_spin[0], total_spin[1]))
  return priorities


#score: {'data2D.txt': -0.35241188271604973}
program:
def priority(N, h, J):
  J_flat = J.reshape(-1)
  H = np.zeros((N**2, 2))
  
  for i in range(N):
    for j in range(N):
      site = (i * N + j) % (N ** 2)
      total_spin = 0
      for k in range(3):
        neighbor_site = ((i + ((k - 1) % 2) - 1) % N * N + j) % (N ** 2)
        if J_flat[neighbor_site] > 0:
          total_spin += h[i][j]
      H[site, 0] = total_spin
      H[site, 1] = -total_spin
  
  return H.tolist()


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += state[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((-total_spin, -1))
  return priorities


#score: {'data2D.txt': 0.1647720679012351}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += h[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((-total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.0008853395061728396}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priorities.append((total_spin, -1))
      else:
        priorities.append((total_spin, 1))
  return [[x[1], -x[0]] for x in sorted(priorities)]


#score: {'data2D.txt': -0.0044970679012345674}
program:
def priority(N, h, J):
  m = N ** 2
  priorities = [[0 for _ in range(2)] for _ in range(m)]
  
  for i in range(m):
    site = (i // N, i % N)
    total_spin = h[site[1]][site[0]]
    
    for k in range(3):
      neighbor_site = ((k-1) % N, site[1])
      if 0 <= neighbor_site[0] < N:
        total_spin += J[k][neighbor_site[0]][site[1]]
    
    for j in range(N):
      if h[i//N][j] > 0:
        priorities[i][0] = total_spin
      else:
        priorities[i][1] = -total_spin
    
  return priorities


#score: {'data2D.txt': 0.18487731481481504}
program:
def priority(N, h, J):
  m = N ** 2
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = np.zeros((N, 2), dtype=int)
  priorities = []
  for i in range(m):
    spin = -1 if h[i//N][i%N] > 0 else 1
    site = (i // N, i % N)
    for k in range(3):
      site_ = ((k-1) % N, i // N)
      total_spin[site_[1]][spin] += spin * state[site_[0]][site_[1]]
    if h[i//N][i%N] > 0:
      priorities.append((total_spin[i//N][0], 1))
    else:
      priorities.append((-total_spin[i//N][1], -1))
  return priorities


#score: {'data2D.txt': -0.004311574074074075}
program:
def priority(N, h, J):
  m = N ** 2
  priorities = [[0 for _ in range(2)] for _ in range(m)]
  total_spin = [0 for _ in range(m)]
  for i in range(m):
    site = (i // N, i % N)
    total_spin[i] += h[site[1]][site[0]]
    for k in range(3):
      spin = -1 if h[site[0]][site[1]] > 0 else 1
      site = ((k-1) % N, i // N)
      total_spin[i] += spin * J[(((k-1) % 2) + 1)][site[0]][site[1]]
  for i in range(m):
    if h[i//N][i%N] > 0:
      priorities[i][0] = total_spin[i]
    else:
      priorities[i][1] = -total_spin[i]
  return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  total_spin = np.zeros((N,N,2), dtype=int)
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%2 - 1)) % N
      total_spin[i][j][0] += h[site][j]
      if h[i][j] > 0:
        total_spin[i][j][1] = total_spin[i][j][0]
      else:
        total_spin[i][j][1] = -total_spin[i][j][0]
  priorities = []
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priorities.append((total_spin[i][j][0], 1))
      else:
        priorities.append((-total_spin[i][j][0], -1))
  return priorities


#score: {'data2D.txt': -0.012347993827160468}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = [np.zeros(2) for _ in range(N*N)]
  
  for i in range(N):
    for j in range(N):
      row_sum = sum([state[i-((i+1)%N)][k] + state[(i+1)%N][k] for k in range(N)])
      col_sum = sum([state[k][j-((j+1)%N)] + state[k][(j+1)%N] for k in range(N)])
      
      if h[i][j] > 0:
        total_spin[i*N+j][0] += row_sum
        total_spin[i*N+j][1] += col_sum
      else:
        total_spin[i*N+j][0] -= row_sum
        total_spin[i*N+j][1] -= col_sum
  
  return [(x, y) for x, y in total_spin]


#score: {'data2D.txt': 0.06433626543209879}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin_ones = sum([state[(i + ((k-1)%2 - 1)) % N][j-k%N] if h[i][k%N-j+N-1] > 0 else 0 for k in range(min(j,N-1))])
      total_spin_minusones = sum([-state[(i + ((k-1)%2 - 1)) % N][j-k%N] if h[i][k%N-j+N-1] < 0 else 0 for k in range(min(j,N-1))])
      priorities.append((total_spin_ones, total_spin_minusones))
  return priorities


#score: {'data2D.txt': -0.003180092592592593}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin_0 = sum([state[(i + ((k-1)%2 - 1)) % N][j-k%N] if h[i][k%N-j+N-1] > 0 else - state[(i + ((k-1)%2 - 1)) % N][j-k%N] for k in range(min(j,N-1))])
      total_spin_1 = sum([state[(i + ((k-1)%2 - 1)) % N][j-k%N] if h[i][k%N-j+N-1] < 0 else - state[(i + ((k-1)%2 - 1)) % N][j-k%N] for k in range(min(j,N-1))])
      priorities.append((total_spin_0, total_spin_1))
  return priorities


#score: {'data2D.txt': -0.001152314814814816}
program:
def priority(N, h, J):
  m = N ** 2
  priorities = np.zeros((m, 2), dtype=int)
  
  for i in range(m):
    site = (i // N, i % N)
    total_spin = h[site[1]][site[0]]
    
    if h[site[0]][site[1]] > 0:
      for k in range(3):
        site1 = ((k-1) % N, site[0])
        total_spin += J[(((k-1) % 2) + 1)][site1[0]][site1[1]]
      priorities[i][0] = int(total_spin)
    else:
      for k in range(3):
        site1 = ((k-1) % N, site[0])
        total_spin -= J[(((k-1) % 2) + 1)][site1[0]][site1[1]]
      priorities[i][1] = -int(total_spin)
  
  return priorities


#score: {'data2D.txt': 0.0002902777777777774}
program:
def priority(N, h, J):
  m = N ** 2
  priorities = [[0 for _ in range(2)] for _ in range(m)]
  total_spin = [0]*m
  for i in range(m):
    site = (i // N, i % N)
    total_spin[i] += h[site[1]][site[0]]
    if J[0][site[0]][site[1]] > 0:
      total_spin[i] += J[0][site[0]][site[1]]
    else:
      total_spin[i] -= J[0][site[0]][site[1]]
    for k in range(3):
      site = ((k-1) % N, i // N)
      total_spin[i] += J[(k%2 + 1)][site[0]][site[1]]
  for j in range(m):
    if h[j//N][j%N] > 0:
      priorities[j][0] = -total_spin[j]
    else:
      priorities[j][1] = total_spin[j]
  return priorities


#score: {'data2D.txt': -0.3153939814814807}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    total_spin = [0,0]
    for j in range(N):
      site = (i + ((j%2) - 1)) % N
      total_spin[h[i][j] > 0] += state[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin[0], total_spin[1]))
      else:
        priorities.append((-total_spin[0], -total_spin[1]))
  return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = [0,0]
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[0] += state[site][j]
      priorities.append((total_spin[0], total_spin[1]))
  return priorities


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = [[0,0] for _ in range(N*N)]
  for i in range(N):
    for j in range(N):
      spin = -1 if h[i][j] > 0 else 1
      total_spin = [0,0]
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[spin] += state[site][j]
      priorities[i*N+j] = total_spin
  return priorities


#score: {'data2D.txt': -0.0635152777777778}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
    total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
    if h[i][j] > 0:
      priorities.append((-total_spin, -1))
    else:
      priorities.append((-total_spin, 1))
  return priorities


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((total_spin, -1))
        else:
          priorities.append((total_spin, 1))
    return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((total_spin, -1))
    return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
    total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
    if h[i][j] > 0:
      priorities.append((total_spin, 1))
    else:
      priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
   state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
   priorities = []
   for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
       total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
       if h[i][j] > 0:
        priorities.append((total_spin, 1))
       else:
        priorities.append((total_spin, -1))
   return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
      priorities.append((total_spin, 1))
      else:
      priorities.append((total_spin, -1))
    return priorities


#score: {'data2D.txt': -0.0635152777777778}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
      priorities.append((-total_spin, -1))
      else:
      priorities.append((-total_spin, 1))
    return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
    spin_config = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(spin_config[i][:k]+spin_config[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * spin_config[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((total_spin, -1))
    return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    J_new = J.flatten()
    sum_1 = (np.prod(J_new[0::2], 0) + h).flatten()
    sum_2 = (np.prod(np.flip(J_new[1::2], 0), 0) - h).flatten()
    priority = np.column_stack((sum_1, -sum_2))
    return(priority)


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]  
    priorities = []  
    for i in range(N):  
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]  
      for j in range(N):  
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])  
        if h[i][j] > 0:  
          priorities.append((total_spin, -1))  
        else:  
          priorities.append((total_spin, 1))  
    return priorities


#score: {'data2D.txt': 0.20332700617283966}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((-total_spin, 1))
        else:
          priorities.append((total_spin, -1))
    return priorities


#score: {'data2D.txt': -0.0635152777777778}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((-total_spin, -1))
        else:
          priorities.append((-total_spin, 1))
    return priorities


#score: {'data2D.txt': -0.0022912037037037037}
program:
def priority(N, h, J):
    priority = [[float('inf'),float('-inf')] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += h[site][j]
        if h[i][j] > 0:
          priority[i*N+j] = [total_spin, -total_spin]
        else:
          priority[i*N+j] = [-total_spin, total_spin]
    return priority


#score: {'data2D.txt': -0.005835648148148147}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
    total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
    if h[i][j] > 0:
      priorities.append((-total_spin, 1))
    else:
      priorities.append((-total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.32509459876543123}
program:
def priority(N, h, J):
    priority = np.zeros((N**2, 2))
    for i in range(N):
      for j in range(N):
        row_sum = sum(J[i*N:(i+1)*N,j].flatten())
        col_sum = sum(J[:,j*N:(j+1)*N].flatten())
        total_spin = row_sum + col_sum
        if h[i][j] > 0:
          priority[(i*N+j),:] = [total_spin, -1]
        else:
          priority[(i*N+j),:] = [-total_spin, 1]
    return(priority)


#score: {'data2D.txt': 0.146027314814815}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
    total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
    if h[i][j] > 0:
      priorities.append((-total_spin, -1))
    else:
      priorities.append((total_spin, 1))
  return priorities


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
    total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
    if h[i][j] > 0:
      priorities.append((total_spin, -1))
    else:
      priorities.append((total_spin, 1))
  return priorities


#score: {'data2D.txt': -0.20548379629629648}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
        priority_total = [(total_spin, -1), (total_spin+2*h[i][j], 1)]
        priorities.append(sorted(priority_total)[0])
      else:
        priority_total = [(-total_spin, 1), (-total_spin-2*h[i][j], -1)]
        priorities.append(sorted(priority_total)[0])
    return priorities


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
    priority_total = [[0 for _ in range(2)] for _ in range(N**2)]
    total_spin = [0 for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i*N+j] += h[site][j]
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin[i*N+j]
        else:
          priority_total[i*N+j][1] = -total_spin[i*N+j]
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%2 - 1)) % N
        total_spin += h[site][j]
        if h[i][j] > 0:
          priority_total[(i*N+j), 0] = total_spin
        else:
          priority_total[(i*N+j), 1] = -total_spin
    return(priority_total)


#score: {'data2D.txt': -0.17949922839506163}
program:
def priority(N, h, J):
    priority = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += h[site][j]
        if h[i][j] > 0:
          priority[(i*N+j), 0] = total_spin
        else:
          priority[(i*N+j), 1] = -total_spin
    return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[site][0] += h[i][j]
    priority_total = np.zeros((N*N,2), dtype=int)
    for j in range(N):
      for i in range(N):
        if h[i][j] > 0:
          priority_total[(i*N+j), 0] = total_spin[site][0]
        else:
          priority_total[(i*N+j), 1] = -total_spin[site][0]
    return priority_total


#score: {'data2D.txt': -0.0003754629629629633}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = [[0]*2 for _ in range(N**2)]
    priority_total = [[0]*2 for _ in range(N**2)]
    
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N) - N) % N
        total_spin[(i*N)+j][0] += state[site][j]
        
    for j in range(N):
      if h[j][j] > 0:
        priority_total[j][0] = total_spin[j][0]
      else:
        priority_total[j][1] = -1*total_spin[j][0]

    return [priority_total[i] for i in range(N**2)]


#score: {'data2D.txt': -0.24194027777777763}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = np.zeros((N,2), dtype=int)
  for k in range(3):
    for i in range(N):
      site = (i + ((k-1)%2 - 1)) % N
      for j in range(N):
        total_spin[site][0] += state[i][j]
  priorities = []
  for i in range(N*N):
    if h[i//N][i%N] > 0:
      priorities.append((total_spin[i//N][0], 1))
    else:
      priorities.append((-total_spin[i//N][0], -1))
  return priorities


#score: {'data2D.txt': -0.13588317901234587}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N): 
      for j in range(N): 
        site = (i + ((0)%2 - 1)) % N
        total_spin[site][0] += state[i][j]
        if h[i][j] > 0: 
          priorities.append((total_spin[site][0], 1))
        else: 
          priorities.append((-total_spin[site][0], 1))
    return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[0,0] for _ in range(N**2)]
    
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += state[site][j]
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin
        else:
          priority_total[i*N+j][1] = -total_spin
    
    for j in range(N):
      if h[i][j] > 0:
        priority_total[j][0] = priority_total[j][0]
      else:
        priority_total[j][1] = -priority_total[j][0]
    
    return [[row[0], row[1]] for row in priority_total]


#score: {'data2D.txt': -0.005166512345679013}
program:
def priority(N, h, J):
    priority_total = [[0 for _ in range(2)] for _ in range(N**2)]
    total_spin = [0 for _ in range(N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i] += h[site][j]
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin[i]
        else:
          priority_total[i*N+j][1] = -total_spin[i]
    for i in range(N):
      if h[i][N-1] > 0:
        priority_total[i*N+N-1][0] += total_spin[i]
      else:
        priority_total[i*N+N-1][1] = -total_spin[i]
    return priority_total


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
    priority = [[0.0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%N - 1)) % N
        total_spin += h[site][j]
        if h[i][j] > 0:
          priority[i*N+j][0] = total_spin
        else:
          priority[i*N+j][1] = -total_spin
    return priority


#score: {'data2D.txt': -0.00045015432098765386}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [[0,0] for _ in range(N**2)]
  priority_total = [[float('-inf'), float('-inf')] for _ in range(N**2)]
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin[j][0] += state[site][j]
        priority_total[j][0] = total_spin[j][0]
      else:
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin[j][0] -= state[site][j]
        priority_total[j][1] = -1*total_spin[j][0]
  return priority_total


#score: {'data2D.txt': 0.1909066358024694}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = [[0, 0] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i*N+j][0] += state[site][j]
        if h[i][j] > 0:
          total_spin[i*N+j][1] = total_spin[i*N+j][0]
        else:
          total_spin[i*N+j][1] = -total_spin[i*N+j][0]
    priority_total = [[-total_spin[i][0], total_spin[i][1]] for i in range(N**2)]
    return priority_total


#score: {'data2D.txt': -0.0008754629629629627}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((-total_spin, -1))
        else:
          priorities.append((total_spin, 1))
    return [[p[0], p[1]] for p in sorted(priorities)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [0]*N
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin[j]
        else:
          priority_total[i*N+j][1] = -1*total_spin[j]
    return priority_total


#score: {'data2D.txt': 0.17659120370370396}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      for j in range(N):
        total_spin = sum([h[k][min((i+k)%N,N-1)]*state[(i+k)%N][(j+1)%N] for k in range(min(i,N-1))])
        if h[i][j] > 0:
          priorities.append((-total_spin, 1))
        else:
          priorities.append((total_spin, -1))
    return priorities


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = [[0,0] for _ in range(N**2)]
    for k in range(3):
      for i in range(N):
        site = (i + ((k-1)%2 - 1)) % N
        for j in range(N):
          total_spin[i*N+j][0] += state[site][j]
    for i in range(N**2):
      if h[int(i/N)][i%N] > 0:
        priorities.append((total_spin[i][0], 1))
      else:
        priorities.append((-1*total_spin[i][0], -1))
    return priorities


#score: {'data2D.txt': -0.0018550925925925922}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [0]*N
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i] += h[site][j]
      if h[i][0] > 0:
        priority_total[i*N:(i+1)*N][0] = total_spin[i]
      else:
        priority_total[i*N:(i+1)*N][1] = -total_spin[i]
    for i in range(N**2):
      if h[(i//N)%N][(i%N)] > 0:
        priority_total[i][0] += total_spin[(i//N)%N]
      else:
        priority_total[i][1] -= total_spin[(i//N)%N]
    return priority_total


#score: {'data2D.txt': 0.2401625}
program:
def priority(N, h, J):
    priority = [[0.5 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%N - 1)) % N
        total_spin += h[site][j]
        if h[i][j] > 0:
          priority[i*N+j][0] = total_spin
        else:
          priority[i*N+j][1] = -total_spin
    return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[i][j] += h[site][0]
    priority_total = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[(i*N+j), 0] = total_spin[i][j]
        else:
          priority_total[(i*N+j), 1] = -total_spin[i][j]
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = np.zeros((N,N), dtype=int)
  for i in range(N):
    for j in range(N):
    site = (i + ((j-1)%N - 1)) % N
    total_spin[site][0] += h[i][j]
  priority_total = np.zeros((N*N,2), dtype=int)
  for i in range(N):
    for j in range(N):
    if h[i][j] > 0:
      site = (i + ((j-1)%N - 1)) % N
      total_spin[site][0] += h[i][j]
      priority_total[(i*N+j), 0] = total_spin[site][0]
    else:
      site = (i + ((j+1)%N - 1)) % N
      total_spin[site][0] -= h[i][j]
      priority_total[(i*N+j), 1] = -total_spin[site][0]
  return priority_total


#score: {'data2D.txt': 0.161848302469136}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N)]
    priorities = []
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[site][0] += h[i][j]
        if h[i][j] > 0:
          priorities.append((total_spin[site][0], 1))
        else:
          priorities.append((-total_spin[site][0], -1))
    return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    priority = np.zeros((N**2, 2))
    for i in range(N):
      for j in range(N):
        row_sum = J[i*N:i*(N+1),j].sum()
        if h[i][j] > 0:
          priority[(i*N+j),0] = -row_sum
          priority[(i*N+j),1] = 1
        else:
          priority[(i*N+j),0] = row_sum
          priority[(i*N+j),1] = -1
    return priority


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i*N+j][0] += h[site][j]
        total_spin[i*N+j][1] -= h[site][j]
    return total_spin


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
  for i in range(N):  
    for j in range(N):  
      site = (i + ((j-1)%N - 1)) % N
      for k in range(3):
        if k == 0:  
          total_spin[i*N+j][0] += h[site][j]
        else:
          total_spin[i*N+j][1] -= h[site][j]
  return total_spin


#score: {'data2D.txt': -0.24194027777777763}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = np.zeros((N,2), dtype=int)
    for k in range(3):
      for i in range(N):
        site = (i + ((k-1)%2 - 1)) % N
        for j in range(N):
          total_spin[site][0] += state[i][j]
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority = (total_spin[i][0], 1)
        else:
          priority = (-total_spin[i][0], -1)
        priorities.append(priority)
    return priorities


#score: {'data2D.txt': -0.005166512345679013}
program:
def priority(N, h, J):
  priority_total = [[0 for _ in range(2)] for _ in range(N**2)]
  total_spin = [0 for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin[i] += h[site][j]
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin[i]
      else:
        priority_total[i*N+j][1] = -total_spin[i]
  for i in range(N):
    if h[i][N-1] > 0:
      priority_total[i*N+N-1][0] += total_spin[i]
    else:
      priority_total[i*N+N-1][1] = -total_spin[i]
  return priority_total


#score: {'data2D.txt': 0.17020941358024638}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin = state[site][j]
        if h[i][j] > 0:
          priority_total[(i*N+j), 0] = total_spin
        else:
          priority_total[(i*N+j), 1] = -total_spin
    
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    
    for i in range(N):
      for j in range(N):
        total_spin = [0, 0]
        
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          if h[i][j] > 0:
            total_spin[1] += state[site][j]
          else:
            total_spin[0] -= state[site][j]
        
        if h[i][j] > 0:
          priorities.append((total_spin[1], total_spin[1]))
        else:
          priorities.append((-total_spin[0], -total_spin[0]))
    
    return priorities


#score: {'data2D.txt': -0.17246496913580261}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      for j in range(N):
        site = (i + ((j)%2 - 1)) % N
        total_spin = sum([state[site][k] for k in range(N)])
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((-total_spin, -1))
    return priorities


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):  
      for j in range(N):  
        site = (i + ((j-1)%N - 1)) % N
        for k in range(3):
          if k == 0:  
            total_spin[i*N+j][0] += h[site][j]
          else:
            total_spin[i*N+j][1] -= h[site][j]
    return total_spin


#score: {'data2D.txt': -0.03459953703703704}
program:
def priority(N, h, J):
    priority_total = [[0.0 for _ in range(2)] for _ in range(N**2)]
    total_spin = [0.0 for _ in range(N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[j] += h[site][j]
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin[j]
        else:
          priority_total[i*N+j][1] = -total_spin[j]
    for j in range(N):
      if h[0][j] > 0:
        priority_total[j][0] += total_spin[0]
      else:
        priority_total[j][1] -= total_spin[0]
    return [list(row) for row in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  priority = np.zeros((N*N,2), dtype=int)
  for i in range(N):
    for j in range(N):
    total_spin = 0
    site = (i + ((j-1)%2 - 1)) % N
    total_spin += h[site][j]
    if h[i][j] > 0:
      priority[(i*N+j), 0] = total_spin
    else:
      priority[(i*N+j), 1] = -total_spin
  return priority.tolist()


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
    total_priority = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = h[site][j]
        if h[i][j] > 0:
          total_priority[i*N+j][0] = total_spin
        else:
          total_priority[i*N+j][1] = -total_spin
    return total_priority


#score: {'data2D.txt': -0.0034226851851851853}
program:
def priority(N, h, J):
    priority_list = [[0 for _ in range(2)] for _ in range(N**2)]
    total_spin = [0 for _ in range(N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i] += h[site][j]
        if h[i][j] > 0:
          priority_list[i*N+j][0] = total_spin[i]
        else:
          priority_list[i*N+j][1] = -total_spin[i]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        if h[i][j] > 0:
          priority_list[i*N+j][0] += total_spin[i]
        else:
          priority_list[i*N+j][1] -= total_spin[i]
    return priority_list


#score: {'data2D.txt': -0.0008199074074074073}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    sum_1 = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      for j in range(N):
        if J_flatten[(i+1)*N+j] > 0:
          site = (i + ((j-1)%N - 1)) % N
        else:
          site = (i + ((j-1)%N - 1)) % N
        sum_1[i*N+j,0] += J_flatten[(i+1)*N+j]
    priority_total = np.zeros((N**2,2), dtype=int)
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (j + ((k-1)%N - 1)) % N
        total_spin += J_flatten[(i+site)*N+j]
      if h[i][j] > 0:
        priority_total[i*N+j,0] = total_spin
      else:
        priority_total[i*N+j,1] = -total_spin
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%N) - N//2) % N
        if h[i][j] > 0:
          priority[(i*N+j), 0] = total_spin
        else:
          priority[(i*N+j), 1] = -total_spin
    return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority = np.zeros((N**2, 2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = h[site][j]
        if h[i][j] > 0:
          priority[(i*N+j), 0] = total_spin
        else:
          priority[(i*N+j), 1] = -total_spin
    return priority


#score: {'data2D.txt': -0.33023472222222133}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = [0,0]
    for i in range(N):
      for j in range(N):
        site = (i + ((2)%2 - 1)) % N
        total_spin[0] += state[i][j]
        if h[i][j] > 0:
          priorities.append([total_spin[0],-total_spin[0]])
        else:
          priorities.append([-total_spin[0],total_spin[0]])
    return priorities


#score: {'data2D.txt': -0.0012285493827160494}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    sum_1 = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = 0
        if h[i][j] > 0:
          total_spin += J_flatten[(i+1)*N+j]
        else:
          total_spin -= J_flatten[(i+1)*N+j]
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          if h[i][j] > 0:
            total_spin += J_flatten[site*N+j]
          else:
            total_spin -= J_flatten[site*N+j]
        priority_total = np.zeros((N**2,2), dtype=int)
        for j in range(N):
          priority_total[j][1] = -total_spin
          priority_total[j][0] = total_spin
        return priority_total


#score: {'data2D.txt': -0.0006054012345679012}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    sum_1 = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = 0
        if h[i][j] > 0:
          sum_1[i*N+j,0] += J_flatten[(i+1)*N+j]
        else:
          sum_1[i*N+j,1] = -J_flatten[(i+1)*N+j]
    priority_total = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      total_spin = 0
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin += J_flatten[(i+site)*N+j]
      if h[i][j] > 0:
        priority_total[i*N+j,0] = total_spin
      else:
        priority_total[i*N+j,1] = -total_spin
    return sum_1


#score: {'data2D.txt': 0.004560956790123458}
program:
def priority(N, h, J):
  J_flatten = J.flatten()
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = np.zeros((N*N,2), dtype=int)
  for i in range(N):
    for j in range(N):
      total_spin = sum([J_flatten[(k+1)*N+j] * state[max(0,i-k)][j-(i-k)%N] for k in range(min(i+1,N))])
      if h[i][j] > 0:
        priority_total[i*N+j,0] = total_spin
      else:
        priority_total[i*N+j,1] = -total_spin
  return priority_total.tolist()


#score: {'data2D.txt': 0.146027314814815}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((-total_spin, -1))
        else:
          priorities.append((total_spin, 1))
    return priorities


#score: {'data2D.txt': -0.0034226851851851853}
program:
def priority(N, h, J):
  priority_list = [[0 for _ in range(2)] for _ in range(N**2)]
  total_spin = [0 for _ in range(N)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin[i] += h[site][j]
      if h[i][j] > 0:
        priority_list[i*N+j][0] = total_spin[i]
      else:
        priority_list[i*N+j][1] = -total_spin[i]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        priority_list[i*N+j][0] += total_spin[i]
      else:
        priority_list[i*N+j][1] -= total_spin[i]
  return priority_list


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    site_interactions = np.zeros((N,N), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = h[site][j]
        if h[i][j] > 0:
          site_interactions[i][j] = total_spin
        else:
          site_interactions[i][j] = -total_spin
    priority_list = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_list[i*N+j][0] = site_interactions[i][j]
        else:
          priority_list[i*N+j][1] = -site_interactions[i][j]
    return priority_list


#score: {'data2D.txt': -0.0006054012345679012}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    sum_1 = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = h[i][j]
        if h[i][j] > 0:
          sum_1[i*N+j,0] += J_flatten[(i+1)*N+j]
        else:
          sum_1[i*N+j,1] = -J_flatten[(i+1)*N+j]
    return sum_1


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((2)%2 - 1)) % N
        for k in range(3):
          if k == 0:
            site = (i + ((k-1)%2 - 1)) % N
          total_spin += state[site][j]
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((-total_spin, -1))
    return priorities


#score: {'data2D.txt': -0.0013794753086419753}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = np.zeros((N,N,2))
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i][j] += state[site][j]
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N):
      if h[i][j] > 0:
        priority_total[j][0] = total_spin[i][j][0]
      else:
        priority_total[j][1] = -1*total_spin[i][j][0]
    return [priority_total[i] for i in range(N**2)]


#score: {'data2D.txt': 0.0003560185185185191}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    priority_total = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = 0
        if h[i][j] > 0:
          for k in range(3):
            site_neighbor = (i + ((k-1)%2 - 1)) % N
            total_spin += J_flatten[(site_neighbor*N+j)]
        else:
          for k in range(3):
            site_neighbor = (i + ((k-1)%2 - 1)) % N
            total_spin -= J_flatten[(site_neighbor*N+j)]
        if h[i][j] > 0:
          priority_total[i*N+j,0] = total_spin
        else:
          priority_total[i*N+j,1] = -total_spin
    return priority_total


#score: {'data2D.txt': -0.0025399691358024682}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    J_flatten = J.flatten()
    sum_1 = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = 0
        if h[i][j] > 0:
          total_spin += J_flatten[(i+1)*N+j]
        else:
          total_spin -= J_flatten[(i+1)*N+j]
        sum_1[i*N+j,0] = total_spin
        sum_1[i*N+j,1] = -total_spin
    return sum_1


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    prior = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%2 - 1)) % N
        total_spin += h[site][j]
        if h[i][j] > 0:
          prior[(i*N+j), 0] = total_spin
        else:
          prior[(i*N+j), 1] = -total_spin
    return prior


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      for j in range(N):
        total_spin = sum([state[(i+(k-1)%2-1)%N][j] if k%2==0 else -state[(i+(k-1)%2-1)%N][j] for k in range(3)])
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((total_spin, -1))
    return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': 0.026356018518518518}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] if ((i-k)%2==(j-k)%2) else -row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((total_spin, -1))
    return priorities


#score: {'data2D.txt': -0.00042453703703703734}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((-total_spin, -1))
    return [[x[1], x[0]] for x in sorted(priorities)]


#score: {'data2D.txt': -0.0034520061728395062}
program:
def priority(N, h, J):
    priority_total = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      total_spin = 0
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin += h[site][j]
        if h[i][j] > 0:
          priority_total[i*N+j,0] = total_spin
        else:
          priority_total[i*N+j,1] = -total_spin
    return priority_total


#score: {'data2D.txt': -0.0018186728395061728}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      total_spin = 0
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin += h[site][j] + J_flatten[(i+1)*N+j] - J_flatten[i*N+(j-1)%N]
        if h[i][j] > 0:
          priority_total[i*N+j, 0] = total_spin
        else:
          priority_total[i*N+j, 1] = -total_spin
    return priority_total


#score: {'data2D.txt': -0.0025399691358024682}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    J_flatten = J.flatten()
    total_spin = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i*N+j,0] += h[site][j]
        if h[i][j] > 0:
          total_spin[i*N+j,0] += J_flatten[(i+1)*N+j]
        else:
          total_spin[i*N+j,0] -= J_flatten[(i+1)*N+j]
    for j in range(N):
      priority_total = np.zeros((2), dtype=int)
      for i in range(N):
        if h[i][j] > 0:
          priority_total[0] = total_spin[i*N+j,0]
        else:
          priority_total[1] = -total_spin[i*N+j,0]
      return total_spin


#score: {'data2D.txt': -0.0024405864197530867}
program:
def priority(N, h, J):
  J_flatten = J.flatten()
  priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
  
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%N - 1)) % N
      total_spin += h[site][j] + J_flatten[(i+1)*N+j] - J_flatten[i*N+(j-1)%N]
      
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
      else:
        priority_total[i*N+j][1] = -total_spin
  
  return priority_total


#score: {'data2D.txt': -0.0024405864197530867}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
    
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%N - 1)) % N
        total_spin += h[site][j] + J_flatten[(i+1)*N+j] - J_flatten[i*N+(j-1)%N]
        
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin
        else:
          priority_total[i*N+j][1] = -total_spin
    
    return priority_total


#score: {'data2D.txt': -0.10440200617283958}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
    
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += h[site][j] + J_flatten[(i+1)*N+j] - J_flatten[i*N+(j-1)%N]
        
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin
        else:
          priority_total[i*N+j][1] = -total_spin
    
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    priority = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          if J_flatten[(site)*N+(j)] > 0:
            total_spin += J_flatten[(site)*N+(j)]
          else:
            total_spin -= J_flatten[(site)*N+(j)]
        priority[i*N+j,0] = total_spin
    return priority


#score: {'data2D.txt': -0.0010637345679012338}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    sum_1 = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = 0
        for k in range(3):
          if J_flatten[(site+1)*N+k] > 0:
            total_spin += 1
          else:
            total_spin -= 1
        sum_1[i*N+j,0] = total_spin
    priority_total = np.zeros((N**2,2), dtype=int)
    for j in range(N):
      if h[j//N][j%N] > 0:
        priority_total[(j)//N*(N) + (j)%N,0] = sum_1[(j)//N*(N) + (j)%N,0]
      else:
        priority_total[(j)//N*(N) + (j)%N,1] = -sum_1[(j)//N*(N) + (j)%N,0]
    return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N,N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += state[site][j]
        if h[i][j] > 0:
          priority_total[i][j][0] = total_spin
          priority_total[i][j][1] = -total_spin
    return priority_total.reshape(N*N,2).tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += state[site][j]
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((-total_spin, -1))
    return [(p,1) if p>0 else ((-p),-1) for p,_ in sorted(priorities,reverse=True)]


#score: {'data2D.txt': -0.20612422839506192}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
    total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
    if h[i][j] > 0:
      priorities.append((total_spin, -1))
    else:
      priorities.append((-total_spin, 1))
  return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin += state[site][j]
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': 0.20332700617283966}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        
        if h[i][j] > 0:
          priorities.append((-total_spin, 1))
        else:
          priorities.append((total_spin, -1))
          
    return priorities


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += state[site][j]
        if h[i][j] > 0:
          priorities.append((total_spin, h[i][j]))
        else:
          priorities.append((-total_spin, -h[i][j]))
    return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    priorities = [[0 for _ in range(2)] for _ in range(N*N)]
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += state[site][j]
        if h[i][j] > 0:
          priorities[(i*N)+j][0] = total_spin
        else:
          priorities[(i*N)+j][1] = -total_spin
    
    return [priorities[i] for i in range(N**2)]


#score: {'data2D.txt': 0.15212052469135823}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N) - N) % N
        total_spin = state[site][j]
        
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((-total_spin, -1))
          
    return [p for p in priorities]


#score: {'data2D.txt': -0.005665277777777779}
program:
def priority(N, h, J):
    N2 = N*N
    J_flatten = J.flatten()
    priority_total = np.zeros((N2,2), dtype=int)
    total_spin = 0
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin += h[site][j] + J_flatten[(i+1)*N+j] - J_flatten[i*N+(j-1)%N]
        if h[i][j] > 0:
          priority_total[i*N+j, 0] = total_spin
        else:
          priority_total[i*N+j, 1] = -total_spin
    return priority_total


#score: {'data2D.txt': 2.3611111111110474e-05}
program:
def priority(N, h, J):
  J_flatten = J.flatten()
  priority_total = np.zeros((N*N,2), dtype=int)
  for i in range(N):
    total_spin = np.zeros(2)
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin[0] += h[site][j]
      total_spin[1] += J_flatten[(i+1)*N+j] - J_flatten[i*N+(j-1)%N]
      if h[i][j] > 0:
        priority_total[i*N+j, 0] = total_spin[0]
        priority_total[i*N+j, 1] = total_spin[1]
      else:
        priority_total[i*N+j, 0] = -total_spin[0]
        priority_total[i*N+j, 1] = -total_spin[1]
  return priority_total


#score: {'data2D.txt': -0.064729475308642}
program:
def priority(N, h, J):
  J_flatten = J.flatten()
  priority_total = np.zeros((N*N,2), dtype=int)
  for i in range(N):
    total_spin = [0]*N
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin[site] += h[i][j]
      if h[i][j] > 0:
        priority_total[i*N+j, 0] = sum(total_spin)
      else:
        priority_total[i*N+j, 1] = -sum(total_spin)
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      if h[i][j] > 0:
        total_spin[site] += J_flatten[(i+1)*N+j] - J_flatten[i*N+(j-1)%N]
  return priority_total


#score: {'data2D.txt': -0.07931435185185191}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = []
  for i in range(N):
    total_spin = 0
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin += state[site][j]
      if h[i][j] > 0:
        priority_total.append((total_spin, 1))
      else:
        priority_total.append((-total_spin, -1))
  return priority_total


#score: {'data2D.txt': -0.012068672839506174}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(4)] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        for k in range(3):
          site2 = (site + ((k-1)%2 - 1)) % N
          total_spin[i*N+j][k] += h[site2][j]
    priority_total = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[i*N+j][0] = sum(total_spin[i*N+j][:])
        else:
          priority_total[i*N+j][1] = -sum(total_spin[i*N+j][:])
    return priority_total


#score: {'data2D.txt': -0.14845848765432118}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    sum_1 = np.zeros((N**2,2), dtype=int)
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i][0] += state[site][j]
        total_spin[i][1] = -total_spin[i][0]
        if h[i][j] > 0:
          sum_1[i*N+j,0] = total_spin[i][0]
          sum_1[i*N+j,1] = -total_spin[i][0]
        else:
          sum_1[i*N+j,0] = -total_spin[i][0]
          sum_1[i*N+j,1] = total_spin[i][0]
    return sum_1


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%N - 1)) % N
        total_spin += h[site][j]
        if h[i][j] > 0:
          priority_total[i*N+j, 0] = total_spin
        else:
          priority_total[i*N+j, 1] = -total_spin
    return priority_total


#score: {'data2D.txt': 0.00014953703703703735}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        total_spin[i][j][0] += J[0][site][0]
        total_spin[i][j][1] += J[1][site][1]
    priority_total = np.zeros((N,N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[i][j][0] = total_spin[i][j][0]
        else:
          priority_total[i][j][1] = -1*total_spin[i][j][0]
    return priority_total.reshape((N*N,2)).tolist()


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
    priority = np.zeros((N**2,2))
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%2 - 1)) % N
        total_spin += h[site][j]
        if h[i][j] > 0:
          priority[(i*N+j), 0] = total_spin
        else:
          priority[(i*N+j), 1] = -total_spin
    return priority


#score: {'data2D.txt': 0.08955200617283958}
program:
def priority(N, h, J):
    priority = [[0.5 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%N - 1)) % N
        for k in range(3):
          total_spin += J[k][site][j]
        if h[i][j] > 0:
          priority[i*N+j][0] = total_spin
        else:
          priority[i*N+j][1] = -total_spin
    return priority


#score: {'data2D.txt': 0.0022603395061728407}
program:
def priority(N, h, J):
  priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
  total_spin = [0 for _ in range(N)]
  for i in range(N):
    for j in range(N):
      spin = -1 if h[i][j] > 0 else 1
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[site] += spin
      if h[i][j] > 0:
        priority_total[i*N+j][0] = sum(total_spin)
      else:
        priority_total[i*N+j][1] = -sum(total_spin)
  return [[a, b] for a, b in priority_total]


#score: {'data2D.txt': -0.0019427469135802468}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        for k in range(3):
          if k==0:
            total_spin[i*N+j][0] += J[0][site][0]
            total_spin[i*N+j][1] -= J[1][site][1]
          elif k==1:
            total_spin[i*N+j][0] -= J[0][site][0]
            total_spin[i*N+j][1] += J[1][site][1]
          else:
            site = (i + ((j-1)%N - N//2)) % N
            if h[i][j] > 0:
              total_spin[i*N+j][0] -= h[i][j]
              total_spin[i*N+j][1] += h[i][j]
            else:
              total_spin[i*N+j][0] += h[i][j]
              total_spin[i*N+j][1] -= h[i][j]
    return [[total_spin[j][0], total_spin[j][1]] for j in range(N*N)]


#score: {'data2D.txt': -0.000756327160493828}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        for k in [(-1, 0), (0, -1), (1, 0)]:
          total_spin[i*N+j][0] += J[k[0]][site][k[1]]
    priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin[i*N+j][0], -1*total_spin[i*N+j][1]]
        else:
          priority_total[i*N+j] = [-1*total_spin[i*N+j][0], total_spin[i*N+j][1]]
    return priority_total


#score: {'data2D.txt': 0.022686265432098764}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = [0]*N
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[j] += state[site][j]
        if h[i][j] > 0:
          priority_total[N*i+j][0] = total_spin[j]
        else:
          priority_total[N*i+j][1] = -1*total_spin[j]
    return priority_total


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
    J_new = J.flatten()
    sum_1 = (np.prod(J_new[0::2], 0) + h).flatten()
    sum_2 = (-np.prod(J_new[1::2], 0) - h).flatten()
    return np.column_stack((sum_1, sum_2))


#score: {'data2D.txt': -0.0009766975308641975}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        total_spin[i*N+j][0] += sum(J[0][site][(k-1)%N] for k in range(3))
        total_spin[i*N+j][1] -= sum(J[1][site][(k-1)%N] for k in range(3))
        if h[i][j] > 0:
          total_spin[i*N+j][0] -= h[i][j]
          total_spin[i*N+j][1] += h[i][j]
        else:
          total_spin[i*N+j][0] += h[i][j]
          total_spin[i*N+j][1] -= h[i][j]
    return [[total_spin[j][0], total_spin[j][1]] for j in range(N*N)]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    priority = []
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin = h[site][j]
        if h[i][j] > 0:
          priority.append((total_spin, 1))
        else:
          priority.append((-total_spin, -1))
    return [[p[0], p[1]] for p in priority]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    priority = []
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%2 - 1)) % N
        total_spin += h[site][j]
        if h[i][j] > 0:
          priority.append((total_spin, 1))
        else:
          priority.append((-total_spin, -1))
    for j in range(N):
      priority_total = []
      for i in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin = 0
        for k in range(3):
          total_spin += h[site][k]
        if h[i][j] > 0:
          priority_total.append((total_spin, 1))
        else:
          priority_total.append((-total_spin, -1))
      for i in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin = sum(h[site][k] for k in range(min(i,N-1)))
        if h[i][j] > 0:
          priority_total.append((total_spin, 1))
        else:
          priority_total.append((-total_spin, -1))
    return priority


#score: {'data2D.txt': -0.0012591049382716052}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        state = [-1 if h[site][j] > 0 else 1 for _ in range(3)]
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin[i*N+j][0] += state[k]
        if h[i][j] > 0:
          priority_total = [total_spin[i*N+j][0], 1]
        else:
          priority_total = [-total_spin[i*N+j][0], -1]
    return [priority_total for _ in range(N**2)]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        for k in range(3):
          total_spin[i*N+j][0] += h[site][j]
        if h[i][j] > 0:
          total_spin[i*N+j][0] = total_spin[i*N+j][0]
        else:
          total_spin[i*N+j][1] = -total_spin[i*N+j][0]
    return [total_spin[i] for i in range(N**2)]


#score: {'data2D.txt': -0.1864680555555557}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      site1 = (i + ((j-1)%N - 1)) % N
      site2 = (i + ((j+1)%N - 1)) % N
      if h[i][j] > 0:
        priorities.append([(row_sum[site1] + row_sum[site2]), 1])
      else:
        priorities.append([-row_sum[site1] - row_sum[site2], -1])
  return [[a, b] for a, b in priorities]


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((total_spin, -1))
    return [[a, b] for a, b in priorities]


#score: {'data2D.txt': -0.20612422839506192}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] if h[i][j] > 0 else -row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        priorities.append((total_spin, -1) if h[i][j] > 0 else (total_spin, 1))
    return priorities


#score: {'data2D.txt': -0.0016535493827160494}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = [sum([state[i][j]*(-1)**((i+j)%2) for j in range(N)]) for i in range(N)]
    priorities = [(total_spin[i], -1) if h[i][j] > 0 else (total_spin[i], 1) for i in range(N) for j in range(N)]
    return [[x, y] for x,y in sorted(priorities)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    total_spin = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i*N+j,0] += h[site][j]
        if h[i][j] > 0:
          total_spin[i*N+j,0] -= J_flatten[(i+1)*N+j] - J_flatten[i*N+(j-1)%N]
          total_spin[i*N+j,1] = total_spin[i*N+j,0]
        else:
          total_spin[i*N+j,1] = -total_spin[i*N+j,0]
    return total_spin


#score: {'data2D.txt': -0.057249537037037064}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    priority_total = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += h[site][j] + J_flatten[(i+1)*N+j] - J_flatten[i*N+(j-1)%N]
        if h[i][j] > 0:
          priority_total[i*N+j, 0] = total_spin
        else:
          priority_total[i*N+j, 1] = -total_spin
    return priority_total


#score: {'data2D.txt': -0.0035495370370370372}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      total_spin = 0
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        if h[i][j] > 0:
          priority_total[i*N+j, 0] = total_spin + J_flatten[(i+1)*N+j]
        else:
          priority_total[i*N+j, 1] = total_spin - J_flatten[i*N+(j-1)%N]
    for j in range(N):
      if h[0][j] > 0:
        priority_total[j, 0] += h[0][j]
      else:
        priority_total[j, 1] -= h[0][j]
    return priority_total


#score: {'data2D.txt': -0.000756327160493828}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          site = (i + ((j-1)%N - N//2)) % N
          for k in [(-1, 0), (0, -1), (1, 0)]:
            total_spin[i*N+j][0] += J[k[0]][site][k[1]]
        else:
          site = (i + ((j-1)%N - N//2)) % N
          for k in [(-1, 0), (0, -1), (1, 0)]:
            total_spin[i*N+j][1] += J[k[0]][site][k[1]]
    priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin[i*N+j][0], -1*total_spin[i*N+j][1]]
        else:
          priority_total[i*N+j] = [-1*total_spin[i*N+j][0], total_spin[i*N+j][1]]
    return priority_total


#score: {'data2D.txt': -0.000756327160493828}
program:
def priority(N, h, J):
    total_spin = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        for k in [(-1, 0), (0, -1), (1, 0)]:
          total_spin[i*N+j][0] += J[k[0]][site][k[1]]
    priority_total = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin[i*N+j][0], -1*total_spin[i*N+j][1]]
        else:
          priority_total[i*N+j] = [-1*total_spin[i*N+j][0], total_spin[i*N+j][1]]
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = np.zeros((N,N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%N - 1)) % N
        total_spin += h[site][j]
        if h[i][j] > 0:
          priority_total[i][j][0] = total_spin
        else:
          priority_total[i][j][1] = -total_spin
    return priority_total.reshape(N*N,2)


#score: {'data2D.txt': -0.12631280864197547}
program:
def priority(N, h, J):
  priority = [[0 for _ in range(2)] for _ in range(N*N)]
  for i in range(N):
    for j in range(N):
      total_spin = 0
      for k in [(-1, 0), (0, -1), (1, 0)]:
        site = (i + ((k[1]-1)%N - N//2)) % N
        if h[i][j] > 0:
          priority[i*N+j][0] += J[k[0]][site][k[1]]
        else:
          total_spin -= J[k[0]][site][k[1]]
      if h[i][j] > 0:
        priority[i*N+j] = [total_spin, -1*total_spin]
      else:
        priority[i*N+j] = [-1*total_spin, total_spin]
  return priority


#score: {'data2D.txt': -0.0028631172839506096}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      total_spin = [0]*2
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        for k in [(0,-1),(0,1),(-1,0),(1,0)]:
          if J[k[0]][site][k[1]] > 0:
            total_spin[0] += J[k[0]][site][k[1]]
          else:
            total_spin[1] += -J[k[0]][site][k[1]]
      for j in range(N):
        if h[i][j] > 0:
          priority_total[i*N+j] = total_spin
        else:
          priority_total[i*N+j] = [-x for x in total_spin]
    return priority_total


#score: {'data2D.txt': -0.004367438271604928}
program:
def priority(N, h, J):
  J = J.flatten()
  sum1 = np.sum(J[0::2], 0).flatten()
  sum2 = np.sum(J[1::2], 0).flatten()
  h = h.flatten()
  priority = np.column_stack((np.sign(sum1 + h), -np.sign(sum1 + h)))
  return priority


#score: {'data2D.txt': 0.004709722222222222}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N**2,2), dtype=int)
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i][0] += state[site][j]
        if h[i][j] > 0:
          priority_total[N*i+j][0] = total_spin[i][0]
        else:
          priority_total[N*i+j][1] = -total_spin[i][0]
    for j in range(N):
      if h[j][0] > 0:
        priority_total[N*j+0][0] = total_spin[0][0]
      else:
        priority_total[N*j+0][1] = -total_spin[0][0]
    return priority_total


#score: {'data2D.txt': -0.0009662037037037034}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N**2, 2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = sum([state[site][k] for k in range(N)])
        if h[i][j] > 0:
          priority_total[(i*N+j), 0] = total_spin
        else:
          priority_total[(i*N+j), 1] = -total_spin
    return priority_total.tolist()


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((-total_spin, -1))
    return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i][0] += h[site][j]
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      if h[i][j] > 0:
        priority_total[(i*N+j), 0] = total_spin[i][0]
      else:
        priority_total[(i*N+j), 1] = -total_spin[i][0]
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = np.zeros((N*N,2), dtype=int)
  for i in range(N):
    for j in range(N):
    site = (i + ((j-1)%N - 1)) % N
    total_spin[i*N+j][0] += h[site][j]
  priority_total = np.zeros((N*N,2), dtype=int)
  for i in range(N):
    for j in range(N):
    if h[i][j] > 0:
      priority_total[i*N+j][0] = total_spin[i*N+j][0]
    else:
      priority_total[i*N+j][1] = -total_spin[i*N+j][0]
  return priority_total


#score: {'data2D.txt': -0.0020412037037037035}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i][0] += state[site][j]
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      if h[i][j] > 0:
        priority_total[(i*N+j), 0] = -total_spin[i][0]
      else:
        priority_total[(i*N+j), 1] = total_spin[i][0]
    return priority_total


#score: {'data2D.txt': -0.0010637345679012338}
program:
def priority(N, h, J):
  J_flatten = J.flatten()
  sum_1 = np.zeros((N**2,2), dtype=int)
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin = 0
      for k in range(3):
        if J_flatten[(site+1)*N+k] > 0:
          total_spin += 1
        else:
          total_spin -= 1
      sum_1[i*N+j,0] = total_spin
  priority_total = np.zeros((N**2,2), dtype=int)
  for j in range(N):
    if h[j//N][j%N] > 0:
      priority_total[(j)//N*(N) + (j)%N,0] = sum_1[(j)//N*(N) + (j)%N,0]
    else:
      priority_total[(j)//N*(N) + (j)%N,1] = -sum_1[(j)//N*(N) + (j)%N,0]
  return priority_total


#score: {'data2D.txt': -0.010386882716049383}
program:
def priority(N, h, J):
    total_spin = np.zeros(2)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[0] += h[site][j]
        total_spin[1] -= h[i][j]
    return [[total_spin[0], -total_spin[0]] for _ in range(N**2)]


#score: {'data2D.txt': 0.0010171296296296298}
program:
def priority(N, h, J):
    priority_list = []
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in [(i-1)%N, (i+1)%N]:
          if k == i:
            continue
          site = (k + ((j-1)%2 - 1)) % N
          total_spin += J[0][site][j] * h[k][j]
        priority_list.append([total_spin, -total_spin])
    return priority_list


#score: {'data2D.txt': -0.3284013888888879}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  total_spin = np.zeros((N,N), dtype=int)
  for i in range(N):
    for j in range(N):
      spin = -1 if h[i][j] > 0 else 1
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[site][j] += spin
      if h[i][j] > 0:
        priorities.append((np.sum(total_spin), 1))
      else:
        priorities.append((-np.sum(total_spin), -1))
  return priorities


#score: {'data2D.txt': 0.059308487654321014}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N**2):
      total_spin = 0
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        for j in range(N):
          if h[site][j] > 0:
            total_spin += state[i//N][j]
          else:
            total_spin -= state[i//N][j]
      if h[i//N][i%N] > 0:
        priorities.append([total_spin, -total_spin])
      else:
        priorities.append([-total_spin, total_spin])
    return priorities


#score: {'data2D.txt': -0.0015714506172839506}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((total_spin, -1))
    return [[p[1], p[0]] for p in sorted(priorities)]


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%2 - 1)) % N
        total_spin += h[site][j]
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin
        else:
          priority_total[i*N+j][1] = -total_spin
    return priority_total


#score: {'data2D.txt': -0.010528858024691359}
program:
def priority(N, h, J):
  N_squared = N*N
  priority_total = [[0,0] for _ in range(N_squared)]
  
  for i in range(N):
    for j in range(N):
    total_spin = 0
    site = (i + ((j%N-1)%N)) % N
    total_spin += h[site][j]
    
    if h[i][j] > 0:
      priority_total[i*N+j][0] = total_spin
    else:
      priority_total[i*N+j][1] = -total_spin
  
  return priority_total


#score: {'data2D.txt': -0.0002770061728395061}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
  for i in range(N):
    for j in range(N):
    for k in [(-1, 0), (0, -1), (1, 0)]:
      site = (i + ((k[0]%N) - N//2)) % N
      total_spin[i*N+j][0] += J[k[0]][site][k[1]]
  priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
  for i in range(N):
    for j in range(N):
    if h[i][j] > 0:
      priority_total[i*N+j] = [total_spin[i*N+j][0], -1*total_spin[i*N+j][1]]
    else:
      priority_total[i*N+j] = [-1*total_spin[i*N+j][0], total_spin[i*N+j][1]]
  return priority_total


#score: {'data2D.txt': 0.003982253086419753}
program:
def priority(N, h, J):
    priority_list = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        total_spin = 0
        for k in [(-1, 0), (0, -1), (1, 0)]:
          site_ = (site + k[0]) % N
          j_ = (j + k[1]) % N
          if h[i][j_] > 0:
            total_spin += J[0][site_][j_]
          else:
            total_spin -= J[2][site_][j_]
        if h[i][j] > 0:
          priority_list[i*N+j] = [total_spin, -1*total_spin]
        else:
          priority_list[i*N+j] = [-1*total_spin, total_spin]
    return priority_list


#score: {'data2D.txt': -0.0017128086419753088}
program:
def priority(N, h, J):
    total_spin = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        for k in [(0,-1),(1,0),(0,1)]:
          total_spin[i*N+j][0] += J[k[0]][site][k[1]]
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j] = [total_spin[i*N+j][0], -1*total_spin[i*N+j][1]]
      else:
        priority_total[i*N+j] = [-1*total_spin[i*N+j][0], total_spin[i*N+j][1]]
    return priority_total


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
    priority = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += h[site][j]
        if h[i][j] > 0:
          priority[i*N+j][0] = total_spin
        else:
          priority[i*N+j][1] = -total_spin
    return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          if h[i][j] > 0:
            total_spin[i*N+j][0] += 1
          else:
            total_spin[i*N+j][1] += 1
    priority_total = [[0,0] for _ in range(N**2)]
    for j in range(N):
      for i in range(N):
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin[i*N+j][0]
        else:
          priority_total[i*N+j][1] = -total_spin[i*N+j][1]
    return priority_total


#score: {'data2D.txt': -0.09538009259259264}
program:
def priority(N, h, J):
    priorities = [[0,0] for _ in range(N*N)]
    total_spin = [0]*N
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[site] += h[i][j]
        if h[i][j] > 0:
          priorities[i*N+j][0] = total_spin[site]
        else:
          priorities[i*N+j][1] = -total_spin[site]
    return priorities


#score: {'data2D.txt': 0.0011862654320987673}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%N - N//2)) % N
        for k in [(0,-1),(1,0),(0,1)]:
          total_spin += J[k[0]][site][k[1]]
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin, -1*total_spin]
        else:
          priority_total[i*N+j] = [-1*total_spin, total_spin]
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        for k in [(0,-1),(1,0),(0,1)]:
          total_spin[i*N+j][0] += J[k[0]][site][k[1]]
          total_spin[i*N+j][1] -= J[k[0]][site][k[1]]
    priority_total = [[0,0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin[i*N+j][0], -total_spin[i*N+j][1]]
        else:
          priority_total[i*N+j] = [-total_spin[i*N+j][0], total_spin[i*N+j][1]]
    return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
  priority_list = []
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin = h[site][j]
      if h[i][j] > 0:
        priority_list.append((total_spin, 1))
      else:
        priority_list.append((-total_spin, -1))
  return priority_list


#score: {'data2D.txt': 0.02931682098765433}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        if h[i][j] > 0:
          total_spin[i][0] += state[site][j]
        else:
          total_spin[i][1] += state[site][j]
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[(i*N+j), 0] = total_spin[i][0]
        else:
          priority_total[(i*N+j), 1] = -total_spin[i][1]
    return priority_total


#score: {'data2D.txt': -0.0035075617283950615}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        total_spin[site][0] += J[0][site][j]
        total_spin[site][1] -= J[2][site][j]
    priority_list = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_list[i*N+j] = [total_spin[i][0], -1*total_spin[i][0]]
        else:
          priority_list[i*N+j] = [-1*total_spin[i][0], total_spin[i][0]]
    return priority_list.tolist()


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
    priority = [[0,0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin = h[site][j]
        if h[i][j] > 0:
          priority[i*N+j][0] = total_spin
        else:
          priority[i*N+j][1] = -total_spin
    return priority


#score: {'data2D.txt': -0.0007733024691358028}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N*N)]
    total_spin = [0]*N
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          spin = 1
        else:
          spin = -1
        site = (i + ((2)%2 - 1)) % N*N
        total_spin[site//N] += spin
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          priority_total[site*N+j][spin] += total_spin[site]
    return priority_total


#score: {'data2D.txt': -0.32947330246913487}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = 0
  priorities = []
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin += state[site][j]
      if h[i][j] > 0:
        priority = total_spin
      else:
        priority = -total_spin
      priorities.append((priority, 1))
  return priorities


#score: {'data2D.txt': 0.0008794753086419755}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      for k in range(3):
        state = 1 if h[i][j] > 0 else -1
        total_spin[i*N+j][0] += state * sum(J[0][site][(k-1)%N] for _ in range(N))
        total_spin[i*N+j][1] -= state * sum(J[1][site][(k-1)%N] for _ in range(N))
      if h[i][j] > 0:
        total_spin[i*N+j][0] -= h[i][j]
        total_spin[i*N+j][1] += h[i][j]
      else:
        total_spin[i*N+j][0] += h[i][j]
        total_spin[i*N+j][1] -= h[i][j]
  return [[total_spin[j][0], total_spin[j][1]] for j in range(N*N)]


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
    priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
    total_spin = [0]*N*N
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[i*N+j] += h[site][j]
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin[i*N+j]
        else:
          priority_total[i*N+j][1] = -total_spin[i*N+j]
    return priority_total


#score: {'data2D.txt': 0.0001871913580246911}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        for k in range(3):
          if k == 0:
            total_spin[i*N+j][0] += J[0][site][(k-1)%N]
            total_spin[i*N+j][1] -= J[1][site][(k-1)%N]
          elif k == 1:
            site = (i + ((j+1)%N - N//2)) % N
            total_spin[i*N+j][0] += J[0][site][(k-1)%N]
            total_spin[i*N+j][1] -= J[1][site][(k-1)%N]
          else:
            site = (i + ((j-1)%N - N//2)) % N
            total_spin[i*N+j][0] += J[0][site][(k-1)%N]
            total_spin[i*N+j][1] -= J[1][site][(k-1)%N]
        if h[i][j] > 0:
          priority_total = [[total_spin[j][0], -total_spin[j][1]] for j in range(N*N)]
        else:
          priority_total = [[-total_spin[j][0], total_spin[j][1]] for j in range(N*N)]
    return priority_total


#score: {'data2D.txt': 0.198685339506173}
program:
def priority(N, h, J):
  total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      for k in range(3):
        if J[0][site][(k-1)%N] > 0:
          total_spin[i*N+j][0] += 1
        else:
          total_spin[i*N+j][0] -= 1
        if J[1][site][(k-1)%N] < 0:
          total_spin[i*N+j][1] += 1
        else:
          total_spin[i*N+j][1] -= 1
      if h[i][j] > 0:
        total_spin[i*N+j][0] -= 1
        total_spin[i*N+j][1] += 1
      else:
        total_spin[i*N+j][0] += 1
        total_spin[i*N+j][1] -= 1
  return [[total_spin[j][0], total_spin[j][1]] for j in range(N*N)]


#score: {'data2D.txt': 0.0012199074074074076}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        for k in range(3):
          if J[0][site][(k-1)%N] > 0:
            total_spin[i*N+j][0] += 1
          else:
            total_spin[i*N+j][0] -= 1
          if J[1][site][(k-1)%N] > 0:
            total_spin[i*N+j][1] -= 1
          else:
            total_spin[i*N+j][1] += 1
        if h[i][j] > 0:
          priority_total = [[total_spin[j][0], -total_spin[j][1]] for j in range(N*N)]
        else:
          priority_total = [[-total_spin[j][0], total_spin[j][1]] for j in range(N*N)]
    return priority_total


#score: {'data2D.txt': -0.0009766975308641975}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        state = 1 if h[i][j] > 0 else -1
        total_spin[i*N+j][0] += sum(J[0][site][(k-1)%N] for k in range(3))
        total_spin[i*N+j][1] -= sum(J[1][site][(k-1)%N] for k in range(3))
        if h[i][j] > 0:
          total_spin[i*N+j][0] -= h[i][j]
          total_spin[i*N+j][1] += h[i][j]
        else:
          total_spin[i*N+j][0] += h[i][j]
          total_spin[i*N+j][1] -= h[i][j]
    return [[total_spin[j][0], total_spin[j][1]] for j in range(N*N)]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority = [[float('inf'), float('-inf')] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = sum(state[i][k] for k in range(N))
        if h[i][j] > 0:
          priority[i*N+j] = [total_spin, float('-inf')]
        else:
          priority[i*N+j] = [-total_spin, float('inf')]
    return priority


#score: {'data2D.txt': 0.16530478395061743}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = [[0,0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        for k in [(-1, 0), (0, -1), (1, 0)]:
          site = (i + ((k[0]%N) - N//2)) % N
          total_spin[i*N+j][0] += J[k[0]][site][k[1]]
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priorities.append((total_spin[i*N+j][0], 1))
        else:
          priorities.append((-1*total_spin[i*N+j][0], -1))
    return priorities


#score: {'data2D.txt': -0.0022912037037037037}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = [0,0]
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin[0] += h[site][j]
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin[0], 1]
        else:
          priority_total[i*N+j] = [-total_spin[0], -1]
    return [[p[0], 0] for p in priority_total]


#score: {'data2D.txt': -0.0024405864197530867}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    priorities = [[0 for _ in range(2)] for _ in range(N*N)]
    
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%N - 1)) % N
        total_spin += h[site][j] + J_flatten[(i+1)*N+j] - J_flatten[i*N+(j-1)%N]
        
        if h[i][j] > 0:
          priorities[i*N+j][0] = total_spin
        else:
          priorities[i*N+j][1] = -total_spin
    
    return priorities


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
    priorities = [[0 for _ in range(2)] for _ in range(N*N)]
    
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += h[site][j]
        if h[i][j] > 0:
          priorities[i*N+j][0] = total_spin
        else:
          priorities[i*N+j][1] = -total_spin
    
    return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((total_spin, -1))
    return [(p,1) if p>0 else ((-p),-1) for p,_ in sorted(priorities,reverse=True)]


#score: {'data2D.txt': -0.006294290123456792}
program:
def priority(N, h, J):
    N2 = N*N
    J_flatten = J.flatten()
    priority_total = np.zeros((N2,2), dtype=int)
    total_spin = 0
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin += h[site][j] + J_flatten[(i+1)*N+j] - J_flatten[i*N+(j-1)%N]
        if h[i][j] > 0:
          priority_total[i*N+j, 0] = np.sign(total_spin)
        else:
          priority_total[i*N+j, 1] = -np.sign(total_spin)
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i][0] += h[site][j]
    priority_total = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[i*N+j,0] = total_spin[i][0]
        else:
          priority_total[i*N+j,1] = -total_spin[i][0]
    return priority_total


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  total_spin = np.zeros((N, N, 2), dtype=int)
  for i in range(N):
    for j in range(N):
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[i][j][0] += (-1 if h[site][j]>0 else 1)
        total_spin[i][j][1] -= (-1 if h[site][j]>0 else 1)
  priority_total = np.zeros((N*N,2), dtype=int)
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j,0] = total_spin[i][j][0]
      else:
        priority_total[i*N+j,1] = -total_spin[i][j][1]
  return priority_total


#score: {'data2D.txt': -0.000916820987654321}
program:
def priority(N, h, J):
  N2 = N*N
  J_flatten = J.flatten()
  priority_total = np.zeros((N2,2), dtype=int)
  total_spin = np.zeros((N,2))
  
  for j in range(N):
    if h[0][j] > 0:
      priority_total[j*2, 0] = 1
      priority_total[j*2+1, 1] = -1
    else:
      priority_total[j*2, 1] = 1
      priority_total[j*2+1, 0] = -1

  for i in range(1,N):
    for j in range(N):
    site = (i + ((j-1)%N - 1)) % N
    total_spin[i][0] += h[site][j]
    total_spin[i][1] -= h[site][j]
    if h[i][j] > 0:
      priority_total[(i*N+j), 0] = total_spin[i][0]
    else:
      priority_total[(i*N+j), 1] = -total_spin[i][1]

  return priority_total


#score: {'data2D.txt': 0.003996450617283951}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    priority_total = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (j + ((k-1)%N - 1)) % N
          if J_flatten[(i+site)*N+j] > 0:
            total_spin += h[site][j]
        priority_total[i*N+j, 0] = total_spin
        if h[i][j] > 0:
          priority_total[i*N+j, 1] = -total_spin
        else:
          priority_total[i*N+j, 1] = total_spin
    return priority_total


#score: {'data2D.txt': 0.0003560185185185191}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    sum_1 = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += J_flatten[site*N+j]
        if h[i][j] > 0:
          priority_total = [total_spin, -total_spin]
        else:
          priority_total = [-total_spin, total_spin]
        sum_1[i*N+j] = priority_total
    return sum_1


#score: {'data2D.txt': -0.064729475308642}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      total_spin = [0]*N
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[site] += h[i][j]
        if h[i][j] > 0:
          priority_total[i*N+j, 0] = sum(total_spin)
        else:
          priority_total[i*N+j, 1] = -sum(total_spin)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        if h[i][j] > 0:
          total_spin[site] += J_flatten[(i+1)*N+j] - J_flatten[i*N+(j-1)%N]
    return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin[i*N+j][0 if h[site][j]>0 else 1] += (-1 if h[site][j]>0 else 1)
    priority_total = [[0, 0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin[i*N+j][0]
        else:
          priority_total[i*N+j][1] = -total_spin[i*N+j][1]
    return [list(row) for row in priority_total]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    priority = []
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = h[site][j]
        if h[i][j] > 0:
          priority.append((total_spin, 1))
        else:
          priority.append((-total_spin, -1))
    return priority


#score: {'data2D.txt': -0.0016702160493827158}
program:
def priority(N, h, J):
    J_flatten = J.flatten()
    sum_1 = np.zeros((N**2,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = h[site][j]
        if h[i][j] > 0:
          total_spin += J_flatten[(i+1)*N+j]
        else:
          total_spin -= J_flatten[(i+1)*N+j]
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          if h[i][j] > 0:
            total_spin += J_flatten[site*N+j]
          else:
            total_spin -= J_flatten[site*N+j]
        priority_total = np.zeros((N**2,2), dtype=int)
        for j in range(N):
          if h[i][j] > 0:
            priority_total[(i*N+j),0] = total_spin
          else:
            priority_total[(i*N+j),1] = -total_spin
    return priority_total


#score: {'data2D.txt': -0.0012285493827160494}
program:
def priority(N, h, J):
  J_flatten = J.flatten()
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin = 0
      if h[i][j] > 0:
        total_spin += J_flatten[(i+1)*N+j]
      else:
        total_spin -= J_flatten[(i+1)*N+j]
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        if h[i][j] > 0:
          total_spin += J_flatten[site*N+j]
        else:
          total_spin -= J_flatten[site*N+j]
      priority_total = np.zeros((N**2,2), dtype=int)
      for j in range(N):
        priority_total[j][1] = -total_spin
        priority_total[j][0] = total_spin
      return [priority_total[j] for j in range(N**2)]


#score: {'data2D.txt': -0.0014476851851851836}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%N - N//2)) % N
        for k in range(3):
          if J[0][site][(k-1)%N] > 0:
            total_spin += 1
          else:
            total_spin -= 1
          if J[1][site][(k-1)%N] > 0:
            total_spin -= 1
          else:
            total_spin += 1
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin, -total_spin]
        else:
          priority_total[i*N+j] = [-total_spin, total_spin]
    return priority_total


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          site = (i + ((j-1)%N - N//2)) % N
          total_spin[i*N+j][0] += 1
          total_spin[i*N+j][1] -= 1
        else:
          site = (i + ((j-1)%N - N//2)) % N
          total_spin[i*N+j][0] -= 1
          total_spin[i*N+j][1] += 1
    return [list(x) for x in total_spin]


#score: {'data2D.txt': -0.0035075617283950615}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        state = 1 if h[i][j] > 0 else -1
        total_spin[site][0] += J[0][site][j]
        total_spin[site][1] -= J[2][site][j]
    priority_list = [[0,0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_list[i*N+j] = [total_spin[i][0], -1*total_spin[i][0]]
        else:
          priority_list[i*N+j] = [-1*total_spin[i][0], total_spin[i][0]]
    return [[x[0], x[1]] for x in priority_list]


#score: {'data2D.txt': -0.000402623456790124}
program:
def priority(N, h, J):
    total_spin = np.zeros((N, 2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        state = (-1 if h[i][j] > 0 else 1)
        total_spin[site][0] += J[0][site][j] * state
        total_spin[site][1] -= J[2][site][j] * state
    priority_list = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_list[i*N+j] = [total_spin[i][0], -1*total_spin[i][0]]
        else:
          priority_list[i*N+j] = [-1*total_spin[i][0], total_spin[i][0]]
    return priority_list.tolist()


#score: {'data2D.txt': 0.0011862654320987673}
program:
def priority(N, h, J):
    priorities = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%N - N//2)) % N
        for k in [(0,-1),(1,0),(0,1)]:
          total_spin += J[k[0]][site][k[1]]
        if h[i][j] > 0:
          priorities[i*N+j] = [total_spin, -1*total_spin]
        else:
          priorities[i*N+j] = [-1*total_spin, total_spin]
    return priorities


#score: {'data2D.txt': 0.12694583333333348}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        for k in [(0,-1),(1,0),(0,1)]:
          total_spin[i*N+j][0] += J[k[0]][site][k[1]]
        if h[i][j] > 0:
          total_spin[i*N+j][0] = total_spin[i*N+j][0]
          total_spin[i*N+j][1] = -total_spin[i*N+j][0]
        else:
          total_spin[i*N+j][0] = -total_spin[i*N+j][0]
          total_spin[i*N+j][1] = total_spin[i*N+j][0]
    return total_spin


#score: {'data2D.txt': 0.0022603395061728407}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  total_spin = [0]*N
  priority_total = np.zeros((N*N,2), dtype=int)
  for i in range(N):
    for j in range(N):
    site = (i + ((j-1)%N - 1)) % N
    total_spin[site] += state[i][j]
    if h[i][j] > 0:
      priority_total[i*N+j, 0] = sum(total_spin)
    else:
      priority_total[i*N+j, 1] = -sum(total_spin)
  return priority_total


#score: {'data2D.txt': 0.0036072530864197532}
program:
def priority(N, h, J):
    total_spin = [[0]*N for _ in range(N)]
    priority_total = [[0, 0] for _ in range(N*N)]

    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          total_spin[i][j] += 1
        else:
          total_spin[i][j] -= 1

        site = (i + ((j-1)%N - 1)) % N
        total_spin[site][0] += total_spin[i][j]

        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin[i][j], 1]
        else:
          priority_total[i*N+j] = [-total_spin[i][j], -1]

    return priority_total


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priority_total = np.zeros((N**2, 2), dtype=int)
  
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += state[site][j]
        priority_total[i*N+j, 0] = total_spin
      else:
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin -= state[site][j]
        priority_total[i*N+j, 1] = -total_spin
  
  return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        for k in [(0,-1),(1,0),(0,1)]:
          total_spin[i*N+j][0] += J[k[0]][site][k[1]]
          total_spin[i*N+j][1] -= J[k[0]][site][k[1]]
    priority_total = [[0, 0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin[i*N+j][0], -total_spin[i*N+j][1]]
        else:
          priority_total[i*N+j] = [-total_spin[i*N+j][0], total_spin[i*N+j][1]]
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
  total_spin = [[0,0] for _ in range(N*N)]
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - N//2)) % N
      for k in [(0,-1),(1,0),(0,1)]:
        total_spin[i*N+j][0] += J[k[0]][site][k[1]]
        total_spin[i*N+j][1] -= J[k[0]][site][k[1]]
  priority_total = [[0,0] for _ in range(N*N)]
  for i in range(N):
    for j in range(N):
      if h[i][j] > 0:
        priority_total[i*N+j] = [total_spin[i*N+j][0], -total_spin[i*N+j][1]]
      else:
        priority_total[i*N+j] = [-total_spin[i*N+j][0], total_spin[i*N+j][1]]
  return priority_total


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        for k in range(3):
          if k==0:
            total_spin[i*N+j][0] += h[site][j]
          else:
            total_spin[i*N+j][1] -= h[site][j]
    return total_spin


#score: {'data2D.txt': -0.0756412037037037}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin[i*N+j][0] += J[0][site][j]
            total_spin[i*N+j][1] -= J[1][site][j]
        else:
          for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin[i*N+j][0] += -J[0][site][j]
            total_spin[i*N+j][1] -= J[1][site][j]
    priority_total = [[total_spin[j][0], -total_spin[j][1]] for j in range(N*N)]
    return priority_total


#score: {'data2D.txt': 0.00030540123456790027}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        total_spin = 0
        for k in range(3):
          if k == 0:
            total_spin += J[0][site][(k-1)%N]
          elif k == 1:
            site = (i + ((j+1)%N - N//2)) % N
            total_spin -= J[1][site][(k-1)%N]
          else:
            site = (i + ((j-1)%N - N//2)) % N
            total_spin += J[0][site][(k-1)%N]
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin, -total_spin]
        else:
          priority_total[i*N+j] = [-total_spin, total_spin]
    return priority_total


#score: {'data2D.txt': -9.706790123456726e-05}
program:
def priority(N, h, J):
    priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%N - N//2)) % N
        for k in range(3):
          if k == 0:
            total_spin += J[0][site][(j-1)%N]
          elif k == 1:
            site = (i + ((j+1)%N - N//2)) % N
            total_spin += J[0][site][((j+1)-1)%N]
          else:
            site = (i + ((j-1)%N - N//2)) % N
            total_spin += J[0][site][(j-1)%N]
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin
          priority_total[i*N+j][1] = -total_spin
        else:
          priority_total[i*N+j][0] = -total_spin
          priority_total[i*N+j][1] = total_spin
    return priority_total


#score: {'data2D.txt': -0.036738734567901235}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        total_spin = 0
        for k in range(3):
          if k == 0:
            site = (i + ((k-1)%2 - 1)) % N
            total_spin += J[0][site][j]
          elif k == 1:
            site = (i + ((k-1)%2 - 1)) % N
            total_spin -= J[1][site][j]
          else:
            site = (i + ((k-1)%2 - 1)) % N
            total_spin += J[0][site][j]
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin, 0]
        else:
          priority_total[i*N+j] = [-total_spin, 1]
    return priority_total


#score: {'data2D.txt': -0.0014476851851851836}
program:
def priority(N, h, J):
  priority_total = np.zeros((N*N,2), dtype=int)
  for i in range(N):
    for j in range(N):
      total_spin = 0
      site = (i + ((j-1)%N - N//2)) % N
      for k in range(3):
        if J[0][site][(k-1)%N] > 0:
          total_spin += 1
        else:
          total_spin -= 1
        if J[1][site][(k-1)%N] > 0:
          total_spin -= 1
        else:
          total_spin += 1
      if h[i][j] > 0:
        priority_total[i*N+j] = [total_spin, -total_spin]
      else:
        priority_total[i*N+j] = [-total_spin, total_spin]
  return priority_total


#score: {'data2D.txt': -0.010528858024691359}
program:
def priority(N, h, J):
    N_squared = N*N
    priorities = [[0 for _ in range(2)] for _ in range(N_squared)]
    
    for i in range(N):
      for j in range(N):
      total_spin = 0
      site = (i + ((j%N-1)%N)) % N
      total_spin += h[site][j]
      
      if h[i][j] > 0:
        priorities[i*N+j][0] = total_spin
      else:
        priorities[i*N+j][1] = -total_spin
    
    return priorities


#score: {'data2D.txt': -0.010528858024691359}
program:
def priority(N, h, J):
    N_squared = N*N
    priority_total = [[0,0] for _ in range(N_squared)]
    
    for i in range(N):
      for j in range(N):
      total_spin = 0
      site = (i + ((j%N-1)%N)) % N
      total_spin += h[site][j]
      
      if h[i][j] > 0:
        priority_total[i*N+j][0] = total_spin
      else:
        priority_total[i*N+j][1] = -total_spin
    
    return priority_total


#score: {'data2D.txt': -0.010528858024691359}
program:
def priority(N, h, J):
    N_squared = N*N
    priority_total = [[0 for _ in range(2)] for _ in range(N_squared)]
    
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j%N-1)%N)) % N
        total_spin += h[site][j]
        
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin
        else:
          priority_total[i*N+j][1] = -total_spin
        
    return priority_total


#score: {'data2D.txt': -0.09679552469135812}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N**2):
      total_spin = sum([state[(i//N)%N][max(0, (i%N)-k)%N] * state[(i//N)%N][(i%N+k)%N] if 0<=k<N else 0 for k in range(max(0,N-1-i%N))])
      if h[i//N][i%N] > 0:
        priorities.append([total_spin, -total_spin])
      else:
        priorities.append([-total_spin, total_spin])
    return [[p[0], p[1]] for p in priorities]


#score: {'data2D.txt': -0.20963935185185192}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] if h[i][j-k%N] > 0 else -state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((-total_spin, 1))
        else:
          priorities.append((total_spin, -1))
    return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority = np.zeros((N**2,2), dtype=float)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%2 - 1)) % N
        total_spin += h[site][j]
        if h[i][j] > 0:
          priority[(i*N+j), 0] = total_spin
        else:
          priority[(i*N+j), 1] = -total_spin
    return priority.astype(int)


#score: {'data2D.txt': -0.0028631172839506096}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
      total_spin = [0]*2
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        for k in [(0,-1),(0,1),(-1,0),(1,0)]:
          if J[k[0]][site][k[1]] > 0:
            total_spin[0] += J[k[0]][site][k[1]]
          else:
            total_spin[1] += -J[k[0]][site][k[1]]
      for j in range(N):
        if h[i][j] > 0:
          priority_total[i*N+j] = total_spin
        else:
          priority_total[i*N+j] = [-x for x in total_spin]
    return priority_total


#score: {'data2D.txt': -0.33919861111111016}
program:
def priority(N, h, J):
    total_priority = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        total_spin = 0
        for k in [(0,-1),(0,1),(-1,0),(1,0)]:
          if J[k[0]][site][k[1]] > 0:
            total_spin += J[k[0]][site][k[1]]
          else:
            total_spin -= J[k[0]][site][k[1]]
        if h[i][j] > 0:
          total_priority[i*N+j] = [total_spin, -total_spin]
        else:
          total_priority[i*N+j] = [-total_spin, total_spin]
    return total_priority


#score: {'data2D.txt': 2.237654320987681e-05}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority = [[0, 0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        total_spin = sum([J[0][(site+((k-1)%2-N//2))%N][j] * state[(site+((k-1)%2-N//2))%N][min(j,k)] 
                  for k in range(3)])
        priority[i*N+j] = [total_spin, -total_spin]
    return priority


#score: {'data2D.txt': 0.0919671296296297}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N) % N)
        for k in range(3):
          neighbor = (site + ((k-1)%2 - 1)) % N
          total_spin[i*N+j][0] += state[neighbor][j]
          if h[i][j] > 0:
            total_spin[i*N+j][1] += 1
          else:
            total_spin[i*N+j][1] -= 1
    return [(t[0], -1) if t[1] < 0 else (t[0], 1) for t in total_spin]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += state[site][j]
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((total_spin, -1))
    return priorities


#score: {'data2D.txt': 0.10980231481481495}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        if h[i][j] > 0:
          total_spin += J[0][i][j]
        else:
          total_spin -= J[1][i][j]
        priority_total[i*N+j] = [total_spin, 1 if h[i][j] > 0 else 0]
    return priority_total


#score: {'data2D.txt': -0.03746466049382716}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += J[(k%2)][site][j]
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin, 0]
        else:
          priority_total[i*N+j] = [-total_spin, 1]
    return priority_total


#score: {'data2D.txt': 0.10653935185185198}
program:
def priority(N, h, J):
  priorities = []
  for i in range(N):
    for j in range(N):
      site = (i + ((j-1)%N - 1)) % N
      total_spin = sum([h[site][k] for k in range(N)]) if h[i][j] > 0 else -sum([h[site][k] for k in range(N)])
      if h[i][j] > 0:
        priorities.append((total_spin, 1))
      else:
        priorities.append((-total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.0006023148148148145}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = [0 for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        for k in range(3):
          site_neighbor = (i + ((k-1)%2 - 1)) % N
          total_spin[i*N+j] += state[site][j]
    priority_total = np.zeros((N**2,2), dtype=int)
    for j in range(N):
      if h[i][j] > 0:
        priority_total[j][0] = total_spin[j]
      else:
        priority_total[j][1] = -total_spin[j]
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = np.zeros((N,N,2))
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[i][site][:] += state[i][j]
    priority_total = np.zeros((N*N,2))
    for j in range(N**2):
      if h[j//N][j%N] > 0:
        priority_total[j][:] = total_spin[j//N][j%N]
      else:
        priority_total[j][:] = -1 * total_spin[j//N][j%N]
    return priority_total.tolist()


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = [0]*N**2
    for k in range(3):
      for i in range(N):
        site = (i + ((k-1)%2 - 1)) % N
        for j in range(N):
          if k%2 == 0:
            total_spin[i*N+j] += state[site][j]
          else:
            total_spin[i*N+j] -= state[site][j]
    for i in range(N**2):
      if h[int(i//N)][i%N] > 0:
        priorities.append((total_spin[i], 1))
      else:
        priorities.append((total_spin[i], -1))
    return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [0]*N**2
    for k in range(3):
      for i in range(N):
        site = (i + ((k-1)%2 - 1)) % N
        for j in range(N):
          total_spin[i*N+j] += state[site][j]
    for i in range(N**2):
      if h[i//N][i%N] > 0:
        priority_total[i][0] = total_spin[i]
      else:
        priority_total[i][1] = -1*total_spin[i]
    return priority_total


#score: {'data2D.txt': -0.0028939814814814813}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin[site][0] += h[i][j]
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin[i][0], 1]
        else:
          priority_total[i*N+j] = [-total_spin[i][0], -1]
    return [[p[0], 0] for p in priority_total]


#score: {'data2D.txt': 0.161848302469136}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N)]
    priority_total = []
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[site][0] += h[i][j]
              if h[i][j] > 0:
                    priority_total.append([total_spin[site][0], 1])
                else:
                    priority_total.append([-total_spin[site][0], -1])
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    J_new = J.flatten()
    sum_1 = (np.prod(J_new[0::2], 0) + h).flatten()
    sum_2 = (np.prod(J_new[1::2], 0) - h).flatten()
    priority = np.column_stack((sum_1, -sum_2))
    return priority


#score: {'data2D.txt': 0.1647720679012351}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = [0,0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priorities.append([total_spin[0], 1])
                else:
                    priorities.append([-total_spin[0], -1])
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.0020412037037037035}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][0] += state[site][j]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            if h[i][j] > 0:
                priority_total[(i*N+j), 0] = -total_spin[i][0]
            else:
                priority_total[(i*N+j), 1] = total_spin[i][0]
        return priority_total


#score: {'data2D.txt': -8.780864197530791e-05}
program:
def priority(N, h, J):
    priority_list = [[0 for _ in range(2)] for _ in range(N*N)]
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][0] += spin
            priority_total = np.zeros((N,2), dtype=int)
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[j][0]
                else:
                    priority_total[j][1] = -1*total_spin[j][0]
            for j in range(N):
                if h[i][j] > 0:
                    priority_list[i*N+j] = [priority_total[j][0], -1*priority_total[j][1]]
                else:
                    priority_list[i*N+j] = [-1*priority_total[j][0], priority_total[j][1]]
    return priority_list


#score: {'data2D.txt': -0.0006412037037037035}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return [[p[0], 0] for p in sorted(priorities, reverse=True)]


#score: {'data2D.txt': -0.00902453703703704}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                state = (-1 if h[i][j] > 0 else 1)
                total_spin[site][0] += state
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    total_spin[site][0]
                else:
                    total_spin[site][0] = -total_spin[site][0]
                priority_total[i*N+j] = [total_spin[site][0], 0]
        return priority_total


#score: {'data2D.txt': -0.000756327160493828}
program:
def priority(N, h, J):
        priority = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N//2)) % N
                total_spin = 0
                for k in [(-1, 0), (0, -1), (1, 0)]:
                    total_spin += J[k[0]][site][k[1]]
                if h[i][j] > 0:
                    priority[i*N+j] = [total_spin, -1*total_spin]
                else:
                    priority[i*N+j] = [-1*total_spin, total_spin]
        return priority


#score: {'data2D.txt': -0.000756327160493828}
program:
def priority(N, h, J):
    total_spin = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N//2)) % N
        for k in [(-1,0),(0,-1),(1,0)]:
          total_spin[i*N+j][0] += J[k[0]][site][k[1]]
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin[i*N+j][0],-1*total_spin[i*N+j][1]]
        else:
          priority_total[i*N+j] = [-1*total_spin[i*N+j][0],total_spin[i*N+j][1]]
    return priority_total


#score: {'data2D.txt': -0.000756327160493828}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N//2)) % N
                for k in [(-1, 0), (0, -1), (1, 0)]:
                    total_spin[i*N+j][0] += J[k[0]][site][k[1]]
        priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin[i*N+j][0], -1*total_spin[i*N+j][1]]
                else:
                    priority_total[i*N+j] = [-1*total_spin[i*N+j][0], total_spin[i*N+j][1]]
        return priority_total


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[i*N+j][0] += h[site][j]
                if h[i][j] > 0:
                    priority_total = [total_spin[i*N+j][0], 1]
                else:
                    priority_total = [-total_spin[i*N+j][0], -1]
        return [[p[0], 0] for p in total_spin]


#score: {'data2D.txt': 0.0029705246913580246}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0 for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site*N+j] += spin
                if h[i][j] > 0:
                    priorities.append((total_spin[i*N+j], 1))
                else:
                    priorities.append((-total_spin[i*N+j], -1))
        return priorities


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [[a,b] for a,b in priorities]


#score: {'data2D.txt': -0.08998441358024678}
program:
def priority(N, h, J):
        J_flatten = J.flatten()
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                if h[i][j] > 0:
                    total_spin += sum(1 - int(J_flatten[(i+x)*N+j]) for x in (-1,0,1) if (i+x)%N==i)
                    priorities.append((total_spin, 1))
                else:
                    total_spin -= sum(-int(J_flatten[(i+x)*N+j]) for x in (-1,0,1) if (i+x)%N==i)
                    priorities.append((total_spin, -1))
        return [p for p in priorities]


#score: {'data2D.txt': -0.01565138888888889}
program:
def priority(N, h, J):
        J_flatten = J.flatten()
        priority_total = np.zeros((N**2,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = h[site][j]
                if h[i][j] > 0:
                    total_spin += J_flatten[(i+1)*N+j]
                else:
                    total_spin -= J_flatten[(i+1)*N+j]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[i][j] > 0:
                        total_spin += J_flatten[site*N+j]
                    else:
                        total_spin -= J_flatten[site*N+j]
                priority_total[(i*N+j),0] = total_spin
                priority_total[(i*N+j),1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.0012399691358024687}
program:
def priority(N, h, J):
        J_flatten = J.flatten()
        total_spins = np.zeros((N**2,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                state = -1 if h[i][j] > 0 else 1
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J_flatten[site*N+j] * state
                priority_total = np.zeros((N**2,2), dtype=int)
                if h[i][j] > 0:
                    priority_total[(i*N+j),0] = total_spin
                else:
                    priority_total[(i*N+j),1] = -total_spin
        return priority_total


#score: {'data2D.txt': 0.0008794753086419755}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N//2)) % N
                for k in range(3):
                    state = 1 if h[i][j] > 0 else -1
                    total_spin[i*N+j][0] += state * sum(J[0][site][(k-1)%N] for _ in range(N))
                    total_spin[i*N+j][1] -= state * sum(J[1][site][(k-1)%N] for _ in range(N))
                if h[i][j] > 0:
                    total_spin[i*N+j][0] -= h[i][j]
                    total_spin[i*N+j][1] += h[i][j]
                else:
                    total_spin[i*N+j][0] += h[i][j]
                    total_spin[i*N+j][1] -= h[i][j]
        return [[total_spin[j][0], total_spin[j][1]] for j in range(N*N)]


#score: {'data2D.txt': -0.001056327160493827}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N//2)) % N
                total_spin = 0
                for k in range(3):
                    state = 1 if h[i][j] > 0 else -1
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state
                    priority_total[i*N+j][0] += state * sum(J[0][site][(k-1)%N] for _ in range(N))
                    priority_total[i*N+j][1] -= state * sum(J[1][site][(k-1)%N] for _ in range(N))
                if h[i][j] > 0:
                    priority_total[i*N+j][0] -= h[i][j]
                    priority_total[i*N+j][1] += h[i][j]
                else:
                    priority_total[i*N+j][0] += h[i][j]
                    priority_total[i*N+j][1] -= h[i][j]
        return priority_total


#score: {'data2D.txt': 0.00021280864197530924}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N//2)) % N
                state = 1 if h[i][j] > 0 else -1
                total_spin[i*N+j][0] += state * sum(J[0][site][(k-1)%N] for k in range(3))
                total_spin[i*N+j][1] -= state * sum(J[1][site][(k-1)%N] for k in range(3))
        return [[total_spin[j][0], total_spin[j][1]] for j in range(N*N)]


#score: {'data2D.txt': 0.12300046296296295}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[i*N+j][0] += J[0][site][j]
                        total_spin[i*N+j][1] -= J[1][site][j]
                else:
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[i*N+j][0] += J[1][site][j]
                        total_spin[i*N+j][1] -= J[0][site][j]
        priority_total = [[total_spin[j][0], total_spin[j][1]] for j in range(N*N)]
        return priority_total


#score: {'data2D.txt': -0.30461249999999934}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if J[0][site][j] > 0:
                        site_sum += J[0][site][j]
                    else:
                        site_sum -= J[0][site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j] = [site_sum, -1*site_sum]
                else:
                    priority_total[i*N+j] = [-1*site_sum, site_sum]
        return priority_total


#score: {'data2D.txt': -0.05119768518518522}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = sum([row_sum[k] * state[site][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.0018550925925925922}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [0]*N
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[i] += h[site][j]
        if h[i][0] > 0:
            priority_total[i*N:(i+1)*N][0] = total_spin[i]
        else:
            priority_total[i*N:(i+1)*N][1] = -total_spin[i]
    for i in range(N**2):
        if h[(i//N)%N][(i%N)] > 0:
            priority_total[i][0] += total_spin[(i//N)%N]
        else:
            priority_total[i][1] -= total_spin[(i//N)%N]
    return priority_total


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        total_spin = [0]*N**2
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    site_nbr = (i + ((k-1)%2 - 1)) % N
                    total_spin[i*N+j] += h[site_nbr][j]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[(i//N)%N][(i%N)] > 0:
                priority_total[i][0] = total_spin[i]
            else:
                priority_total[i][1] = -total_spin[i]
        return priority_total


#score: {'data2D.txt': -0.0018550925925925922}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i] += h[site][j]
            if h[i][0] > 0:
                priority_total[i*N:(i+1)*N][0] = total_spin[i]
            else:
                priority_total[i*N:(i+1)*N][1] = -total_spin[i]
        for i in range(N**2):
            if h[(i//N)%N][(i%N)] > 0:
                priority_total[i][0] += total_spin[(i//N)%N]
            else:
                priority_total[i][1] -= total_spin[(i//N)%N]
        return priority_total


#score: {'data2D.txt': 0.014753858024691358}
program:
def priority(N, h, J):
        J_flatten = J.flatten()
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N**2,2), dtype=int)
        
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = sum([row_sum[k] * state[site][j-k%N] for k in range(min(j,N-1))])
                
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
                    
        return priority_total.tolist()


#score: {'data2D.txt': -0.009958796296296268}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum_1 = np.sum(J_new[0::2], axis=0)
        sum_2 = np.sum(J_new[1::2], axis=0)
        
        priority = np.zeros((N**2, 2))
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority[i] = [sum_1 - sum_2, sum_1 + sum_2]
            else:
                priority[i] = [-sum_1 + sum_2, -sum_1 - sum_2]
        
        return(priority)


#score: {'data2D.txt': -0.07973935185185192}
program:
def priority(N, h, J):
        J_flatten = J.flatten()
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[i], 1))
                else:
                    priorities.append((-total_spin[i], -1))
        return priorities


#score: {'data2D.txt': -0.05084120370370372}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += h[i][j]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin[(i + ((j-1)%2 - 1)) % N]
                else:
                    priorities[i*N+j][1] = -total_spin[(i + ((j-1)%2 - 1)) % N]
        return priorities


#score: {'data2D.txt': -0.0029955246913580245}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += 1 if h[i][j] > 0 else -1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[j][0]
                else:
                    priority_total[i*N+j][1] = -total_spin[j][0]
        return [list(x) for x in priority_total]


#score: {'data2D.txt': -6.527777777777887e-05}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N//2)) % N
                for k in range(3):
                    if h[i][j] > 0:
                        total_spin[i*N+j][0] += J[0][site][(k-1)%N]
                        total_spin[i*N+j][1] -= J[1][site][(k-1)%N]
                    else:
                        total_spin[i*N+j][0] -= J[0][site][(k-1)%N]
                        total_spin[i*N+j][1] += J[1][site][(k-1)%N]
                if h[i][j] > 0:
                    total_spin[i*N+j][0] -= h[i][j]
                    total_spin[i*N+j][1] += h[i][j]
                else:
                    total_spin[i*N+j][0] += h[i][j]
                    total_spin[i*N+j][1] -= h[i][j]
        return [[total_spin[j][0], total_spin[j][1]] for j in range(N*N)]


#score: {'data2D.txt': 4.0277777777777636e-05}
program:
def priority(N, h, J):
        total_spin = [[0, 0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N//2)) % N
                for k in range(3):
                    if k == 0:
                        total_spin[i*N+j][0] += J[0][site][(k-1)%N]
                        total_spin[i*N+j][1] -= J[1][site][(k-1)%N]
                    elif k == 2:
                        total_spin[i*N+j][0] -= J[0][site][(k-1)%N]
                        total_spin[i*N+j][1] += J[1][site][(k-1)%N]
                if h[i][j] > 0:
                    total_spin[i*N+j][0] -= h[i][j]
                    total_spin[i*N+j][1] += h[i][j]
                else:
                    total_spin[i*N+j][0] += h[i][j]
                    total_spin[i*N+j][1] -= h[i][j]
        return [[total_spin[j][0], total_spin[j][1]] for j in range(N*N)]


#score: {'data2D.txt': 0.002587191358024691}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - N//2)) % N
            for k in range(3):
                if J[0][site][(k-1)%N] > 0:
                    total_spin[i*N+j][0] += 1
                else:
                    total_spin[i*N+j][0] -= 1
                if J[1][site][(k-1)%N] > 0:
                    total_spin[i*N+j][1] += 1
                else:
                    total_spin[i*N+j][1] -= 1
            if h[i][j] > 0:
                total_spin[i*N+j][0] -= h[i][j]
                total_spin[i*N+j][1] += h[i][j]
            else:
                total_spin[i*N+j][0] += h[i][j]
                total_spin[i*N+j][1] -= h[i][j]
    return [[total_spin[j][0], total_spin[j][1]] for j in range(N*N)]


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum1 = (np.prod(J_new[0::2], 0) + h).flatten()
        sum2 = (-np.prod(J_new[1::2], 0)).flatten()
        priority = np.column_stack((sum1, -sum1))
        return(priority)


#score: {'data2D.txt': 0.0010313271604938277}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - N//2)) % N
            total_spin = 0
            for k in range(3):
                if J[0][site][(k-1)%N] > 0:
                    total_spin += 1
                else:
                    total_spin -= 1
                if J[1][site][(k-1)%N] > 0:
                    total_spin -= 1
                else:
                    total_spin += 1
            if h[i][j] > 0:
                priority_total[i*N+j, 0] = total_spin
            else:
                priority_total[i*N+j, 1] = -total_spin
    return priority_total


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [p[:2] for p in priorities]


#score: {'data2D.txt': -0.1744359567901236}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                state = (-1 if h[i][j] > 0 else 1)
                total_spin[site][0] += state
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin[site][0], 1]
                else:
                    priority_total[i*N+j] = [-total_spin[site][0], -1]
        return priority_total


#score: {'data2D.txt': -0.0010205246913580245}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    state = (i + ((k-1)%2 - 1)) % N
                    total_spin[state*N+j][0] += spin
                priority_total = np.zeros((N**2,2), dtype=int)
                if h[i][j] > 0:
                    priority_total[j*N+i][0] = total_spin[j*N+i][0]
                else:
                    priority_total[j*N+i][1] = -1*total_spin[j*N+i][0]
        return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority_list = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = [0,0]
                for k in range(3):
                    spin = -1 if h[i][j] > 0 else 1
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[0] += spin
                if h[i][j] > 0:
                    priority_list[i*N+j] = [total_spin[0], 0]
                else:
                    priority_list[i*N+j] = [0, -total_spin[0]]
        return priority_list


#score: {'data2D.txt': -0.09349027777777788}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - N//2)) % N
            for k in range(3):
                spin = 1 if h[i][j] > 0 else -1
                total_spin[i*N+j][0] += spin
                total_spin[i*N+j][1] -= spin * sum(J[0][site][(k-1)%N] for _ in range(N))
            if h[i][j] > 0:
                total_spin[i*N+j][0] -= h[i][j]
                total_spin[i*N+j][1] += h[i][j]
            else:
                total_spin[i*N+j][0] += h[i][j]
                total_spin[i*N+j][1] -= h[i][j]
    for j in range(N):
        if h[0][j] > 0:
            total_spin[j][0] = total_spin[j][0]
        else:
            total_spin[j][1] = -total_spin[j][0]
    return total_spin


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N**2):
            site = (i // N) % N
            total_spin = 0
            for k in range(3):
                site_n = (site + ((k-1)%2 - 1)) % N
                total_spin += state[site_n][(i%N)]
            if h[i//N][i%N] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.018609413580246908}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N**2):
            total_spin = [0,0]
            for k in range(3):
                site = (i // N + ((k-1)%2 - 1)) % N
                for j in range(N):
                    if h[site][j] > 0:
                        total_spin[0] += state[site][j]
                    else:
                        total_spin[1] -= state[site][j]
            priorities.append(total_spin)
        return priorities


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N**2):
            total_spin = 0
            for k in range(3):
                site = (i // N + ((k - 1) % 2 - 1)) % N
                total_spin += state[site][i % N]
            if h[i // N][i % N] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N) + (i+N)*(j//N)) % N
            if h[i][j] > 0:
                total_spin[site][0] += 1
            else:
                total_spin[site][1] += 1
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[j][0]
            else:
                priority_total[i*N+j][1] = -total_spin[j][0]
    return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.0018912037037037035}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = np.zeros((N2,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = 0
                for k in range(3):
                    spin = -1 if h[site][j] > 0 else 1
                    site = (site + ((k-1)%2 - 1)) % N
                    total_spin += spin * h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin
                else:
                    priority_total[i*N+j, 1] = -total_spin
        return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N**2, 2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities[(i*N+j), 0] = total_spin
                else:
                    priorities[(i*N+j), 1] = -total_spin
        
        return priorities


#score: {'data2D.txt': -0.0034226851851851853}
program:
def priority(N, h, J):
        priority_list = [[0 for _ in range(2)] for _ in range(N**2)]
        total_spin = [0 for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i] += h[site][j]
                if h[i][j] > 0:
                    priority_list[i*N+j][0] = total_spin[i]
                else:
                    priority_list[i*N+j][1] = -total_spin[i]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority_list[i*N+j][0] += total_spin[i]
                else:
                    priority_list[i*N+j][1] -= total_spin[i]
        return priority_list


#score: {'data2D.txt': 0.010939660493827158}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = state[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total


#score: {'data2D.txt': 0.15176033950617307}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site1 = (i + ((j-1)%N - 1)) % N
                total_spin = state[site1][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[i][j] > 0:
                        total_spin += state[site][j]
                    else:
                        total_spin -= state[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.0008072530864197533}
program:
def priority(N, h, J):
    priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                site = (i + ((j-1)%N - N//2)) % N
                total_spin = [J[0][site][k-1] for k in range(3)]
                priority_total[i*N+j][0] = sum(total_spin)
                priority_total[i*N+j][1] = 0
            else:
                site = (i + ((j-1)%N - N//2)) % N
                total_spin = [-J[1][site][k-1] for k in range(3)]
                priority_total[i*N+j][1] = sum(total_spin)
    return priority_total


#score: {'data2D.txt': -0.08785756172839512}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[k][site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin, 0]
                else:
                    priority_total[i*N+j] = [-total_spin, 1]
        return priority_total


#score: {'data2D.txt': -0.03811435185185185}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = sum([J[0][(i + ((k-1)%2 - 1)) % N][j] * (-1 if h[i][j] > 0 else 1) 
                              for k in range(3)])
            if h[i][j] > 0:
                priority_total[i*N+j] = [total_spin, 0]
            else:
                priority_total[i*N+j] = [-total_spin, 1]
    return priority_total


#score: {'data2D.txt': -0.13586311728395065}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site_sum = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[(k%2)][site][j]
                    if h[site][j] > 0:
                        site_sum -= 1
                    else:
                        site_sum += 1
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin + site_sum, 0]
                else:
                    priority_total[i*N+j] = [-total_spin - site_sum, 1]
        return priority_total


#score: {'data2D.txt': -0.003251697530864198}
program:
def priority(N, h, J):
        priority_total = [[0, 0] for _ in range(N**2)]
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i] += h[site][j]
            if h[i][0] > 0:
                priority_total[i*N:(i+1)*N][0] = total_spin[i]
            else:
                priority_total[i*N:(i+1)*N][1] = -total_spin[i]
        for i in range(N**2):
            site = (i // N + ((i % N-1) % N - 1)) % N
            if h[site//N][site%N] > 0:
                priority_total[i][0] += total_spin[site//N]
            else:
                priority_total[i][1] -= total_spin[site//N]
        return priority_total


#score: {'data2D.txt': 0.022993981481481476}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            for k in range(3):
                total_spin[site][0] += -1 if h[i][j] > 0 else 1
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][0] += h[i][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[site][0]
            else:
                priority_total[i*N+j][1] = -total_spin[site][0]
    for j in range(N):
        if h[i][j] > 0:
            priority_total[j][0] = total_spin[j][0]
        else:
            priority_total[j][1] = -total_spin[j][0]
    return priority_total


#score: {'data2D.txt': 0.0336807098765432}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priority_total = [total_spin, 0]
                else:
                    priority_total = [0, -1*total_spin]
                priorities.append(priority_total)
        return priorities


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        priority_total = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.002946141975308642}
program:
def priority(N, h, J):
        J_flatten = J.flatten()
        total_spin = np.zeros((N,N), dtype=int)
        priority = np.zeros((N*N, 2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][j] = h[site][j]
                
                if h[i][j] > 0:
                    total_spin[i][j] += J_flatten[(i+1)*N+j]
                else:
                    total_spin[i][j] -= J_flatten[(i+1)*N+j]
                    
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[i][j] > 0:
                        total_spin[i][site] += J_flatten[site*N+j]
                    else:
                        total_spin[i][site] -= J_flatten[site*N+j]
                        
                priority[(i*N+j),0] = total_spin[i][j]
                priority[(i*N+j),1] = -total_spin[i][j]
        
        return priority


#score: {'data2D.txt': 0.16715077160493827}
program:
def priority(N, h, J):
        J_flatten = J.flatten()
        priority_total = np.zeros((N**2,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = h[site][j]
                if h[i][j] > 0:
                    total_spin += J_flatten[(i+1)*N+j]
                else:
                    total_spin -= J_flatten[(i+1)*N+j]
                for k in range(2):
                    site = (i + ((k)%2 - 1)) % N
                    if h[i][j] > 0:
                        total_spin += J_flatten[site*N+j]
                    else:
                        total_spin -= J_flatten[site*N+j]
                if h[i][j] > 0:
                    priority_total[(i*N+j),0] = total_spin
                    priority_total[(i*N+j),1] = -total_spin
                else:
                    priority_total[(i*N+j),0] = -total_spin
                    priority_total[(i*N+j),1] = total_spin
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.20548379629629648}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priority_total = [(total_spin, -1), (total_spin+2*h[i][j], 1)]
                    priorities.append(sorted(priority_total)[0])
                else:
                    priority_total = [(-total_spin, 1), (-total_spin-2*h[i][j], -1)]
                    priorities.append(sorted(priority_total)[0])
        return priorities


#score: {'data2D.txt': -0.013887191358024692}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - N//2)) % N
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
                for k in [(0,-1),(1,0),(0,1)]:
                    site = (i + ((k[1]-1)%2 - 1)) % N
                    if h[site][j] > 0:
                        total_spin += J[k[0]][site][j]
                    else:
                        total_spin -= J[k[0]][site][j]
                priority_total[i*N+j][0] = total_spin
                priority_total[i*N+j][1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - N//2)) % N
                for k in [(0,-1),(1,0),(0,1)]:
                    total_spin[0] += J[k[0]][site][k[1]]
                    total_spin[1] -= J[k[0]][site][k[1]]
                if h[i][j] > 0:
                    priority[i*N+j] = [total_spin[0], -total_spin[1]]
                else:
                    priority[i*N+j] = [-total_spin[0], total_spin[1]]
        return priority


#score: {'data2D.txt': 0.0011862654320987673}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N//2)) % N
                total_spin = 0
                for k in [(0,-1),(1,0),(0,1)]:
                    total_spin += J[k[0]][site][k[1]]
                if h[i][j] > 0:
                    priority[i*N+j] = [total_spin, -1*total_spin]
                else:
                    priority[i*N+j] = [-1*total_spin, total_spin]
        return priority


#score: {'data2D.txt': 0.00829706790123457}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N*N,2), dtype=int)
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site*N+j][0] += spin
                priority_total[j][0] = total_spin[j][0]
                priority_total[j][1] = -1*total_spin[j][0]
        
        return priority_total


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        total_spin = [0,0]
        for j in range(N):
            site = (i + ((j-1)%N - N//2)) % N
            for k in [(0,-1),(0,1),(-1,0),(1,0)]:
                if J[k[0]][site][k[1]] > 0:
                    total_spin[0] += J[k[0]][site][k[1]]
                else:
                    total_spin[1] += -J[k[0]][site][k[1]]
        for j in range(N):
            if h[i][j] > 0:
                priorities.append((total_spin[0],1))
            else:
                priorities.append((-total_spin[1],-1))
    return priorities


#score: {'data2D.txt': 0.00021682098765431147}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
        total_spin = [0]*2
        for j in range(N):
            site = (i + ((j-1)%N - N//2)) % N
            for k in [(0,-1),(0,1),(-1,0),(1,0)]:
                if J[k[0]][site][k[1]] > 0:
                    total_spin[0] += J[k[0]][site][k[1]]
                else:
                    total_spin[1] += -J[k[0]][site][k[1]]
            if h[i][j] > 0:
                priority_total[i*N+j] = total_spin
            else:
                priority_total[i*N+j] = [-x for x in total_spin]
    return priority_total


#score: {'data2D.txt': -0.0028631172839506096}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            total_spin = [0]*2
            for j in range(N):
                site = (i + ((j-1)%N - N//2)) % N
                for k in [(0,-1),(0,1),(-1,0),(1,0)]:
                    if J[k[0]][site][k[1]] > 0:
                        total_spin[0] += J[k[0]][site][k[1]]
                    else:
                        total_spin[1] += -J[k[0]][site][k[1]]
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j] = total_spin
                else:
                    priority_total[i*N+j] = [-x for x in total_spin]
        return priority_total


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return priorities


#score: {'data2D.txt': -0.06060324074074076}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][0] += -1 if h[i][j] > 0 else 1
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[site][0]
                else:
                    priority_total[i*N+j][1] = -total_spin[site][0]
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -total_spin[j][0]
        return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = [[sum(state[(i + ((k-1)%2 - 1)) % N][j] for k in range(3)) for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i][j]
                else:
                    priority_total[i*N+j][1] = -total_spin[i][j]
        return [list(row) for row in priority_total]


#score: {'data2D.txt': 0.1724029320987649}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + (j % 2) - 1) % N
                total_spin[i*N+j][0] += state[site][j]
                total_spin[i*N+j][1] -= state[i][j]
        for j in range(N**2):
            if h[j//N][j%N] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -1*total_spin[j][0]
        return priority_total


#score: {'data2D.txt': -0.12707237654321002}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N) - N) % N
                total_spin = sum([state[i][k] if k == j else state[site][min(abs(k-j), N-abs(k-j))] for k in range(N)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        
        return [priorities[i] for i in range(N**2)]


#score: {'data2D.txt': 0.007843981481481481}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N) - N) % N
                total_spin = state[site][j]
                if h[i][j] > 0:
                    priority_total = total_spin
                else:
                    priority_total = -total_spin
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append((priority_total, h[i][j]))
                else:
                    priorities.append((-priority_total, -h[i][j]))
        return [i for i in priorities]


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if 0 <= j-k%N < N else J[0][i*N+j] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
          total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
          if h[i][j] > 0:
            priorities.append((total_spin, 1))
          else:
            priorities.append((total_spin, -1))
      return priorities


#score: {'data2D.txt': 0.146027314814815}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((-total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return priorities


#score: {'data2D.txt': 0.07623287037037042}
program:
def priority(N, h, J):
    J_new = J.flatten()
    sum1 = np.zeros((N*N,2))
    sum2 = np.zeros((N*N,2))
    priorities = []
    for i in range(N):
        for j in range(N):
            total_spin_1 = 0
            for k in range(min(j,N-1)):
                if i==0:
                    total_spin_1 += J_new[(i+1)*N+(j-k)%N]
                elif i==N-1:
                    total_spin_1 -= J_new[(i-1)*N+(j-k)%N]
                else:
                    total_spin_1 += J_new[(i+1)*N+(j-k)%N] - J_new[(i-1)*N+(j-k)%N]
            if h[i][j] > 0:
                priorities.append((total_spin_1 + h[i][j], 1))
            else:
                priorities.append((-total_spin_1 - h[i][j], -1))
    return np.array(priorities)


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
            priorities.append((total_spin, 1))
        else:
            priorities.append((total_spin, -1))
    return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
         state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
         priorities = []
         for i in range(N):
             row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
             for j in range(N):
                 total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                 if h[i][j] > 0:
                     priorities.append((total_spin, 1))
                 else:
                     priorities.append((total_spin, -1))
         return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
     state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
     priorities = []
     for i in range(N):
       row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
       for j in range(N):
         total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
         if h[i][j] > 0:
           priorities.append((total_spin, 1))
         else:
           priorities.append((total_spin, -1))
     return priorities


#score: {'data2D.txt': -0.005835648148148147}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
     state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
     priorities = []
     for i in range(N):
       for j in range(N):
         total_spin = sum([J[i][k][max(0,j-k)%N] * state[max(0,i-k)][min(N-1,j-k)%N] for k in range(max(0,j-N))])
         if h[i][j] > 0:
             priorities.append((total_spin, -1))
         else:
             priorities.append((total_spin, 1))
     return priorities  


#score: {'data2D.txt': -0.0012149691358024689}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][j] = sum([J[k][(i-site)%N][(j-k%N)]*h[(site//N)][(k%N)] for k in range(3)])
        priority_total = np.zeros((N*N,2), dtype=int)
        for j in range(N):
            if h[j//N][j%N] > 0:
                priority_total[j][0] = total_spin[j//N][j%N]
            else:
                priority_total[j][1] = -1*total_spin[j//N][j%N]
        return priority_total.tolist()


#score: {'data2D.txt': 0.00028780864197530833}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, 1))
                else:
                    priority.append((-total_spin, 1))
        return priority


#score: {'data2D.txt': 0.20332700617283966}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.0032038580246913626}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
        priority_total = [[float('inf') for _ in range(2)] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j] = [total_spin[site][0]+h[i][j], total_spin[site][1]-h[i][j]]
                
                if h[i][j] > 0:
                    priority_total[i*N+j] = [-1*total_spin[i*N+j][0], -1*total_spin[i*N+j][1]]
                else:
                    priority_total[i*N+j] = [total_spin[i*N+j][0], total_spin[i*N+j][1]]
                    
        return priority_total


#score: {'data2D.txt': 0.013181327160493826}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[3*k%4][(i+((k-1)%2 - 1)) % N][j-k%N] * state[(i+((k-1)%2 - 1)) % N][j-k%N] for k in range(3)])
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
      J_new = J.flatten()
      h_flatten = h.flatten()
      sum_1 = (np.prod(J_new[0::2], 0) + h_flatten).flatten()
      sum_2 = (np.prod(J_new[1::2], 0) + h_flatten).flatten()
      priority = np.column_stack((sum_1, -sum_2))
      return(priority)


#score: {'data2D.txt': -0.09399151234567905}
program:
def priority(N, h, J):
    priority_total = [[0 for _ in range(2)] for _ in range(N**2)]
    total_spin = [0]*N
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[site] += h[i][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[site]
            else:
                priority_total[i*N+j][1] = -total_spin[site]
    for i in range(N):
        if h[i][N-1] > 0:
            priority_total[i*N+N-1][0] = sum(total_spin)
        else:
            priority_total[i*N+N-1][1] = -sum(total_spin)
    return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.16427083333333298}
program:
def priority(N, h, J):
    priority = np.zeros((N**2,2), dtype=float)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin = h[site][j]
            if h[i][j] > 0:
                priority[(i*N+j), 0] = total_spin
            else:
                priority[(i*N+j), 1] = -total_spin
    for j in range(N):
        if h[0][j] > 0:
            priority_total = np.zeros((N,2), dtype=float)
            total_spin = 0
            for i in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[i][j]
                if h[i][j] > 0:
                    priority_total[i,0] = total_spin
                else:
                    priority_total[i,1] = -total_spin
            for i in range(N):
                if h[0][j] > 0:
                    priority[(i*N+j), 0] = priority_total[i,0]
                else:
                    priority[(i*N+j), 1] = -priority_total[i,1]
    return priority


#score: {'data2D.txt': 0.013181327160493826}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[3*k%4][(i+((k-1)%2 - 1)) % N][j-k%N] * state[(i+((k-1)%2 - 1)) % N][j-k%N] for k in range(3)])
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin[site][0] += state[i][site]
    priority_total = np.zeros((N**2,2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
    return priority_total.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
        priority_total = [[float('inf') for _ in range(2)] for _ in range(N**2)]

        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][0] += h[i][j]
                total_spin[i*N+j][1] -= h[i][j]

                if h[i][j] > 0:
                    priority_total[i*N+j][0] = -total_spin[i*N+j][0]
                    priority_total[i*N+j][1] = total_spin[i*N+j][1]
                else:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                    priority_total[i*N+j][1] = -total_spin[i*N+j][1]

        return priority_total


#score: {'data2D.txt': -0.015585648148148154}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j] = [total_spin[site][0]+h[i][j], total_spin[site][1]-h[i][j]]
                
                if h[i][j] > 0:
                    priority_total = [[-1*total_spin[k][0], -1*total_spin[k][1]] for k in range(N**2)]
                else:
                    priority_total = [total_spin[k][0:2] for k in range(N**2)]
                    
        return priority_total


#score: {'data2D.txt': -0.0503436728395062}
program:
def priority(N, h, J):
    priority = [[0.0 for _ in range(2)] for _ in range(N*N)]
    total_spin = [[0.0 for _ in range(2)] for _ in range(N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[i][0] += h[site][j]
        if h[i][j] > 0:
          priority[i*N+j][0] = total_spin[i][0]
        else:
          priority[i*N+j][1] = -total_spin[i][0]
    for i in range(N):
      if h[0][i] > 0:
        for j in range(N):
          total_spin[j][0] += h[i][j]
          if h[i][j] > 0:
            priority[i*N+j][0] = total_spin[j][0]
          else:
            priority[i*N+j][1] = -total_spin[j][0]
    return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            for k in range(3):
                if k == 0:
                    total_spin[i][j] += J[0][(i-site)%N][(j-k%N)]*h[(site//N)][(k%N)]
                elif k == 1:
                    total_spin[i][j] += J[1][(i-site)%N][(j-k%N)]*h[(site//N)][(k%N)]
                else:
                    total_spin[i][j] += J[2][(i-site)%N][(j-k%N)]*h[(site//N)][(k%N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    for j in range(N):
        if h[j//N][j%N] > 0:
            priority_total[j][0] = total_spin[j//N][j%N]
        else:
            priority_total[j][1] = -1*total_spin[j//N][j%N]
    return priority_total.tolist()


#score: {'data2D.txt': -0.005822993827160493}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i]
                else:
                    priority_total[i*N+j][1] = -total_spin[i]
        for i in range(N):
            if total_spin[i] > 0:
                priority_total[i*N:N*(i+1)][0][0] += total_spin[i]
                priority_total[i*N:N*(i+1)][1][0] -= total_spin[i]
            else:
                priority_total[i*N:N*(i+1)][0][1] += -total_spin[i]
                priority_total[i*N:N*(i+1)][1][1] -= -total_spin[i]
        return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, 1))
                else:
                    priority.append((-total_spin, -1))
        return [[x[0], x[1]] for x in priority]


#score: {'data2D.txt': 0.229641512345679}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = state[site][0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = np.zeros((N**2, 2))
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    total_spin_1 = sum([J[(i*N+j),(m*N+n)] for n,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y<0) or (y==0 and x<0)])
                    total_spin_2 = sum([J[(i*N+j),(m*N+n)] for m,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y>0) or (y==0 and x>0)])
                    priority[i*N+j] = [total_spin_1 - total_spin_2, total_spin_1 + total_spin_2]
                else:
                    total_spin_1 = sum([J[(i*N+j),(m*N+n)] for n,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y<0) or (y==0 and x<0)])
                    total_spin_2 = sum([J[(i*N+j),(m*N+n)] for m,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y>0) or (y==0 and x>0)])
                    priority[i*N+j] = [-total_spin_1 + total_spin_2, -total_spin_1 - total_spin_2]
        return priority


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        for j in range(N):
            if h[j][0] > 0:
                priority_total = [(i, i) for i in range(N)]
            else:
                priority_total = [(-i, i) for i in range(N)]
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][0] += h[i][j]
                
                if h[i][j] > 0:
                    total_spin[i*N+j][1] = -total_spin[i*N+j][0]
                else:
                    total_spin[i*N+j][1] = total_spin[i*N+j][0]
                    
        return total_spin


#score: {'data2D.txt': -0.00010509259259259262}
program:
def priority(N, h, J):
        Jflat = J.flatten()
        hflat = h.flatten()
        priority = np.zeros((N**2,2))
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = sum(Jflat[site*N+j:i*N+j] * hflat[i*N+j]) 
                
                if h[i][j] > 0:
                    priority[(i*N+j), 0] = total_spin
                else:
                    priority[(i*N+j), 1] = -total_spin
                    
        return priority


#score: {'data2D.txt': 0.001134104938271605}
program:
def priority(N, h, J):
        priority = np.zeros((N**2, 2))
        J_new = J.flatten()
        for i in range(N**2):
            site_interactions = J_new[4*i:4*i+4]
            sum_1 = np.sum(site_interactions[[0,3]]) 
            sum_2 = np.sum(site_interactions[[1,2]])
            if h[i//N][i%N] > 0:
                priority[i] = [sum_1 - sum_2, sum_1 + sum_2]
            else:
                priority[i] = [-sum_1 + sum_2, -sum_1 - sum_2]
        return(priority)


#score: {'data2D.txt': -0.014811265432098765}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                if i==0:
                    site = (i + ((N-1)%2 - 1)) % N
                    total_spin = 0
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin += h[site][j]
                    if h[i][j] > 0:
                        priority_total[(i*N+j)][0] = total_spin
                    else:
                        priority_total[(i*N+j)][1] = -total_spin
                elif i==N-1:
                    site = (i + ((0)%2 - 1)) % N
                    total_spin = 0
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin += h[site][j]
                    if h[i][j] > 0:
                        priority_total[(i*N+j)][0] = total_spin
                    else:
                        priority_total[(i*N+j)][1] = -total_spin
                else:
                    for j in range(N):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin += h[site][j]
                    if h[i][j] > 0:
                        priority_total[(i*N+j)][0] = total_spin
                    else:
                        priority_total[(i*N+j)][1] = -total_spin
        for j in range(N):
            if h[j][N-1] > 0:
                priority_total[j][0] = 0
            else:
                priority_total[j][1] = 0
        return [[priority_total[i][0],priority_total[i][1]] for i in range(N**2)]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = sum(J[site][k] * state[k][min(j,k)] for k in range(max(0,j-N+1)))
                if h[i][j] > 0:
                    priority.append((total_spin, 1))
                else:
                    priority.append((-total_spin, -1))
        return priority


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[float('-inf') for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            total_spin = [0, 0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += state[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[0]
                else:
                    priority_total[i*N+j][1] = -total_spin[0]
        for j in range(N):
            if h[0][j] > 0:
                priority_total[j][0] = total_spin[0]
            else:
                priority_total[j][1] = -total_spin[0]
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0, 0] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    if J[k][(i-site)%N][(j-k%N)]*h[(site//N)][(k%N)] > 0:
                        total_spin[i][0] += J[k][(i-site)%N][(j-k%N)]*h[(site//N)][(k%N)]
                    else:
                        total_spin[i][1] -= J[k][(i-site)%N][(j-k%N)]*h[(site//N)][(k%N)]
        priority_total = [[0, 0] for _ in range(N*N)]
        for j in range(N):
            if h[j//N][j%N] > 0:
                priority_total[j][0] = total_spin[j//N][0]
            else:
                priority_total[j][1] = -total_spin[j//N][1]
        return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.0012149691358024689}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[i][j] = sum([J[k][(i-site)%N][(j-k%N)]*h[(site//N)][(k%N)] for k in range(3)])
    priority_total = np.zeros((N*N,2), dtype=int)
    for j in range(N):
        if h[j//N][j%N] > 0:
            priority_total[j][0] = total_spin[j//N][j%N]
        else:
            priority_total[j][1] = -1*total_spin[j//N][j%N]
    return priority_total.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            for k in range(3):
                site2 = (site + ((k-1)%2 - 1)) % N
                total_spin[i][j] += J[k][(i-site2)%N][(j-k%N)]*h[site2//N][k%N]
    priority_total = np.zeros((N*N,2), dtype=int)
    for j in range(N):
        if h[j//N][j%N] > 0:
            priority_total[(j//N)*N+j][0] = total_spin[j//N][j%N]
        else:
            priority_total[(j//N)*N+j][1] = -total_spin[j//N][j%N]
    return priority_total.tolist()


#score: {'data2D.txt': -0.0012149691358024689}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i][j] = sum([J[k][(i-site)%N][(j-k%N)]*h[(site//N)][(k%N)] for k in range(3)])
    priority_total = np.zeros((N*N,2), dtype=int)
    for j in range(N):
      if h[j//N][j%N] > 0:
        priority_total[j][0] = total_spin[j//N][j%N]
      else:
        priority_total[j][1] = -1*total_spin[j//N][j%N]
    return priority_total.tolist()


#score: {'data2D.txt': 0.0005695987654320985}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    total_spin[i*N+j][1 if h[site//N][site%N] > 0 else 0] += J[k][(i-site)%N][(j-k%N)]*h[site//N][k%N]
        priority_total = [[total_spin[i][0], -total_spin[i][1]] for i in range(N*N)]
        return priority_total


#score: {'data2D.txt': -0.27106867283950575}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, 0))
                else:
                    priority.append((total_spin, 1))
        return [[x[0], x[1]] for x in priority]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N*N)]
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][j] += h[i][j]
        for j in range(N):
            if h[j][0] > 0:
                priority_total = [(i, i) for i in range(N)]
            else:
                priority_total = [(-i, i) for i in range(N)]
        return priority


#score: {'data2D.txt': -0.09538009259259264}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N*N)]
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += h[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site]
                else:
                    priority[i*N+j][1] = -total_spin[site]
        for i in range(N):
            priority_total = [(i, 0) if h[i][0] > 0 else (i, 1)]
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        Jflat = J.flatten()
        hflat = h.flatten()
        total_spin=np.zeros((N,N),dtype=int)
        priority=np.zeros((N*N,2))
        
        for i in range(N):
            for j in range(N):
                site=(i + ((j-1)%2 - 1)) % N
                total_spin[site][j] += hflat[i*N+j]
                
                if h[i][j] > 0:
                    priority[(i*N+j), 0] = total_spin[i][j]
                else:
                    priority[(i*N+j), 1] = -total_spin[i][j]
                    
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N*N)]
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][j] += h[i][j]
        if h[0][0] > 0:
            priority_total = [(i, 1) for i in range(N)]
        else:
            priority_total = [(-i, -1) for i in range(N)]
        return priority


#score: {'data2D.txt': 0.0006350308641975305}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            for k in range(3):
                if h[site//N][site%N] > 0:
                    total_spin[i*N+j][0] += J[k][(i-site)%N][(j-k%N)]*h[site//N][k%N]
                else:
                    total_spin[i*N+j][1] += -J[k][(i-site)%N][(j-k%N)]*h[site//N][k%N]
    priority_total = [[total_spin[i][0], -total_spin[i][1]] for i in range(N*N)]
    return priority_total


#score: {'data2D.txt': -0.001650462962962963}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    site2 = (site + ((k-1)%2 - 1)) % N
                    total_spin[i*N+j][0] += J[k][(i-site2)%N][(j-k%N)]*h[site2//N][site2%N]
                if h[i][j] > 0:
                    priority_total = [total_spin[i*N+j][0], -total_spin[i*N+j][1]]
                else:
                    priority_total = [-total_spin[i*N+j][0], total_spin[i*N+j][1]]
        return [priority_total for _ in range(N*N)]


#score: {'data2D.txt': 0.002765586419753089}
program:
def priority(N, h, J):
        priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    site_neighbor = (site + ((k-1)%2 - 1)) % N
                    if h[site//N][site%N] * h[site_neighbor//N][site_neighbor%N] > 0:
                        total_spin += J[k][(i-site)//N][(j-k)%N]
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin, -1*total_spin]
                else:
                    priority_total[i*N+j] = [-1*total_spin, total_spin]
        return priority_total


#score: {'data2D.txt': 0.009663734567901214}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, 1))
                else:
                    priority.append((total_spin, -1))
        return priority


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        Jflat = J.flatten()
        hflat = h.flatten()
        total_spin=np.zeros((N,N),dtype=int)
        priority=np.zeros((N*N,2))
        
        for i in range(N):
            for j in range(N):
                site=(i + ((j-1)%2 - 1)) % N
                total_spin[i][j] += hflat[i*N+j]
                
                if h[i][j] > 0:
                    priority[(i*N+j), 0] = total_spin[i][j]
                else:
                    priority[(i*N+j), 1] = -total_spin[i][j]
                    
        return priority


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
    priority = [[0,0] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority[i*N+j][0] = total_spin
            else:
                priority[i*N+j][1] = -total_spin
    return priority


#score: {'data2D.txt': -0.010894290123456787}
program:
def priority(N, h, J):
        priority = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j%N+1)%N - 1)) % N
                total_spin = h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                    priority[i*N+j][1] = 0
                else:
                    priority[i*N+j][0] = 0
                    priority[i*N+j][1] = -total_spin
        return [[priority[i][0],priority[i][1]] for i in range(N*N)]


#score: {'data2D.txt': -0.001908487654320988}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            if i == 0:
                site = (i + ((N-1)%2 - 1)) % N
                total_spin = sum(h[site][k] for k in range(min(j,N)))
                if h[i][j] > 0:
                    priority_total[(i*N+j)][0] = total_spin
                else:
                    priority_total[(i*N+j)][1] = -total_spin
            elif i == N-1:
                site = (i + ((0)%2 - 1)) % N
                total_spin = sum(h[site][k] for k in range(min(j,N)))
                if h[i][j] > 0:
                    priority_total[(i*N+j)][0] = total_spin
                else:
                    priority_total[(i*N+j)][1] = -total_spin
            else:
                site = (i + ((0)%2 - 1)) % N
                total_spin = sum(h[site][k] for k in range(min(j,N)))
                if h[i][j] > 0:
                    priority_total[(i*N+j)][0] = total_spin
                else:
                    priority_total[(i*N+j)][1] = -total_spin
    return [[priority_total[i][0],priority_total[i][1]] for i in range(N**2)]


#score: {'data2D.txt': -0.15429645061728445}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin, 0]
                else:
                    priorities[i*N+j] = [-total_spin, 1]
        return priorities


#score: {'data2D.txt': 0.2373396604938268}
program:
def priority(N, h, J):
        Jflat = J.flatten()
        hflat = h.flatten()
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = sum(Jflat[site*N+j:i*N+j] * hflat[i*N+j]) 
                
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
                    
        return priorities


#score: {'data2D.txt': -0.00010509259259259262}
program:
def priority(N, h, J):
        Jflat = J.flatten()
        hflat = h.flatten()
        priority = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = sum(Jflat[site*N+j:i*N+j] * hflat[i*N+j]) 
                
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
                    
        return priority


#score: {'data2D.txt': -0.00010509259259259262}
program:
def priority(N, h, J):
        Jflat = J.flatten()
        hflat = h.flatten()
        total_spins = np.zeros((N*N,2))
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = sum(Jflat[site*N+j:i*N+j] * hflat[i*N+j]) 
                
                if h[i][j] > 0:
                    total_spins[(i*N+j), 0] = total_spin
                else:
                    total_spins[(i*N+j), 1] = -total_spin
                    
        return total_spins


#score: {'data2D.txt': -0.1776118827160496}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = [[0.0,0.0] for _ in range(N2)]
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                    priority[i*N+j][1] = -total_spin
                else:
                    priority[i*N+j][0] = -total_spin
                    priority[i*N+j][1] = total_spin
        return priority


#score: {'data2D.txt': -0.20759459876543218}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority = [[float('inf') for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin = sum([state[site][k] for k in range(N)]) if h[i][j] > 0 else -sum([state[site][k] for k in range(N)])
        priority[i*N+j] = [total_spin, -total_spin]
    return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority = np.zeros((N**2, 2))
    for i in range(N):
      for j in range(N):
        total_spin_1 = sum([J[(i*N+j),(m*N+n)] for n,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y<0) or (y==0 and x<0)])
        total_spin_2 = sum([J[(i*N+j),(m*N+n)] for m,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y>0) or (y==0 and x>0)])
        if h[i][j] > 0:
          priority[i*N+j] = [total_spin_1 - total_spin_2, total_spin_1 + total_spin_2]
        else:
          priority[i*N+j] = [-total_spin_1 + total_spin_2, -total_spin_1 - total_spin_2]
    return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin_1 = sum([J[(i*N+j),(m*N+n)] for n,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y<0) or (y==0 and x<0)])
            total_spin_2 = sum([J[(i*N+j),(m*N+n)] for m,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y>0) or (y==0 and x>0)])
            if h[i][j] > 0:
                priority[i*N+j] = [total_spin_1 - total_spin_2, total_spin_1 + total_spin_2]
            else:
                priority[i*N+j] = [-total_spin_1 + total_spin_2, -total_spin_1 - total_spin_2]
    return priority


#score: {'data2D.txt': -0.015585648148148154}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j] = [total_spin[site][0]+h[i][j], total_spin[site][1]-h[i][j]]
                
                if h[i][j] > 0:
                    priority_total = [[-1*total_spin[k][0], -1*total_spin[k][1]] for k in range(N*N)]
                else:
                    priority_total = [total_spin[k][0:2] for k in range(N*N)]
                    
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = sum([J[(i*N+j),(m*N+n)] for m,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y<0) or (y==0 and x<0)])
                if h[i][j] > 0:
                    priority[i*N+j] = [total_spin - sum([J[(i*N+j),(m*N+n)] for n,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y>0) or (y==0 and x>0)]), total_spin + sum([J[(i*N+j),(m*N+n)] for n,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y>0) or (y==0 and x>0)])]
                else:
                    priority[i*N+j] = [-total_spin - sum([J[(i*N+j),(m*N+n)] for n,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y<0) or (y==0 and x<0)]), -total_spin + sum([J[(i*N+j),(m*N+n)] for n,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y>0) or (y==0 and x>0)])]
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin_1 = sum([J[(i*N+j),(m*N+n)] for n,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y<0) or (y==0 and x<0)])
                total_spin_2 = sum([J[(i*N+j),(m*N+n)] for m,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y>0) or (y==0 and x>0)])
                
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin_1 - total_spin_2, total_spin_1 + total_spin_2]
                else:
                    priorities[i*N+j] = [-total_spin_1 + total_spin_2, -total_spin_1 - total_spin_2]
        
        return priorities


#score: {'data2D.txt': -0.2436057098765428}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] += h[site][j]
                if h[i][j] > 0:
                    total_spin[i*N+j][1] = total_spin[i*N+j][0]
                else:
                    total_spin[i*N+j][1] = -total_spin[i*N+j][0]
        return total_spin


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        total_spin=np.zeros((N,2),dtype=int)
        for j in range(N):
            if h[0][j]>0:
                site=(0+((j-1)%2 - 1))%N
                total_spin[j][0]+=h[site][j]
                if h[0][j]>0:
                    priority=np.zeros((N2,2),dtype=int)
                    for i in range(N):
                        if h[i][j]>0:
                            site=(i+((j-1)%2 - 1))%N
                            total_spin[i][0]+=h[site][j]
                            if h[i][j]>0:
                                priority[(i*N+j),0]=total_spin[i][0]
                            else:
                                priority[(i*N+j),1]=-total_spin[i][0]
                    return priority


#score: {'data2D.txt': -0.09538009259259264}
program:
def priority(N, h, J):
        priority_list = [[0,0] for _ in range(N*N)]
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += h[i][j]
                if h[i][j] > 0:
                    priority_list[i*N+j][0] = total_spin[site]
                else:
                    priority_list[i*N+j][1] = -total_spin[site]
        return priority_list


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.09538009259259264}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N*N)]
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += h[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site]
                else:
                    priority[i*N+j][1] = -total_spin[site]
        for i in range(N):
            if h[i][0] > 0:
                priority_total = [(i, 0) for _ in range(N)]
            else:
                priority_total = [(i, 1) for _ in range(N)]
        return priority


#score: {'data2D.txt': 0.02899799382716053}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] if (k-j)%2 == 0 else -row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((total_spin, -1))
    return priorities


#score: {'data2D.txt': -0.0015498456790123453}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    if h[site//N][site%N] > 0:
                        total_spin[i*N+j][0] += J[k][(i-site)%N][(j-k%N)]
                    else:
                        total_spin[i*N+j][1] -= J[k][(i-site)%N][(j-k%N)]
                if h[i][j] > 0:
                    priority_total = [total_spin[i*N+j][0], -total_spin[i*N+j][1]]
                else:
                    priority_total = [-total_spin[i*N+j][0], total_spin[i*N+j][1]]
        return [priority_total for _ in range(N*N)]


#score: {'data2D.txt': 0.0016294753086419755}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    if h[site//N][k%N] > 0:
                        total_spin[i*N+j][1] += J[k][(i-site)%N][(j-k%N)]*h[site//N][k%N]
                    else:
                        total_spin[i*N+j][0] -= J[k][(i-site)%N][(j-k%N)]*h[site//N][k%N]
        priority_total = [[total_spin[i][1], -total_spin[i][0]] for i in range(N*N)]
        return priority_total


#score: {'data2D.txt': -0.0006958333333333336}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    site1 = (site + ((k-1)%2 - 1)) % N
                    total_spin[i*N+j][1 if h[site//N][site%N] > 0 else 0] += J[k][(i-site1)%N][(j-k%N)]*h[site//N][k%N]
        priority_total = [[total_spin[i][0], -total_spin[i][1]] for i in range(N*N)]
        return priority_total


#score: {'data2D.txt': -0.001108179012345679}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_sum = sum([J[0][(i-site)%N][(j-k%N)]*h[site//N][k%N] if h[i][j] > 0 else -J[0][(i-site)%N][(j-k%N)]*(-h[site//N][k%N]) for k in range(3)])
            total_spin[i*N+j][1 if h[i][j] > 0 else 0] = total_sum
    priority_total = [[total_spin[i][0], -total_spin[i][1]] for i in range(N*N)]
    return priority_total


#score: {'data2D.txt': -0.005835648148148147}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if 0 <= j-k%N < N else 0 for k in range(min(j,N-1))])
                priorities.append((total_spin, -1) if h[i][j] > 0 else (total_spin, 1))
        return [[x[1], x[0]] for x in priorities]


#score: {'data2D.txt': 0.24355478395061686}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, 0))
                else:
                    priority.append((-total_spin, 1))
        return [[x[1], x[0]] for x in priority]


#score: {'data2D.txt': 0.009663734567901214}
program:
def priority(N, h, J):
    priority = []
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority.append((total_spin, 1))
            else:
                priority.append((total_spin, -1))
    return priority


#score: {'data2D.txt': -0.005166512345679013}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i]
                else:
                    priority_total[i*N+j][1] = -total_spin[i]
        for i in range(N):
            if h[i][N-1] > 0:
                priority_total[i*N+N-1][0] = total_spin[i]
            else:
                priority_total[i*N+N-1][1] = -total_spin[i]
        return priority_total


#score: {'data2D.txt': -0.00228966049382716}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
        priority_total = np.zeros((N**2,2), dtype=int)
        for i in range(N**2):
            priorities.append((-total_spin[i//N][state[i//N][i%N]%2], -total_spin[i//N][1-state[i//N][i%N]%2]))
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        spin = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += spin[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin
                else:
                    priority_total[i*N+j, 1] = -total_spin

        return priority_total.tolist()


#score: {'data2D.txt': -0.001316820987654321}
program:
def priority(N, h, J):
    priorities = []
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    for i in range(N):
        for j in range(N):
            total_spin = sum([J[3*k%4][(i+((k-1)%2 - 1)) % N][j-k%N] * state[(i+((k-1)%2 - 1)) % N][j-k%N] for k in range(3)])
            if h[i][j] > 0:
                priorities.append((-total_spin, 1))
            else:
                priorities.append((total_spin, -1))
    return [(p[0], p[1]) for p in sorted(priorities)]


#score: {'data2D.txt': 0.0017983024691358024}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=float)
        for i in range(N):
            for j in range(N):
                if i > 0:
                    total_spin[i][j] += h[(i-1)%N][j]
                if j > 0:
                    total_spin[i][j] += h[i][(j-1)%N]
        priority = np.zeros((N*N,2), dtype=float)
        for i in range(N):
            for j in range(N):
                site = i*N + j
                if h[i][j] > 0:
                    priority[site,0] = total_spin[i][j]
                else:
                    priority[site,1] = -total_spin[i][j]
        return priority


#score: {'data2D.txt': -0.20821959876543217}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += row_sum[j]
                else:
                    priority_total[i*N+j][1] -= row_sum[j]
        return [[row[0], -row[1]] for row in priority_total]


#score: {'data2D.txt': -0.011453240740740741}
program:
def priority(N, h, J):
        priority = [[0 for _ in range(2)] for _ in range(N*N)]
        total_spin = [0 for _ in range(2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[0]
                else:
                    priority[i*N+j][1] = -total_spin[0]
        return priority


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [0, 0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[i][j] > 0:
                        total_spin[0] += state[site][j]
                    else:
                        total_spin[1] += state[site][j]
                priorities.append(total_spin)
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': 0.31292638888888813}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = sum([J[0][(i-site)%N][(j-k%N)]*h[site//N][k%N] if h[i][j] > 0 else -J[0][(i-site)%N][(j-k%N)]*(-h[site//N][k%N]) for k in range(3)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.010939660493827158}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = [0]*N**2
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[(i*N)+j] += state[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N)+j][0] = total_spin[(i*N)+j]
                else:
                    priority_total[(i*N)+j][1] = -1*total_spin[(i*N)+j]
        for j in range(N**2):
            if h[j//N][j%N] > 0:
                priority_total[j][0] = total_spin[j]
            else:
                priority_total[j][1] = -1*total_spin[j]
        return priority_total


#score: {'data2D.txt': 0.06512361111111113}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        priority_total = np.zeros((N,N,2))
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    total_spin[j][0] += 1
                else:
                    total_spin[j][0] -= 1
        for j in range(N):
            if h[0][j] > 0:
                priority_total[0][j][0] = total_spin[j][0]
            else:
                priority_total[0][j][1] = -1*total_spin[j][0]
        for i in range(1,N-1):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i][j][0] = total_spin[j][0] + priority_total[i-1][j][0] - priority_total[i+1][j][1]
                else:
                    priority_total[i][j][1] = -1*total_spin[j][0] - priority_total[i-1][j][1] + priority_total[i+1][j][0]
        for j in range(N):
            if h[N-1][j] > 0:
                priority_total[-1][j][0] = total_spin[j][0] + priority_total[-2][j][0]
            else:
                priority_total[-1][j][1] = -1*total_spin[j][0] - priority_total[-2][j][1]
        return priority_total.reshape((N*N, 2))


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((total_spin, -1))
    return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((2-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority.append([total_spin, 1])
                else:
                    priority.append([-total_spin, -1])
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        J_sum = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin_1 = sum([J[(i*N+j),(m*N+n)] for n,(x,y) in enumerate(zip(range(-1,2),range(-1,2))) if (x==0 and y<0) or (y==0 and x<0)])
                J_sum[i][j] = total_spin_1
        priority_total = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i][j] = J_sum[i][j]
                else:
                    priority_total[i][j] = -J_sum[i][j]
        return [[priority_total[i][j],-priority_total[i][j]] for i in range(N) for j in range(N)]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, h[i][j]))
                else:
                    priorities.append((-total_spin, -h[i][j]))
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    if h[i][j] > 0:
                        total_spin[site][0] += 1
                    else:
                        total_spin[site][1] += 1
        return [(total_spin[i][0], 1) if h[i][j] > 0 else (total_spin[i][1], -1) for i in range(N) for j in range(N)]


#score: {'data2D.txt': -0.010204166666666667}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[i][j] > 0:
                        total_spin[i*N+j][0] += 1
                    else:
                        total_spin[i*N+j][0] -= 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][1] += h[site][j]
        priority_total = [[0, 0] for _ in range(N*N)]
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -total_spin[j][0]
        return [[priority_total[i][0], priority_total[i][1]] for i in range(N*N)]


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
  state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
  priorities = []
  for i in range(N):
    row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
    for j in range(N):
      total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
      if h[i][j] > 0:
          priorities.append((total_spin, 1))
      else:
          priorities.append((total_spin, -1))
  return priorities


#score: {'data2D.txt': -0.0635152777777778}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
            priorities.append((-total_spin, -1))
        else:
            priorities.append((-total_spin, 1))
    return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        spin_config = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(spin_config[i][:k]+spin_config[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * spin_config[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.0635152777777778}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((-total_spin, -1))
                else:
                    priorities.append((-total_spin, 1))
        return priorities


#score: {'data2D.txt': -0.0007618827160493824}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                row_sum = sum([state[i][k]+state[i][(k+1)%N] for k in range(N)])
                col_sum = sum([state[k][j]+state[(k+1)%N][j] for k in range(N)])
                total_spin = state[i][j]*row_sum + state[i][j]*col_sum
                if h[i][j] > 0:
                    priorities.append((total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return [[x[1],x[0]] for x in sorted(priorities,reverse=True)]


#score: {'data2D.txt': 0.146027314814815}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
          total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
          if h[i][j] > 0:
            priorities.append((-total_spin, -1))
          else:
            priorities.append((total_spin, 1))
      return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
      spin_config = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
          row_sum = [sum(spin_config[i][:k]+spin_config[i][k+1:]) for k in range(N)]
          for j in range(N):
              total_spin = sum([row_sum[k] * spin_config[i][j-k%N] for k in range(min(j,N-1))])
              if h[i][j] > 0:
                  priorities.append((total_spin, 1))
              else:
                  priorities.append((total_spin, -1))
      return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i+k)%N][(j+l)%N] for k,l in itertools.product([-1,1], repeat=2) if (k==0 and l==0)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.05723626543209879}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                row_sum = sum(state[i][:j]+state[i][j+1:])
                total_spin = sum([row_sum * state[(i+k)%N][(j-k)%N] for k in range(min(i,j,N-i-1,N-j-1))])
                if h[i][j] > 0:
                    priorities.append((-total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return priorities


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
          total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
          if h[i][j] > 0:
            priorities.append((total_spin, -1))
          else:
            priorities.append((total_spin, 1))
      return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
          row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
          for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
              priorities.append((total_spin, 1))
            else:
              priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = np.zeros((N,N), dtype=int)
    priorities = []
    
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[i][j] += h[site][j]
            
            if h[i][j] > 0:
                priority_total = -total_spin[i].sum()
            else:
                priority_total = total_spin[i].sum()
                
            priorities.append((priority_total, -1))
    return np.array(priorities).reshape(N*N,2)


#score: {'data2D.txt': -0.19093379629629656}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N,2))
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    total_spin[i][j][0] = -1
                    total_spin[i][j][1] = 1
                else:
                    total_spin[i][j][0] = 1
                    total_spin[i][j][1] = -1
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][j] += total_spin[site][j]
        priority = []
        for i in range(N*N):
            if h[int(i/N)][i%N] > 0:
                priority.append((total_spin[int(i/N)][i%N][0], -1))
            else:
                priority.append((total_spin[int(i/N)][i%N][1], 1))
        return priority


#score: {'data2D.txt': 0.2892455246913582}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                for k in range(3):
                    total_spin += J[k][site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, 1))
                else:
                    priority.append((total_spin, -1))
        return priority


#score: {'data2D.txt': -0.30988225308641926}
program:
def priority(N, h, J):
        priority_total = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        for j in range(N):
            if h[0][j] > 0:
                priority_total[j][0] = total_spin
            else:
                priority_total[j][1] = -total_spin
        return [priority_total[i] for i in range(N**2)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = [[0 for _ in range(2)] for _ in range(N*N)]
        total_spin = [0 for _ in range(N)]
        
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    site = (i + ((j-1)%N - 1)) % N
                    total_spin[site] += h[i][j]
                    priority[i*N+j][0] = total_spin[site]
                else:
                    site = (i + ((j-1)%N - 1)) % N
                    total_spin[site] -= h[i][j]
                    priority[i*N+j][1] = -total_spin[site]
                    
        return priority


#score: {'data2D.txt': -0.11493379629629635}
program:
def priority(N, h, J):
        priority = [[0. for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(-1, 2):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return priority


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-1*total_spin, -1))
        return [[p[1], p[0]] for p in sorted(priorities)]


#score: {'data2D.txt': -0.0011368827160493824}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, h[i][j]))
                else:
                    priority.append((-total_spin, -h[i][j]))
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[(i*N+j), 0] = total_spin
                else:
                    priority[(i*N+j), 1] = -total_spin
        return priority.tolist()


#score: {'data2D.txt': -0.17949922839506163}
program:
def priority(N, h, J):
        priority_total = np.zeros((N,N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i,j,0] = total_spin
                else:
                    priority_total[i,j,1] = -total_spin
        return priority_total.reshape(N*N,2).tolist()


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        N2 = N*N
        priorities = [[0 for _ in range(2)] for _ in range(N2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin
                else:
                    priorities[i*N+j][1] = -total_spin
        return priorities


#score: {'data2D.txt': 0.16028688271604957}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N*N)]
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += h[i][j]
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin[site],1]
                else:
                    priority_total[i*N+j] = [-total_spin[site],-1]
        return priority_total


#score: {'data2D.txt': -0.09538009259259264}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N*N)]
    total_spin = [0]*N
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[site] += h[i][j]
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin[site]
        else:
          priority_total[i*N+j][1] = -total_spin[site]
    return priority_total


#score: {'data2D.txt': -0.09538009259259264}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N*N)]
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += h[i][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[site]
                else:
                    priority_total[i*N+j][1] = -total_spin[site]
        return [[x,y] for x,y in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total = np.zeros((N, N), dtype=int)
        for k in range(3):
            for i in range(N):
                site = (i + ((k-1)%2 - 1)) % N
                for j in range(N):
                    if h[site][j] > 0:
                        total[i][j] += 1
                    else:
                        total[i][j] -= 1
        priorities = []
        for i in range(N*N):
            priority_total = [total[(i//N)][(i%N)], -total[(i//N)][(i%N)]]
            if h[i//N][i%N] > 0:
                priorities.append(priority_total)
            else:
                priorities.append([-x for x in priority_total])
        return priorities


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,N), dtype=int)
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][j] += h[site][j]
                if h[i][j] > 0:
                    priority_total = np.zeros((N,2), dtype=int)
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[i][j] += state[site][j]
                    priorities.append((-total_spin[i][j], -h[i][j]))
                else:
                    priority_total = np.zeros((N,2), dtype=int)
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[i][j] += state[site][j]
                    priorities.append((-total_spin[i][j], h[i][j]))
        return priorities


#score: {'data2D.txt': -0.27106867283950575}
program:
def priority(N, h, J):
    priority = []
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority.append((total_spin, 0))
            else:
                priority.append((-total_spin, 1))
    return [[x[0], x[1]] for x in priority]


#score: {'data2D.txt': -0.0006692901234567905}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N) - N//2) % N
                total_spin[site] += state[i][j]
        for j in range(N**2):
            if h[j//N][j%N] > 0:
                priority_total[j][0] = total_spin[j//N]
            else:
                priority_total[j][1] = -1*total_spin[j//N]
        return priority_total


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site1 = (i + ((j-1)%N) - N//2) % N
                total_spin1 = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin1 += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin1
                else:
                    priority[i*N+j][1] = -total_spin1
        return priority


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N) - N//2) % N
        total_spin[i*N+j][0] += h[i][j]
        if h[i][j] > 0:
          total_spin[i*N+j][1] = total_spin[i*N+j][0]
        else:
          total_spin[i*N+j][1] = -total_spin[i*N+j][0]
    return total_spin


#score: {'data2D.txt': 0.0042529320987654325}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N,N,2), dtype=int)
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][0] += state[site][j]
                if h[i][j] > 0:
                    priority_total[i][j][0] = total_spin[i][0]
                else:
                    priority_total[i][j][1] = -total_spin[i][0]
        return priority_total.reshape(N*N,2)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        total_spins = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spins[i][site] += h[i][site]
        priorities = []
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priorities.append((total_spins[i][j], 1))
                else:
                    priorities.append((-total_spins[i][j], -1))
        return priorities


#score: {'data2D.txt': 0.009474537037037038}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            row_sum = [sum(J[i*(N**2):(i+1)*(N**2),j*N+j-1:j*N+j+3].flatten()) for j in range(N)]
            for k in range(N):
                total_spin = sum([row_sum[j] * h[k][j] for j in range(min(k,N-1))])
                if h[k][k] > 0:
                    priority.append((total_spin, -1))
                else:
                    priority.append((total_spin, 1))
        return [[p[1], -p[0]] for p in priority]


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        priority = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return priority


#score: {'data2D.txt': 0.057156018518518543}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[(i+((k-1)%2) % N, j-k%N)].flatten()[0] if (0 <= k-j+N <= N and 0 <= k-j-N < N) else h[i][j] for k in range(3)])
                if h[i][j] > 0:
                    priority.append([total_spin, 1])
                else:
                    priority.append([-total_spin, -1])
        return priority


#score: {'data2D.txt': -0.0013581790123456793}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,N), dtype=int)
        priority_total = np.zeros((N**2,2), dtype=float)
        for i in range(N):
            for j in range(N):
                site_sum = sum([state[(i+((k-1)%2)-1)%N][j-k%N] for k in range(3)])
                total_spin[i][j] = site_sum
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[i][j]
                else:
                    priority_total[j][1] = -1*total_spin[i][j]
        return priority_total.tolist()


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
    priority_total = np.zeros((N,N,2), dtype=int)
    for i in range(N):
        total_spin = np.zeros(2)
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            if h[i][j] > 0:
                priority_total[i][j][0] += 1
                priority_total[i][j][1] -= 1
            else:
                priority_total[i][j][0] -= 1
                priority_total[i][j][1] += 1
    return np.array(priority_total).reshape((N*N,2))


#score: {'data2D.txt': -0.0006692901234567905}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N**2,2), dtype=int)
    total_spin = [0]*N
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N) - N//2) % N
        total_spin[site] += state[i][j]
    for j in range(N**2):
      if h[j//N][j%N] > 0:
        priority_total[j][0] = total_spin[j//N]
      else:
        priority_total[j][1] = -1*total_spin[j//N]
    return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N**2,2), dtype=int)
        for i in range(N**2):
            total_spin = 0
            for k in range(3):
                site = (i // N + ((k-1)%2 - 1)) % N
                total_spin += state[site][(i % N)]
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin
            else:
                priority_total[i][1] = -total_spin
        return priority_total


#score: {'data2D.txt': 0.007894907407407408}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    total_spin = [0]*N
    for i in range(N):
        for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin[site] += state[i][k]
    for j in range(N**2):
        if h[j//N][j%N] > 0:
            priority_total[j][0] = total_spin[j//N]
        else:
            priority_total[j][1] = -total_spin[j//N]
    return priority_total


#score: {'data2D.txt': 0.1952927469135805}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i + ((k-1)%2 - 1)) % N][j] if k%2 == 0 else state[i][(j + (k-1)%2 - 1)] % N for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))  
        return priorities


#score: {'data2D.txt': -0.0008251543209876545}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[x[1], -x[0]] for x in sorted(priorities)]


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if k >= 0 else J[(i+(k-1)%2)][(j+k)%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[x[1], -x[0]] for x in priorities]


#score: {'data2D.txt': 0.057156018518518543}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]  
        priorities = []  
        for i in range(N):  
            for j in range(N):  
                total_spin = sum([J[(i+((k-1)%2) % N, j-k%N)].flatten()[0] if (0 <= k-j+N <= N and 0 <= k-j-N < N) else h[i][j] for k in range(3)])  
                if h[i][j] > 0:  
                    priorities.append([total_spin, 1])  
                else:  
                    priorities.append([-total_spin, -1])  
        return priorities


#score: {'data2D.txt': -0.05791280864197533}
program:
def priority(N, h, J):
    priority = np.zeros((N**2, 2))
    for i in range(N):
        for j in range(N):
            total_spin = sum([J[(i + ((k-1)%2) % N, j-k%N)].flatten()[0] if (0 <= k-j+N <= N and 0 <= k-j-N < N) else h[i][j] for k in range(3)])
            if h[i][j] > 0:
                priority[i*N+j] = [total_spin, -1]
            else:
                priority[i*N+j] = [-total_spin, 1]
    return priority


#score: {'data2D.txt': -1.4043209876543283e-05}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total = [total_spin, -1*total_spin]
                else:
                    priority_total = [-total_spin, total_spin]
                priorities.append(priority_total)
        return priorities


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append([total_spin, 1])
                else:
                    priorities.append([-total_spin, -1])
        return priorities


#score: {'data2D.txt': 0.057156018518518543}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[(i+((k-1)%2) % N, j-k%N)].flatten()[0] if (0 <= k-j+N <= N and 0 <= k-j-N < N) else h[i][j] for k in range(3)])
                if h[i][j] > 0:
                    priorities.append([total_spin, 1])
                else:
                    priorities.append([-total_spin, -1])
        return priorities


#score: {'data2D.txt': 0.16911280864197556}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=float)
        for i in range(N):
            for j in range(N):
                site_sum = sum([state[(i+((k-1)%2)-1)%N][j-k%N] for k in range(3)])
                total_spin = site_sum
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin
                else:
                    priority_total[i*N+j, 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': -0.0003390432098765438}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site], 1))
                else:
                    priorities.append((-total_spin[site], 1))
        return [[x,y] for x,y in sorted(priorities, reverse=True)]


#score: {'data2D.txt': 0.00016404320987654263}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += h[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site], 1))
                else:
                    priorities.append((-total_spin[site], 1))
        return [[x,y] for x,y in sorted(priorities)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [[0, 0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    site_sum += state[site][j]
                total_spin[i*N+j] = [site_sum, h[i][j]]
        for j in range(N**2):
            if total_spin[j][0] > 0:
                priorities.append([total_spin[j][0], 1])
            else:
                priorities.append([-1*total_spin[j][0], -1])
        return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = total_spin[i][0]
            else:
                priority_total[i][1] = -1*total_spin[i][0]
        return priority_total


#score: {'data2D.txt': -0.005166512345679013}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[0,0] for _ in range(N*N)]
    for i in range(N):
        total_spin = [0,0]
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[0] += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[0]
            else:
                priority_total[i*N+j][1] = -total_spin[0]
    return priority_total


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,N), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][site] += h[i][j]
                
                if h[i][j] > 0:
                    priority_total = -total_spin[i].sum()
                else:
                    priority_total = total_spin[i].sum()
                    
                priorities.append((priority_total, 1))
        return np.array(priorities).reshape(N*N,2)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((total_spin, -1))
    return [p for p in priorities]


#score: {'data2D.txt': -0.0013526234567901225}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                site1 = (i + ((j-1)%2 - 1)) % N
                site2 = (i + ((j+1)%2 - 1)) % N
                site3 = (i + ((i-1)%N - 1)) % N
                site4 = (i + ((i+1)%N - 1)) % N
                
                total_spin = h[site1][j] + h[site2][j] + h[site3][i] + h[site4][i]
                
                if h[i][j] > 0:
                    priority_total = -total_spin
                else:
                    priority_total = total_spin
                    
                priorities.append((priority_total, -1))
        return np.array(priorities).reshape(N*N,2)


#score: {'data2D.txt': 0.009474537037037038}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(J[i*(N**2):(i+1)*(N**2),j*N+j-1:j*N+j+3].flatten()) for j in range(N)]
      for k in range(N):
        total_spin = sum([row_sum[j] * h[k][j] for j in range(min(k,N-1))])
        if h[k][k] > 0:
          priorities.append((total_spin, -1))
        else:
          priorities.append((total_spin, 1))
    return [[p[1], -p[0]] for p in priorities]


#score: {'data2D.txt': -0.012068672839506174}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    site_neighbor = (site + ((k-1)%2 - 1)) % N
                    total_spin[i*N+j][0] += h[site_neighbor][j]
        return [[p[1], -p[0]] for p in total_spin]


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
    priority = [[0, 0] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority[i*N+j][0] = total_spin
            else:
                priority[i*N+j][1] = -total_spin
    return priority


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
    priority = [[0,0] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority[i*N+j][0] = total_spin
            else:
                priority[i*N+j][1] = -total_spin
    return [row for row in priority]


#score: {'data2D.txt': -0.008826697530864198}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = sum([row_sum[k] * state[site][k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[p[1], -p[0]] for p in priorities]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N**2):
        site = (i % N, i // N)
        for k in range(3):
            neighbor = ((k-1)%2 - 1) + site[0], site[1]
            total_spin[i][0] += -1 if h[neighbor[1]][neighbor[0]] > 0 else 1
    priority_total = [[0, 0] for _ in range(N**2)]
    for i in range(N**2):
        if h[i//N][i%N] > 0:
            priority_total[i][0] = total_spin[i][0]
        else:
            priority_total[i][1] = -1*total_spin[i][0]
    return priority_total


#score: {'data2D.txt': -0.05197391975308645}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [0]*N
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[i] += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[i]
            else:
                priority_total[i*N+j][1] = -total_spin[i]
    for i in range(N):
        if h[i][N-1] > 0:
            priority_total[i*N+N-1][0] += sum([h[i][j] for j in range(N)])
        else:
            priority_total[i*N+N-1][1] -= sum([h[i][j] for j in range(N)])
    for i in range(N):
        if h[0][i] > 0:
            priority_total[i][0] += sum([h[0][j] for j in range(N)])
        else:
            priority_total[i][1] -= sum([h[0][j] for j in range(N)])
    return priority_total


#score: {'data2D.txt': -0.0003390432098765438}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site], 1))
                else:
                    priorities.append((-total_spin[site], 1))
        return sorted(priorities, reverse=True)


#score: {'data2D.txt': -0.0006507716049382719}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[x,y] for x,y in sorted(priorities)]


#score: {'data2D.txt': -0.0009816358024691359}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
          row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
          for j in range(N):
              total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
              if h[i][j] > 0:
                  priorities.append((total_spin, 1))
              else:
                  priorities.append((-total_spin, -1))
      return sorted(priorities)[:N*N]


#score: {'data2D.txt': 0.01507577160493826}
program:
def priority(N, h, J):
    J_new = J.flatten()
    sum_1 = (np.prod(J_new[0::2], 0) + h).flatten()
    priority_total = np.column_stack((sum_1, -sum_1))
    priority = np.zeros((N**2, 2))
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += priority_total[site*N+j][0]
            if h[i][j] > 0:
                priority[(i*N+j),0] = np.sign(total_spin)
                priority[(i*N+j),1] = 1
            else:
                priority[(i*N+j),0] = -np.sign(total_spin)
                priority[(i*N+j),1] = -1
    return(priority)


#score: {'data2D.txt': -0.057243981481481514}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[(i+((k-1)%2) % N, j-k%N)].flatten()[0] if (0 <= k-j+N <= N and 0 <= k-j-N < N) else h[i][j] for k in range(3)])
                priorities.append([-total_spin, -1] if total_spin > 0 else [total_spin, 1])
        return [[p[0], p[1]] for p in priorities]


#score: {'data2D.txt': -0.17949922839506163}
program:
def priority(N, h, J):
        priorities = np.zeros((N*N, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_interactions = []
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k-j+N < N and k-j-N >= 0:
                        site_interactions.append(J[site, j-k%N].flatten()[0])
                    else:
                        site_interactions.append(h[site][j])
                total_spin = sum(site_interactions)
                if h[i][j] > 0:
                    priorities[(i*N+j), 0] = total_spin
                else:
                    priorities[(i*N+j), 1] = -total_spin
        return priorities.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = [[0.0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[i*k%N + min(k, N-1)][min(j+N-k%N,N-1)] if (k==j) or (k==(N-1)-abs(j-N)) else 0 for k in range(max(0,j-N+1))])
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                    priority[i*N+j][1] = -total_spin
                else:
                    priority[i*N+j][0] = -total_spin
                    priority[i*N+j][1] = total_spin
        return priority


#score: {'data2D.txt': -0.0017600308641975307}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
            if h[i][0] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
        for j in range(N):
            priority_total[j][0] = 0
            priority_total[j][1] = 0
        for i in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priorities = [(total_spin, h[i][j])]
            else:
                priorities = [(-total_spin, -h[i][j])]
        return priority_total


#score: {'data2D.txt': -0.05197391975308645}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i]
                else:
                    priority_total[i*N+j][1] = -total_spin[i]
        for i in range(N):
            if h[i][N-1] > 0:
                priority_total[i*N+N-1][0] += sum([h[i][j] for j in range(N)])
            else:
                priority_total[i*N+N-1][1] -= sum([h[i][j] for j in range(N)])
        for i in range(N):
            if h[0][i] > 0:
                priority_total[i][0] += sum([h[0][j] for j in range(N)])
            else:
                priority_total[i][1] -= sum([h[0][j] for j in range(N)])
        return priority_total


#score: {'data2D.txt': 0.16028688271604957}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N)]
        priority_total = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority_total.append((total_spin[site][0],1))
                else:
                    priority_total.append((-total_spin[site][0],-1))
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                if i==0 or j==0 or i==N-1 or j==N-1:
                    site = (i + ((j-1)%2 - 1)) % N
                    total_spin[i][j] += h[site][j]
                    if h[i][j] > 0:
                        return [[total_spin[k][l], -total_spin[k][l]] for k in range(N) for l in range(N)]
                else:
                    site = (i + ((j-1)%2 - 1)) % N
                    total_spin[i][j] += h[site][j]
                    if h[i][j] > 0:
                        return [[total_spin[k][l], -total_spin[k][l]] for k in range(N) for l in range(N)]
        return [[0,0] for _ in range(N**2)]


#score: {'data2D.txt': -0.05155447530864201}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [0]*N
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[i] += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[i]
            else:
                priority_total[i*N+j][1] = -total_spin[i]
    for i in range(N):
        site = (i + ((N-1)%2 - 1)) % N
        if h[i][site] > 0:
            priority_total[i*N+site][0] += sum([h[k][site] for k in range(N)])
        else:
            priority_total[i*N+site][1] -= sum([h[k][site] for k in range(N)])
    site = (N-1 + ((0)%2 - 1)) % N
    if h[site][j] > 0:
        priority_total[site][0] += sum([h[j][k] for k in range(N)])
    else:
        priority_total[site][1] -= sum([h[j][k] for k in range(N)])
    return priority_total


#score: {'data2D.txt': -0.05122145061728399}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N**2)]
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i] += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[i]
                else:
                    priority[i*N+j][1] = -total_spin[i]
        return priority


#score: {'data2D.txt': -0.008430092592592593}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        for j in range(N):
            if h[0][j] > 0:
                priority[j][0] += sum(h[k][j] for k in range(1,N))
            else:
                priority[j][1] -= sum(h[k][j] for k in range(1,N))
        return priority


#score: {'data2D.txt': 0.0017165123456790118}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(3):
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    if neighbor[0] == i:
                        site_sum += J[k][neighbor[0]][neighbor[1]]
                    else:
                        site_sum += J[k][(neighbor[0]-i+2)%N][j]
                total_spin[i][j] = site_sum
        priority_total = np.zeros((N,N,2), dtype=int)
        for j in range(N):
            if h[j].sum() > 0:
                priority_total[:,j,0] = total_spin.sum(axis=1)
            else:
                priority_total[:,j,1] = -1*total_spin.sum(axis=1)
        return priority_total.reshape((N*N,2))


#score: {'data2D.txt': -0.0013115740740740737}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = [[sum(state[i][:k]+state[i][k+1:]) for k in range(N)] for i in range(N)]
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_sum = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                site_sum += total_spin[site][j]
            if h[i][j] > 0:
                priority_total[j][0] = site_sum
            else:
                priority_total[j][1] = -1*site_sum
    return [list(x) for x in priority_total]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                if i==0 or j==0 or i==N-1 or j==N-1:
                    site = (i + ((j-1)%2 - 1)) % N
                    total_spin[i][j] += h[site][j]
                    if h[i][j] > 0:
                        return [[total_spin[k][l], -total_spin[k][l]] for k in range(N) for l in range(N)]
                else:
                    site = (i + ((j-1)%2 - 1)) % N
                    total_spin[i][j] += h[site][j]
                    if h[i][j] > 0:
                        return [[total_spin[k][l], -total_spin[k][l]] for k in range(N) for l in range(N)]
        priority_total = np.zeros((N,2), dtype=int)
        for j in range(N):
            if h[0][j] > 0:
                priority_total[j][0] = total_spin[0][j]
            else:
                priority_total[j][1] = -total_spin[0][j]
        for i in range(1,N-1):
            if h[i][0] > 0:
                priority_total[:,0] += total_spin[i,0]
            else:
                priority_total[:,1] -= total_spin[i,0]
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                if i==0 or j==0 or i==N-1 or j==N-1:
                    site = (i + ((j-1)%2 - 1)) % N
                    total_spin[i][j] += h[site][j]
                    if h[i][j] > 0:
                        priority_list = [[total_spin[k][l], -total_spin[k][l]] for k in range(N) for l in range(N)]
                else:
                    site = (i + ((j-1)%2 - 1)) % N
                    total_spin[i][j] += h[site][j]
        return priority_list


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        priority = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return priority


#score: {'data2D.txt': 0.0037236111111111116}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][j] += J[0][site][0]
                if i > 0:
                    total_spin[i][j] += J[1][site][0]
                if j > 0:
                    total_spin[i][j] += J[2][site][0]
                if i < N-1:
                    total_spin[i][j] += J[3][site][0]
        priority_total = np.zeros((N,N,2), dtype=int)
        for j in range(N):
            if h[j][0] > 0:
                priority_total[j][0][0] = total_spin[j][0]
            else:
                priority_total[j][1][0] = -1*total_spin[j][0]
        return priority_total.reshape((N*N,2))


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        total_spin = [0]*N**2
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j] += h[site][j]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin[i*N+j], 1]
                else:
                    priority_total[i*N+j] = [-total_spin[i*N+j], -1]
        return priority_total


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] = h[site][j]
                total_spin[i*N+j][1] = -total_spin[i*N+j][0]
        priority_total = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i*N+j][1] = -total_spin[i*N+j][0]
        return priority_total


#score: {'data2D.txt': -0.001710339506172839}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
            if h[i][0] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
        
        for i in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priorities = [(total_spin, 1)]
            else:
                priorities = [(-total_spin, -1)]
        
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][j] += state[i][j]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin.sum()
                else:
                    priority_total[(i*N+j), 1] = -total_spin.sum()
        return priority_total.tolist()


#score: {'data2D.txt': 0.009816512345679013}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            spin = 1 if h[i][j] > 0 else -1
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][spin==1] += 1
        priority_total = np.zeros((N,2), dtype=int)
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -total_spin[j][0]
        for j in range(N):
            if spin == 1:
                priority[i*N+j] = [-x for x in priority_total[j]]
            else:
                priority[i*N+j] = [x for x in priority_total[j]]
    return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site][0]
                else:
                    priority[i*N+j][1] = -total_spin[site][0]
        return priority


#score: {'data2D.txt': -0.05791280864197533}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[(i + ((k-1)%2) % N, (j-k)%N)].flatten()[0] if 0 <= k-j+N < N and 0 <= k-j-N < N else h[i][j] for k in range(3)])
                if h[i][j] > 0:
                    priorities.append([total_spin, -1])
                else:
                    priorities.append([-total_spin, 1])
        return priorities


#score: {'data2D.txt': -0.05791280864197533}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[(i + ((k-1)%2) % N, j-k%N)].flatten()[0] if (0 <= k-j+N <= N and 0 <= k-j-N < N) else h[i][j] for k in range(3)])
                if h[i][j] > 0:
                    priorities.append([total_spin, -1])
                else:
                    priorities.append([-total_spin, 1])
        return priorities


#score: {'data2D.txt': -0.0024612654320987663}
program:
def priority(N, h, J):
        N2 = N*N
        priorities = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin[site][0]
                else:
                    priorities[i*N+j][1] = -total_spin[site][0]
        for i in range(N):
            site = (i + ((N-1)%2 - 1)) % N
            total_spin[site][0] += sum(h[k][i] for k in range(N))
            if h[i][0] > 0:
                priorities[i][0] = total_spin[site][0]
            else:
                priorities[i][1] = -total_spin[site][0]
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N,N,2), dtype=int)
        total_spin = 0
        for i in range(N):
            for j in range(N):
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[i][j] > 0:
                        priority_total[i,j,0] += state[site][j]
                    else:
                        priority_total[i,j,1] += -state[site][j]
        return priority_total.reshape(N*N,2).tolist()


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N,N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[i,j,0] = total_spin
                else:
                    priority_total[i,j,1] = -total_spin
                    
        return priority_total.reshape(N*N,2).tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    total_spin[(i+N-1)%N][0] += 1
                    priority[i*N+j] = [total_spin[(i+N-1)%N][0], -total_spin[(i+N-1)%N][0]]
                else:
                    total_spin[(i+N-1)%N][1] -= 1
                    priority[i*N+j] = [-total_spin[(i+N-1)%N][1], total_spin[(i+N-1)%N][1]]
        
        return priority


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.0006634259259259271}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                if i==0 or j==0 or i==N-1 or j==N-1:
                    site = (i + ((j-1)%2 - 1)) % N
                    total_spin = h[site][j]
                    if h[i][j] > 0:
                        priority[i*N+j] = [total_spin, -total_spin]
                    else:
                        priority[i*N+j] = [-total_spin, total_spin]
                else:
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin += J[k][site][j]
                    if h[i][j] > 0:
                        priority[i*N+j] = [total_spin, -total_spin]
                    else:
                        priority[i*N+j] = [-total_spin, total_spin]
        return priority


#score: {'data2D.txt': -0.007382561728395061}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][0] += h[site][j]
                if h[site][j] > 0:
                    priority[i*N+j] = [total_spin[i][0], 0]
                else:
                    priority[i*N+j] = [-total_spin[i][0], 1]
        return priority


#score: {'data2D.txt': -0.0078060185185185186}
program:
def priority(N, h, J):
    priority = [[0 for _ in range(2)] for _ in range(N*N)]
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            site = (i + ((j-1)%N - 1)) % N
            total_spin[i][site] += spin
            priority[i*N+site] = [x for x in [-total_spin[i][site], total_spin[i][site]]]
    return priority


#score: {'data2D.txt': -0.0010942901234567905}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if h[i][j] > 0 else -row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[p[1], 1-p[1]] for p in sorted(priorities)[::-1]]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                total_spin = sum([site_spin + (-1)**((k-1)%2)*state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [[x, 1-x] for x,_ in sorted(priorities)]


#score: {'data2D.txt': -0.0006180555555555562}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N, 2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][0] += h[site][j]
                
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[i][0]
                else:
                    priority[i*N+j][1] = -total_spin[i][0]
                    
        for j in range(N):
            if h[0][j] > 0:
                priority[j][0] += sum(h[k][j] for k in range(1,N))
            else:
                priority[j][1] -= sum(h[k][j] for k in range(1,N))

        return priority


#score: {'data2D.txt': 0.0336807098765432}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = np.zeros((N,2), dtype=int)
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][0] += state[i][j]
            if h[i][j] > 0:
                priority[i*N+j][0] = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            else:
                priority[i*N+j][1] = -sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
    return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][0] += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[i][0]
                else:
                    priority[i*N+j][1] = -total_spin[i][0]
        return priority


#score: {'data2D.txt': 0.15177731481481505}
program:
def priority(N, h, J):
        total_priority = np.zeros((N,N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_priority[site][j][0] += site_spin
                    if h[i][j] > 0:
                        total_priority[site][j][1] = total_priority[site][j][1] + 1
                    else:
                        total_priority[site][j][1] = -total_priority[site][j][1]
        return total_priority.reshape(N*N,2).tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i][0] += h[site][j]
        if h[i][j] > 0:
          priority[i*N+j][0] = total_spin[i][0]
        else:
          priority[i*N+j][1] = -total_spin[i][0]
    return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[float('inf') for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site][0]
                    for k in range(3):
                        site2 = (i + ((k-1)%2 - 1)) % N
                        priority[i*N+j][0] += sum([J[(i*N+j):, (site2*k%N+j-1)%N, :]]).sum()
                else:
                    priority[i*N+j][1] = -total_spin[site][0]
                    for k in range(3):
                        site2 = (i + ((k-1)%2 - 1)) % N
                        priority[i*N+j][1] += sum([J[(i*N+j):, (site2*k%N+j-1)%N, :]]).sum()
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][spin] += state[i][j]
                priority_total = np.zeros((N,2), dtype=int)
                for j in range(N):
                    if h[i][j] > 0:
                        priority_total[j][0] = total_spin[j][0]
                    else:
                        priority_total[j][1] = -1*total_spin[j][0]
                for j in range(N):
                    if h[i][j] > 0:
                        priority[i*N+j][0] = priority_total[j][0]
                    else:
                        priority[i*N+j][1] = -priority_total[j][0]
        return priority


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[float('inf') for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site][0]
                    priority[i*N+j][1] = -float('inf')
                else:
                    priority[i*N+j][0] = -float('inf')
                    priority[i*N+j][1] = -total_spin[site][0]
                    
        return priority


#score: {'data2D.txt': -0.002099228395061728}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                total_spin = sum([site_spin + (-1)**((k-1)%2)*state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        
        return priority_total


#score: {'data2D.txt': -0.0016973765432098762}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
            if h[i][0] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
        
        for i in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priorities = [(total_spin, 1)]
            else:
                priorities = [(-total_spin, -1)]
        
        return priority_total


#score: {'data2D.txt': -0.06522577160493831}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site][0], 1))
                else:
                    priorities.append((-total_spin[site][0], -1))
        return priorities


#score: {'data2D.txt': -0.005123611111111112}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i + ((k-1)%2 - 1)) % N][j-k%N] * state[i][(j+((k-1)%2 - 1)) % N] for k in range(3)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total = [[0 for _ in range(2)] for _ in range(N*N)]
    for k in range(4):
        for i in range(N):
            site = (i + ((k-1)%2 - 1)) % N
            for j in range(N):
                if h[site][j] > 0:
                    total[i*N+j][0] += 1
                else:
                    total[i*N+j][0] -= 1
    priorities = []
    for i in range(N*N):
        priority_total = [total[i][0], -total[i][0]]
        if h[i//N][i%N] > 0:
            priorities.append(priority_total)
        else:
            priorities.append([-x for x in priority_total])
    return priorities


#score: {'data2D.txt': -0.014965586419753084}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for k in range(3):
            site = (k%2) % N
            for i in range(N):
                total_spin[site][0] += state[i][k]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total = [total_spin[(i+j)%N][0], -total_spin[(i+j)%N][0]]
                else:
                    priority_total = [-x for x in [total_spin[(i+j)%N][0], -total_spin[(i+j)%N][0]]]
                priorities.append(priority_total)
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total = np.zeros((N,N), dtype=int)
        for k in range(3):
            for i in range(N):
                site = (i + ((k-1)%2 - 1)) % N
                for j in range(N):
                    if h[site][j] > 0:
                        total[i][j] += 1
                    else:
                        total[i][j] -= 1
        priorities = []
        for i in range(N*N):
            if h[i//N][i%N] > 0:
                priorities.append([total[(i//N)][(i%N)], -total[(i//N)][(i%N)]])
            else:
                priorities.append([-x for x in [total[(i//N)][(i%N)], -total[(i//N)][(i%N)]]])
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for k in range(3):
            for i in range(N):
                site = (i + ((k-1)%2 - 1)) % N
                for j in range(N):
                    if h[i][j] > 0:
                        total_spin[i][j] += 1
                    else:
                        total_spin[i][j] -= 1
        priorities = []
        for i in range(N*N):
            priority_total = [total_spin[(i//N)][(i%N)], -total_spin[(i//N)][(i%N)]]
            if h[i//N][i%N] > 0:
                priorities.append(priority_total)
            else:
                priorities.append([-x for x in priority_total])
        return priorities


#score: {'data2D.txt': 0.010939660493827158}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][0] += h[site][j]
                total_spin[i*N+j][1] -= h[i][j]
        priority_total = [[float('inf') for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[site][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i*N+j][1] = -total_spin[i*N+j][1]
        return [[x for x in row] for row in priority_total]


#score: {'data2D.txt': 0.001082253086419753}
program:
def priority(N, h, J):
        total_spin = [0 for _ in range(N**2)]
        priority_total = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j]
                else:
                    priority_total[i*N+j][1] = -total_spin[i*N+j]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority_total[i][0] = priority_total[i][0]
            else:
                priority_total[i][1] = -priority_total[i][1]
        return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
        priority_total = [[float('inf') for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][0] += h[site][j]
                total_spin[i*N+j][1] += -h[site][j]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i*N+j][1] = -total_spin[i*N+j][0]
        return priority_total


#score: {'data2D.txt': -0.004868055555555555}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        
        for j in range(N):
            if h[0][j] > 0:
                priority_total[j][0] += sum(h[k][j] for k in range(1,N))
            else:
                priority_total[j][1] -= sum(h[k][j] for k in range(1,N))
        
        return priority_total


#score: {'data2D.txt': -0.0006180555555555562}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N, 2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site][0]
                else:
                    priority[i*N+j][1] = -total_spin[site][0]

        for j in range(N):
            if h[0][j] > 0:
                priority[j][0] += sum(h[k][j] for k in range(1,N))
            else:
                priority[j][1] -= sum(h[k][j] for k in range(1,N))

        return priority


#score: {'data2D.txt': -0.0006202160493827155}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] if k%2 == 0 else -state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0011856481481481481}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i+((k-1)%2 - 1)) % N][j] + state[i][(j+(k-1)%2 - 1)]%N for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] * (1 if state[i][j] == state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] else (-1)) for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        J_new = J.flatten()
        h_new = h.flatten()
        sum_1 = (np.prod(J_new[::2],0) + h_new).flatten()
        sum_2 = (np.prod(J_new[1::2],0)).flatten()
        priority = np.column_stack((sum_1 - sum_2, sum_1 + sum_2))
        return(priority)


#score: {'data2D.txt': -0.0007578703703703706}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[k][(i+((k-1)%2 - 1)) % N][j-k%N] if k%2 == 0 else -J[k][(i+((k-1)%2 - 1)) % N][j-k%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.09390879629629637}
program:
def priority(N, h, J):
        N2 = N*N
        priorities = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = [[0 for _ in range(2)] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin[site][0]
                else:
                    priorities[i*N+j][1] = -total_spin[site][0]
        for i in range(N):
            site = (i + ((N-1)%2 - 1)) % N
            total_sum = sum(h[k][i] for k in range(N))
            if h[i][j] > 0:
                priorities[i*N+j][0] = total_spin[site][0] + total_sum
            else:
                priorities[i*N+j][1] = -total_spin[site][0] - total_sum
        return [list(row) for row in priorities]


#score: {'data2D.txt': -0.0006202160493827155}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        for j in range(N):
            total_spin = sum([state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] if k%2 == 0 else -state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] for k in range(4)])
            if h[i][j] > 0:
                priorities.append((-total_spin, 1))
            else:
                priorities.append((total_spin, -1))
    return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0017121913580246911}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                total_spin = sum([site_spin + (-1)**((k-1)%2)*state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, 1))
        return sorted(priorities)


#score: {'data2D.txt': -0.0017121913580246911}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                total_spin = sum([site_spin + (-1)**((k-1)%2)*state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[x, 1-x] for x,_ in sorted(priorities)]


#score: {'data2D.txt': -0.0017779320987654317}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                total_spin = sum([site_spin + (-1)**((k-1)%2)*state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return sorted(priorities, reverse=True)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[i*k%N + min(k, N-1)][min(j+N-k%N,N-1)] if (k==j) or (k==(N-1)-abs(j-N)) else 0 for k in range(max(0,j-N+1))])
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                    priority[i*N+j][1] = -total_spin
                else:
                    priority[i*N+j][0] = -total_spin
                    priority[i*N+j][1] = total_spin
        return priority


#score: {'data2D.txt': -8.780864197530791e-05}
program:
def priority(N, h, J):
    priority = [[0.0 for _ in range(2)] for _ in range(N**2)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            spin = 1 if h[i][j] <= 0 else -1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][0] += spin
            priority_total = np.zeros((N,2), dtype=int)
            if h[i][j] > 0:
                priority_total[:, 0] = total_spin[:, 0]
            else:
                priority_total[:, 1] = -total_spin[:, 0]
            for j in range(N):
                priority[i*N+j][:] = priority_total[j]
    return priority


#score: {'data2D.txt': 0.33346743827160397}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
        
        return priority_total


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
        N_squared = N*N
        priorities = [[0 for _ in range(2)] for _ in range(N_squared)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                
                site = (i + ((j-1)%2 - 1)) % N
                
                total_spin += h[site][j]
                
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin
                else:
                    priorities[i*N+j][1] = -total_spin
        
        return priorities


#score: {'data2D.txt': -0.0320368827160494}
program:
def priority(N, h, J):
    priority_total = np.zeros((N,N,2), dtype=int)
    for i in range(N):
        total_spin = np.zeros(2)
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[0] += h[site][j]
            if h[i][j] > 0:
                priority_total[i,j,0] = total_spin[0]
            else:
                priority_total[i,j,1] = -total_spin[0]
    return priority_total.reshape(N*N,2)


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if k < j else row_sum[N-1-(j-k)%N] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [p for p in priorities]


#score: {'data2D.txt': -0.09538009259259264}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N**2)]
    total_spin = [0]*N
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[site] += h[i][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[site]
            else:
                priority_total[i*N+j][1] = -total_spin[site]
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        for j in range(N):
            priority_total[j, 0] = sum(priority_total[:, 0])
            if h[0][j] > 0:
                priority_total[j, 1] = -sum(priority_total[:, 1])
            else:
                priority_total[j, 1] = sum(priority_total[:, 1])
        return priority_total


#score: {'data2D.txt': -0.0003498456790123462}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site_interactions = []
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k-j+N < N and k-j-N >= 0:
                        site_interactions.append(J[site, j-k%N].flatten()[0])
                    else:
                        site_interactions.append(h[site][j])
                total_spin = sum(site_interactions)
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [(a,b) for a,b in sorted(priorities)]


#score: {'data2D.txt': 0.25798719135802445}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[(i+k)%N,(j-k)%N].flatten()[0] if k-j+N < N and k-j-N >= 0 else h[(i+k)%N,j-k%N] for k in range(3)])
                if h[i][j] > 0:
                    priorities.append((total_spin,1))
                else:
                    priorities.append((-total_spin,-1))
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    N2 = N*N
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%2 - 1)) % N
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((total_spin, -1))
    return [[x for x in y] for y in [list(pair) for pair in priorities]]


#score: {'data2D.txt': -0.0009214506172839503}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[k][(i+((k-1)%2 - 1)) % N][j-k%N] if k%2 == 0 else -J[k][(i+((k-1)%2 - 1)) % N][j-k%N] for k in range(4)])
                site = (i + ((3-1)%2 - 1)) % N
                total_magnetism = h[site][j]
                if h[i][j] > 0:
                    priorities.append((-total_spin-total_magnetism, 1))
                else:
                    priorities.append((total_spin+total_magnetism, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0011856481481481481}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for k in range(4):
            for i in range(N):
                site = (i + ((k-1)%2 - 1)) % N
                for j in range(N):
                    if h[i][j] > 0:
                        total_spin[site][0] += state[i][j]
                    else:
                        total_spin[site][1] += -state[i][j]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priorities.append((total_spin[i][0], 1))
                else:
                    priorities.append((-total_spin[i][1], -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0034520061728395062}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[0]
                else:
                    priority_total[i*N+j][1] = -total_spin[0]
        return priority_total


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = [[float('-inf'), float('inf')] for _ in range(N*N)]
        
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[0]
                else:
                    priority[i*N+j][1] = -total_spin[0]
        return priority


#score: {'data2D.txt': 0.0007044753086419755}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return [[a,b] for a,b in sorted(priorities)]


#score: {'data2D.txt': 0.009663734567901214}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.0015714506172839506}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []  
        for i in range(N):  
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]  
            for j in range(N):  
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))]) 
                if h[i][j] > 0:  
                    priorities.append((total_spin, 1))  
                else:  
                    priorities.append((total_spin, -1))  
        return [[p[1], p[0]] for p in sorted(priorities)]


#score: {'data2D.txt': -0.1792072530864197}
program:
def priority(N, h, J):
        priority_total = np.zeros((N**2,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        for j in range(N):
            site = (i + ((N-1)%2 - 1)) % N
            if h[i][site] > 0:
                priority_total[i*N+site][0] += sum([h[k][site] for k in range(N)])
            else:
                priority_total[i*N+site][1] -= sum([h[k][site] for k in range(N)])
        site = (N-1 + ((0)%2 - 1)) % N
        if h[site][j] > 0:
            priority_total[site][0] += sum([h[j][k] for k in range(N)])
        else:
            priority_total[site][1] -= sum([h[j][k] for k in range(N)])
        return priority_total


#score: {'data2D.txt': -0.05155447530864201}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i]
                else:
                    priority_total[i*N+j][1] = -total_spin[i]
        for i in range(N):
            site = (i + ((N-1)%2 - 1)) % N
            if h[i][site] > 0:
                priority_total[i*N+site][0] += sum([h[k][site] for k in range(N)])
            else:
                priority_total[i*N+site][1] -= sum([h[k][site] for k in range(N)])
        site = (N-1 + ((0)%2 - 1)) % N
        if h[site][j] > 0:
            priority_total[site][0] += sum([h[j][k] for k in range(N)])
        else:
            priority_total[site][1] -= sum([h[j][k] for k in range(N)])
        return priority_total


#score: {'data2D.txt': -0.1748381172839508}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
        priorities = []
        for i in range(N*N):
            if h[i//N][i%N] > 0:
                priorities.append((total_spin[i//N][0], 1))
            else:
                priorities.append((-total_spin[i//N][0], -1))
        return priorities


#score: {'data2D.txt': 0.01271496913580247}
program:
def priority(N, h, J):
        total_priority = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site_spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_priority[i*N+j][0] += site_spin * J[k][site][j]
        return total_priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = np.zeros((N**2,2))
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[(i*N+j), 0] = total_spin
                else:
                    priority[(i*N+j), 1] = -total_spin
        return priority.astype(int)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum1 = (np.prod(J_new[0::2], 0) + h).flatten()
        sum2 = (-np.prod(J_new[1::2], 0) - h).flatten()
        priority = np.column_stack((sum1, -sum2))
        return priority


#score: {'data2D.txt': 0.15037762345679034}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[k][(i+((k-1)%2 - 1)) % N][j-k%N] if k%2 == 0 else -J[k][(i+((k-1)%2 - 1)) % N][j-k%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin, 1]
                else:
                    priorities[i*N+j] = [-total_spin, -1]
        return priorities


#score: {'data2D.txt': 0.017051080246913583}
program:
def priority(N, h, J):
        J = J.reshape(4,N*N)
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[k][i*N+j]
                if h[i][j] > 0:
                    priority.append((total_spin, h[i][j]))
                else:
                    priority.append((-total_spin, -h[i][j]))
        return priority


#score: {'data2D.txt': 0.0009464506172839509}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[k][(i+((k-1)%2 - 1)) % N][j-k%N] if k%2 == 0 else -J[k][(i+((k-1)%2 - 1)) % N][j-k%N] for k in range(4)])
                total_magnetism = h[i][j]
                if h[i][j] > 0:
                    priorities.append((-total_spin-total_magnetism, 1))
                else:
                    priorities.append((total_spin+total_magnetism, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0008060185185185185}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.00132854938271605}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site_spin = -1 if h[i][j] > 0 else 1
                total_spin = sum([J[k][(i+((k-1)%2 - 1)) % N][j-k%N] if k%2 == 0 else -J[k][(i+((k-1)%2 - 1)) % N][j-k%N] for k in range(4)])
                total_magnetism = h[i][j]
                if site_spin > 0:
                    priorities.append((-total_spin-total_magnetism, 1))
                else:
                    priorities.append((total_spin+total_magnetism, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': 0.008696141975308642}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[j*N+i, 0] = total_spin
                else:
                    priority_total[j*N+i, 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': -0.0009183641975308645}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return [[x[1],-x[0]] for x in sorted(priorities,reverse=True)]


#score: {'data2D.txt': -0.33347391975308543}
program:
def priority(N, h, J):
    priority = [[0 for _ in range(2)] for _ in range(N**2)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][spin] += spin
            priority_total = np.zeros((N,2), dtype=int)
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[j][0]
                else:
                    priority_total[j][1] = -1*total_spin[j][0]
            for j in range(N):
                if h[i][j] > 0:
                    priority[i*N+j][0] = np.sum(total_spin[:,0])
                    priority[i*N+j][1] = -np.sum(total_spin[:,1])
                else:
                    priority[i*N+j][0] = -np.sum(total_spin[:,0])
                    priority[i*N+j][1] = np.sum(total_spin[:,1])
    return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            total_spin = sum([J[i*k%N + min(k, N-1)][min(j+N-k%N,N-1)] if (k==j) or (k==(N-1)-abs(j-N)) else 0 for k in range(max(0,j-N+1))])
            if h[i][j] > 0:
                priority[i*N+j][0] = total_spin
                priority[i*N+j][1] = -total_spin
            else:
                priority[i*N+j][0] = -total_spin
                priority[i*N+j][1] = total_spin
    return priority


#score: {'data2D.txt': -0.0006692901234567905}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N) - N//2) % N
                total_spin[site] += state[i][j]
        for j in range(N*N):
            if h[j//N][j%N] > 0:
                priority_total[j][0] = total_spin[j//N]
            else:
                priority_total[j][1] = -total_spin[j//N]
        return priority_total


#score: {'data2D.txt': -0.20015447530864225}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = [0]*N2
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j] += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j] = [total_spin[i*N+j], 0]
                else:
                    priority[i*N+j] = [-total_spin[i*N+j], 1]
        return priority


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][0] += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j] = [total_spin[i][0], 0]
                else:
                    priority[i*N+j] = [-total_spin[i][0], 1]
        return priority


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
          row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
          for j in range(N):
              total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
              if h[i][j] > 0:
                  priorities.append((total_spin, 1))
              else:
                  priorities.append((total_spin, -1))
      return priorities


#score: {'data2D.txt': -0.25167268518518493}
program:
def priority(N, h, J):
        J = J.reshape(4,N*N)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for k in range(3):
            for i in range(N):
                site = (i + ((k-1)%2 - 1)) % N
                for j in range(N):
                    total_spin[site][0] += state[i][j]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority = (total_spin[i][0], h[i][j])
                else:
                    priority = (-total_spin[i][0], -h[i][j])
                priorities.append(priority)
        return priorities


#score: {'data2D.txt': -0.024777314814814815}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for k in range(3):
            for i in range(N):
                for j in range(N):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[i][j] > 0:
                        total_spin[site][0] += 1
                    else:
                        total_spin[site][0] -= 1
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[(i + ((k-1)%2 - 1)) % N][0]
                else:
                    priority_total[i*N+j][1] = -total_spin[(i + ((k-1)%2 - 1)) % N][0]
        return priority_total.tolist()


#score: {'data2D.txt': -0.0008828703703703702}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
        priorities = []
        for j in range(N):
            for i in range(N):
                if h[i][j] > 0:
                    priority_total = np.zeros((2), dtype=int)
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[site][0] += 1 if h[i][j] > 0 else -1
                    priorities.append((-total_spin.sum(), 1) if total_spin.sum() < 0 else (-total_spin.sum(), -1))
                else:
                    priority_total = np.zeros((2), dtype=int)
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[site][0] += 1 if h[i][j] > 0 else -1
                    priorities.append((-total_spin.sum(), -1) if total_spin.sum() < 0 else (-total_spin.sum(), 1))
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                total_spin = sum([site_spin + (-1)**((k-1)%2)*state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities[i*N+j, 0] = -total_spin
                    priorities[i*N+j, 1] = total_spin
                else:
                    priorities[i*N+j, 0] = total_spin
                    priorities[i*N+j, 1] = -total_spin
        return priorities.tolist()


#score: {'data2D.txt': -0.0003464506172839503}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((0)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
        priority_total = []
        for i in range(N):
            priorities = []
            for j in range(N):
                if h[i][j] > 0:
                    priorities.append((-total_spin[i][0], 1))
                else:
                    priorities.append((total_spin[i][0], -1))
            priority_total.extend(priorities)
        return [[x, 1-x] for x,_ in sorted(priority_total)]


#score: {'data2D.txt': -0.0005214506172839501}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((2-j)%2 - 1)) % N
                total_spin[site][j] += h[i][j]
        priority_total = []
        for j in range(N):
            for i in range(N):
                if h[i][j] > 0:
                    priority_total.append((-total_spin[i][j], 1))
                else:
                    priority_total.append((total_spin[i][j], -1))
        return [list(x) for x in sorted(priority_total)]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    site = (i + ((1)%2) - 1) % N
                    total_spin[site][j] += 1
                else:
                    site = (i + ((0)%2) - 1) % N
                    total_spin[site][j] -= 1
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin.sum(), 1]
                else:
                    priorities[i*N+j] = [-total_spin.sum(), -1]
        return priorities


#score: {'data2D.txt': 0.0009464506172839509}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        for j in range(N):
            total_spin = sum([J[k][(i+((k-1)%2 - 1)) % N][j-k%N] if k%2 == 0 else -J[k][(i+((k-1)%2 - 1)) % N][j-k%N] for k in range(4)])
            total_magnetism = h[i][j]
            if h[i][j] > 0:
                priorities.append((-total_spin-total_magnetism, 1))
            else:
                priorities.append((total_spin+total_magnetism, -1))
    return sorted(priorities)[:N*N]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        return priority_total


#score: {'data2D.txt': 0.16911280864197556}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N**2, 2), dtype=int)
        priority_total = np.zeros((N**2, 2), dtype=float)
        
        for i in range(N):
            for j in range(N):
                site_sum = sum([state[(i+((k-1)%2)-1)%N][j-k%N] for k in range(3)])
                total_spin[i*N+j] += [site_sum, -site_sum]
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin[i*N+j][0], 0]
                else:
                    priority_total[i*N+j] = [-total_spin[i*N+j][1], 0]
        
        return priority_total.tolist()


#score: {'data2D.txt': 0.0336807098765432}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                else:
                    priority[i*N+j][1] = -sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        return priority


#score: {'data2D.txt': -0.09667175925925932}
program:
def priority(N, h, J):
    priority = [[0 for _ in range(2)] for _ in range(N*N)]
    total_spin = [0 for _ in range(N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site] += h[i][j]
            if h[i][j] > 0:
                priority[i*N+j][0] = total_spin[site]
            else:
                priority[i*N+j][1] = -total_spin[site]
    return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, 1))
                else:
                    priority.append((-total_spin, -1))
        return priority


#score: {'data2D.txt': 0.0008711419753086423}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin_1 = 0
                total_spin_2 = 0
                
                site1 = (i + ((j-1)%N - 1)) % N
                total_spin_1 += state[site1][j]
                
                if i > 0:
                    site2 = (i - 1 + ((j-1)%N - 1)) % N
                    total_spin_2 += state[site2][j]
                else:
                    site2 = (i + ((j-1)%N - 1)) % N
                    total_spin_2 += state[site2][j]

                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin_1
                    priority_total[i*N+j][1] = total_spin_2
                else:
                    priority_total[i*N+j][0] = -total_spin_1
                    priority_total[i*N+j][1] = -total_spin_2
                    
        return priority_total


#score: {'data2D.txt': -0.0007470679012345674}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    total_spin = [0]*N
    for i in range(N):
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site] += spin
            priority_total[j*N+i, 0] = total_spin[0]
            priority_total[j*N+i, 1] = -total_spin[0]
    for j in range(N):
        if h[0][j] > 0:
            priority_total[j, 0] = total_spin[0]
        else:
            priority_total[j, 1] = -total_spin[0]
    return priority_total.tolist()


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = [[float('-inf') for _ in range(2)] for i in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
                    
        return [list(x) for x in priority]


#score: {'data2D.txt': -0.00123287037037037}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += -1 if h[i][j] > 0 else 1
        priority_total = [[0,0] for _ in range(N**2)]
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -1*total_spin[j][0]
        return priority_total


#score: {'data2D.txt': 0.007417746913580248}
program:
def priority(N, h, J):
    priorities = [[0,0] for _ in range(N**2)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j%2) - 1)) % N
            total_spin[site][0] += h[i][j]
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][0] += -1 if h[i][j] > 0 else 1
    for i in range(N**2):
        if h[i//N][i%N] > 0:
            priorities[i][0] = total_spin[i//N][0]
        else:
            priorities[i][1] = -1*total_spin[i//N][0]
    return priorities


#score: {'data2D.txt': 0.3286859567901225}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            total_spin = [[0,0]*N for _ in range(N)]
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][site] += state[i][j]
            for j in range(N):
                if h[i][j] > 0:
                    priorities.append((total_spin[i][j], 1))
                else:
                    priorities.append((total_spin[i][j], -1))
        return priorities


#score: {'data2D.txt': 0.12278935185185201}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0]*N
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site], 1))
                else:
                    priorities.append((total_spin[site], -1))
        return priorities


#score: {'data2D.txt': -0.20612422839506192}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if h[i][j] > 0 else -row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[i[1], 0-i[0]] for i in priorities]


#score: {'data2D.txt': 0.3340680555555546}
program:
def priority(N, h, J):
    priority = []
    for i in range(N):
        row_sum = [0 if j == N//2 else sum(J[j*N:(j+1)*N][:i*N+j].sum() for k in range(4)) for j in range(N)]
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                if h[site][j] > 0:
                    total_spin += J[j*N:(j+1)*N][:i*N+j].sum()
                else:
                    total_spin -= J[j*N:(j+1)*N][:i*N+j].sum()
            if h[i][j] > 0:
                priority.append((total_spin, 1))
            else:
                priority.append((-total_spin, -1))
    return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = np.zeros((N,N,2), dtype=int)
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][j] += h[site][0]
                if h[i][j] > 0:
                    priority_total[i][j][0] = total_spin[i][j]
                else:
                    priority_total[i][j][1] = -total_spin[i][j]
        return priority_total.reshape(N*N,2).tolist()


#score: {'data2D.txt': 8.132716049382671e-05}
program:
def priority(N, h, J):
        J_flat = J.reshape(4*N**2)
        priority = np.zeros((N**2,2))
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J_flat[(site*N+j)*4:(site*N+j)*4+1].sum()
                if h[i][j] > 0:
                    priority[(i*N+j), 0] = total_spin
                else:
                    priority[(i*N+j), 1] = -total_spin
        return priority


#score: {'data2D.txt': -0.031488425925925934}
program:
def priority(N, h, J):
        J = J.reshape(4,N*N)
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((0)%2 - 1)) % N
                total_spin = J[0][i*N+j]
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin, h[i][j]]
                else:
                    priority_total[i*N+j] = [-total_spin, -h[i][j]]
        return priority_total


#score: {'data2D.txt': 0.026356018518518518}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if (i+j) % 2 ==0 else -row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        
        return priority_total.tolist()


#score: {'data2D.txt': 0.16115385802469093}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin[j] += state[i][j]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            if h[i][0] > 0:
                priority_total[i*N, 0] = total_spin.sum()
            else:
                priority_total[i*N, 1] = -total_spin.sum()
            for j in range(1,N):
                site = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] += state[site][j]
                else:
                    priority_total[(i*N+j), 1] -= state[site][j]
        return priority_total.tolist()


#score: {'data2D.txt': -0.0021584876543209877}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [x for x in sorted(priorities)]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site_neighbors = [(i + ((k-1)%2 - 1)) % N for k in range(3)]
                for k in range(3):
                    if h[site_neighbors[k]][j] > 0:
                        total_spin += state[site_neighbors[k]][j]
                    else:
                        total_spin -= state[site_neighbors[k]][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        
        return priority_total


#score: {'data2D.txt': -0.000583796296296295}
program:
def priority(N, h, J):
      J_flat = J.reshape((4*N**2,))
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
          total_spin = 0
          for j in range(N):
              for k in range(4):
                  site = (i + ((k-1)%2 - 1)) % N
                  total_spin += J_flat[(site*N+3-j)%N::].sum()
              if h[i][j] > 0:
                  priorities.append([(total_spin, 1)])
              else:
                  priorities.append([(-total_spin, -1)])
      return [i[0] for i in priorities]


#score: {'data2D.txt': 0.11460447530864211}
program:
def priority(N, h, J):
        J_flat = J.reshape(4*N**2)
        priority = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J_flat[(site*N+j)*4:(site*N+j)*4+1].sum()
                if h[i][j] > 0:
                    priority[i*N+j] = [total_spin, 1]
                else:
                    priority[i*N+j] = [-total_spin, -1]
        return priority


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [state[(i + ((k-1)%2 - 1)) % N][j] if k%2==1 else state[i][(j + ((k-1)%2 - 1)) % N] for k in range(4)]
                total_spin_sum = sum(total_spin)
                if h[i][j] > 0:
                    priorities.append((total_spin_sum, 1))
                else:
                    priorities.append((-total_spin_sum, -1))
        return [[x[0], x[1]] for x in priorities]


#score: {'data2D.txt': -0.02664151234567902}
program:
def priority(N, h, J):
    priority = [[0, 0] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin = sum(h[site][k] for k in range(N))
            if h[i][j] > 0:
                priority[i*N+j][0] = total_spin
            else:
                priority[i*N+j][1] = -total_spin
    return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    priority[(i*N+j), 0] = total_spin
                else:
                    priority[(i*N+j), 1] = -total_spin
        return priority


#score: {'data2D.txt': -0.0018192901234567898}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                total_spin_sum = 0
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin_sum += site_spin * state[site][max(0,j-k)%N]
                if h[i][j] > 0:
                    priorities.append((total_spin_sum, 1))
                else:
                    priorities.append((-total_spin_sum, -1))
        return sorted(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = np.zeros((N**2, 2))
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[site][j] > 0:
                        total_spin += 1
                    else:
                        total_spin -= 1
                if h[i][j] > 0:
                    priority[i*N+j] = [total_spin, 1]
                else:
                    priority[i*N+j] = [-total_spin, -1]
        return priority


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return priority


#score: {'data2D.txt': -0.00021219135802469157}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    total_spin = [0]*N
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N) - N//2) % N
            total_spin[site] += state[i][j]
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                priority_total[(i*N+j),0] = total_spin[site]
            else:
                priority_total[(i*N+j),1] = -total_spin[site]
    return priority_total


#score: {'data2D.txt': -0.003907870370370373}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_list = []
        
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i+((k-1)%2 - 1)) % N][max(0, min(j+k,N)-1)] * state[i][j-k%N] 
                                  for k in range(max(0, j-N), min(j+N, 2*N)+1)])
                if h[i][j] > 0:
                    priority_list.append((total_spin, 1))
                else:
                    priority_list.append((-total_spin, -1))
        
        return priority_list


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site_neighbors = [(i + ((k-1)%2 - 1)) % N for k in range(3)]
                for k in range(3):
                    if h[site_neighbors[k]][j] > 0:
                        total_spin += state[site_neighbors[k]][j]
                    else:
                        total_spin -= state[site_neighbors[k]][j]
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin, 0]
                else:
                    priority_total[i*N+j] = [-total_spin, 1]
        
        return priority_total


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site_neighbors = [(i + ((k-1)%2 - 1)) % N for k in range(4)] 
                for k in range(4): 
                    if h[site_neighbors[k]][j] > 0:
                        total_spin += state[site_neighbors[k]][j]
                    else:
                        total_spin -= state[site_neighbors[k]][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        
        return priority_total


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = [[0,0] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site_neighbors = [(i + ((k-1)%2 - 1)) % N for k in range(4)]
                for k in range(4):
                    if h[site_neighbors[k]][j] > 0:
                        total_spin += state[site_neighbors[k]][j]
                    else:
                        total_spin -= state[site_neighbors[k]][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin
                else:
                    priorities[i*N+j][1] = -total_spin
        
        return priorities


#score: {'data2D.txt': -0.0009220679012345682}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site_sum = sum([state[k][(i+j)%N] for k in range(N) if k != i])
                priority_total = site_sum + h[i][j]
                if h[i][j] > 0:
                    priorities.append((priority_total, -1))
                else:
                    priorities.append((-priority_total, 1))
        return [[x,y] for x,y in sorted(priorities)]


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
    return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][j] += h[i][j]
        priority_total = np.zeros((N,N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i][j] = (total_spin[i][j], 1)
                else:
                    priority_total[i][j] = (-total_spin[i][j], -1)
        return priority_total.reshape((N*N,2)).tolist()


#score: {'data2D.txt': -0.17949922839506163}
program:
def priority(N, h, J):
        priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[(i*N+j), 0] = total_spin
                else:
                    priority[(i*N+j), 1] = -total_spin
        return priority.tolist()


#score: {'data2D.txt': -0.0006507716049382719}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[a[0], a[1]] for a in sorted(priorities)]


#score: {'data2D.txt': 0.16438472222222242}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return priorities


#score: {'data2D.txt': -0.005123611111111112}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N, 2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i + ((k-1)%2 - 1)) % N][j-k%N] * state[i][(j+((k-1)%2 - 1)) % N] for k in range(3)])
                if h[i][j] > 0:
                    priorities[i*N+j, 0] = total_spin
                    priorities[i*N+j, 1] = 1
                else:
                    priorities[i*N+j, 0] = -total_spin
                    priorities[i*N+j, 1] = -1
        return priorities.tolist()


#score: {'data2D.txt': -0.0009708333333333332}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if k%2 == 0 else -row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0008381172839506171}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = sum([J[k][site][j-k%N] if k%2 == 0 else -J[k][site][j-k%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.001272993827160494}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += 1 if h[i][j] > 0 else -1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += 1 if h[site][j] > 0 else -1
        priorities = []
        for i in range(N*N):
            if h[i//N][i%N] > 0:
                priorities.append((-total_spin[i//N][0], 1))
            else:
                priorities.append((total_spin[i//N][0], -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0006507716049382719}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0011856481481481481}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i+((k-1)%2 - 1)) % N][j] + state[i][(j+(k-1)%2 - 1)]%N for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0022162037037037033}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                
                if h[i][j] > 0:
                    priority_total = -total_spin
                else:
                    priority_total = total_spin
                
                priorities.append((priority_total, -1))
        return [row for row in priorities]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,N), dtype=int)
        priorities = []
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][j] += h[site][j]
                
                if h[i][j] > 0:
                    priority_total = -total_spin[i].sum()
                else:
                    priority_total = total_spin[i].sum()
                    
                priorities.append((priority_total, -1))
        return np.array(priorities).reshape(N*N,2)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,N), dtype=int)
        priorities = []
        
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][j] += h[site][j]
                
                if h[i][j] > 0:
                    priority_total = -total_spin[i].sum()
                else:
                    priority_total = total_spin[i].sum()
                    
                priorities.append((priority_total, 1))
        return np.array(priorities).reshape(N*N,2)


#score: {'data2D.txt': 0.010818672839506174}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            total_spin = [0]*N
            for j in range(N):
                site = (i + ((j-1)%N) - N//2) % N
                total_spin[site] += state[i][j]
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin[j]
                else:
                    priority_total[(i*N+j), 1] = -total_spin[j]
        return priority_total


#score: {'data2D.txt': 0.00902361111111111}
program:
def priority(N, h, J):
    total_priority = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site_spin = -1 if h[i][j] > 0 else 1
            for k in range(4):
                site = (i + ((k-1)%2 - 1)) % N
                total_priority[i*N+j][0] += site_spin * J[k%4][site][min((j+k)%N,N-1)]
    return total_priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=float)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j, 0] = total_spin
            else:
                priority_total[i*N+j, 1] = -total_spin
    return priority_total.tolist()


#score: {'data2D.txt': 0.2313328703703704}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site_sum = sum([state[(i+((k-1)%2)-1)%N][j-k%N] for k in range(3)])
            total_spin[i*N+j][0] += site_sum
            if h[i][j] > 0:
                total_spin[i*N+j][1] = -total_spin[i*N+j][0]
            else:
                total_spin[i*N+j][1] = total_spin[i*N+j][0]
    return [list(i) for i in total_spin]


#score: {'data2D.txt': -0.0006507716049382719}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [x for x in sorted(priorities)]


#score: {'data2D.txt': -0.0009816358024691359}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [x for x in sorted(priorities)]


#score: {'data2D.txt': 1.6820987654320997e-05}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0,0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return [[x[1],-x[0]] for x in sorted(priorities,reverse=True)]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if 0 <= k-j <= N-1 else 0 for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.14871250000000028}
program:
def priority(N, h, J):
        J = J.reshape(4,N*N)
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[k][i*N+j]
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.0004084876543209872}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for k in range(3):
            for i in range(N):
                site = (i + ((k-1)%2 - 1)) % N
                for j in range(N):
                    total_spin[site][0] += state[i][j]
        for i in range(N*N):
            if h[i//N][i%N] > 0:
                priorities.append((total_spin[i//N][0], 1))
            else:
                priorities.append((-total_spin[i//N][0], -1))
        return [[x[1],-x[0]] for x in sorted(priorities,reverse=True)]


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priorities.append([total_spin, 1])
            else:
                priorities.append([-total_spin, -1])
    return(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        prior = np.zeros((N*N,2),dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    prior[i*N+j,0] = total_spin
                else:
                    prior[i*N+j,1] = -total_spin
        return prior


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N) // N * N + (j+1)%N) % N
                total_spin[i][j] += h[site][0]
                priorities[(i*N+j), 1] = total_spin[i][j]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N) // N * N + (j+1)%N) % N
                if h[site][0] > 0:
                    priorities[(i*N+j), 0] = total_spin[i][j]
                else:
                    priorities[(i*N+j), 1] = -total_spin[i][j]
        return priorities


#score: {'data2D.txt': -0.0006507716049382719}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((total_spin, -1))
    return sorted(priorities)


#score: {'data2D.txt': 0.008250462962962963}
program:
def priority(N, h, J):
        spin = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        total_spin = [0]*N
        for i in range(N):
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site] += spin[i][site]
            if h[i][site] > 0:
                priority_total[(i*N+site), 0] = total_spin[site]
            else:
                priority_total[(i*N+site), 1] = -total_spin[site]
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]  
        total_spin = [[0,0] for _ in range(N**2)]  
        for i in range(N):  
            for j in range(N):  
                site = (i + ((j-1)%N - 1)) % N 
                for k in range(3):  
                    neighbor_site = (site + ((k-1)%2 - 1)) % N 
                    total_spin[i*N+j][0] += state[neighbor_site][j]%2  
        return total_spin


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = [[0 for _ in range(2)] for _ in range(N*N)]
    
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priorities[i*N+j] = [total_spin, 1]
            else:
                priorities[i*N+j] = [-total_spin, -1]
    return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities[(i*N+j), 0] = total_spin
                else:
                    priorities[(i*N+j), 1] = -total_spin
        return priorities


#score: {'data2D.txt': 0.0042192901234567905}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][j] += site_spin * state[min(i+1,N-1)][max(j-k%N,0)]
                if h[i][j] > 0:
                    priorities[(i*N+j),0] = np.sum(total_spin)
                else:
                    priorities[(i*N+j),1] = -np.sum(total_spin)
        return priorities.tolist()


#score: {'data2D.txt': -0.0010032407407407412}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin_sum = 0
            for k in range(4):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][j] += state[i][j]
            if h[i][j] > 0:
                priorities.append((-total_spin.sum(), 1))
            else:
                priorities.append((total_spin.sum(), -1))
    return sorted(priorities)


#score: {'data2D.txt': 0.00438070987654321}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                total_spin[1] -= h[site][j]
            if h[i][0] > 0:
                priority_total[i*N+0][0] = total_spin[0]
                priority_total[i*N+0][1] = -total_spin[1]
            else:
                priority_total[i*N+N-1][0] = -total_spin[0]
                priority_total[i*N+N-1][1] = total_spin[1]
        for j in range(N):
            for i in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority_total[j*N+i][0] += state[site][j]
                    priority_total[j*N+i][1] -= state[site][j]
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N**2)]
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += h[i][j]
        for j in range(N):
            if h[i][j] > 0:
                priority[j][0] = total_spin[j][0]
            else:
                priority[j][1] = -1*total_spin[j][0]
        return priority


#score: {'data2D.txt': -0.3284013888888879}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += site_spin
                if h[i][j] > 0:
                    priorities.append((np.sum(total_spin), 1))
                else:
                    priorities.append((-np.sum(total_spin), -1))
        return priorities


#score: {'data2D.txt': 0.048527623456790125}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site_spin = -1 if h[i][j] > 0 else 1
                total_spin = sum([site_spin * state[(i + ((k-1)%2 - 1)) % N][j-k%N] for k in range(3)])
                priorities.append((total_spin, 1))
        return priorities


#score: {'data2D.txt': -0.0013526234567901225}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                site1 = (i + ((j-1)%2 - 1)) % N
                site2 = (i + ((j+1)%2 - 1)) % N
                site3 = (i + ((i-1)%N - 1)) % N
                site4 = (i + ((i+1)%N - 1)) % N
                
                total_spin = h[site1][j] + h[site2][j] + h[site3][i] + h[site4][i]
                
                if h[i][j] > 0:
                    priority_total = -total_spin
                else:
                    priority_total = total_spin
                    
                priorities.append((priority_total, -1))
        
        return np.array(priorities).reshape(N*N,2)


#score: {'data2D.txt': 0.23138132716049378}
program:
def priority(N, h, J):
        N2 = N*N
        total_spin = [[0 for _ in range(2)] for _ in range(N2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                state = -1 if h[site][j] > 0 else 1
                total_spin[i*N+j][state==1] += 1
        priority_total = [[0 for _ in range(2)] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i][1] = -total_spin[i*N+j][0]
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority[i*N+j] = [-x for x in priority_total[j]]
                else:
                    priority[i*N+j] = [x for x in priority_total[j]]
        return priority


#score: {'data2D.txt': 0.06969429012345683}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = [state[site][k] for k in range(3)]
                if h[i][j] > 0:
                    priorities.append((sum(total_spin), 1))
                else:
                    priorities.append((-sum(total_spin), -1))
        return [[x for x in row] for row in priorities]


#score: {'data2D.txt': 0.008205709876543212}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = [0]*N
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site], 1))
                else:
                    priorities.append((-total_spin[site], -1))
        return priorities


#score: {'data2D.txt': 0.04972947530864199}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                site1 = (i + ((j-1)%2 - 1)) % N
                total_spin = sum([row_sum[k] * state[site1][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.0016124999999999998}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    
    for i in range(N):
        total_spin = 0
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin += h[site][j]
        if h[i][0] > 0:
            priority_total[i*N+j][0] = total_spin
        else:
            priority_total[i*N+j][1] = -total_spin
        
        for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin += state[site][j]
            if h[i][0] > 0:
                priority_total[i*N+j][0] += total_spin
            else:
                priority_total[i*N+j][1] -= total_spin
    
    for j in range(N):
        if h[i][j] > 0:
            priority_total[j][0] = priority_total[i*N+j][0]
        else:
            priority_total[j][1] = -priority_total[i*N+j][0]
    
    return priority_total


#score: {'data2D.txt': -0.004106635802469135}
program:
def priority(N, h, J):
    N2 = N*N
    priority_total = np.zeros((N2,2), dtype=int)
    
    for i in range(N):
        total_spin = [0,0]
        for j in range(N):
            site1 = (i + ((j-1)%N - 1)) % N
            total_spin[0] += h[site1][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[0]
            else:
                priority_total[i*N+j][1] = -total_spin[0]
            
            site2 = (i + ((N-1-j)%N - 1)) % N
            total_spin[1] += h[site2][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] += total_spin[1]
            else:
                priority_total[i*N+j][1] -= total_spin[1]
    
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
        total_spin = np.zeros(2, dtype=int)
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[0] += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j, 0] = total_spin[0]
            else:
                priority_total[i*N+j, 1] = -total_spin[0]
    return priority_total.tolist()


#score: {'data2D.txt': -0.007382561728395061}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[i][0] += h[site][j]
        if h[site][j] > 0:
          priority[i*N+j] = [total_spin[i][0], 0]
        else:
          priority[i*N+j] = [-total_spin[i][0], 1]
    return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority_list = [[0.0 for _ in range(2)] for _ in range(N**2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority_list[i*N+j][:] = [total_spin[site][0], 1]
                else:
                    priority_list[i*N+j][:] = [-total_spin[site][0], -1]
        return priority_list


#score: {'data2D.txt': -0.05155447530864201}
program:
def priority(N, h, J):
    priority_list = [[0,0] for _ in range(N**2)]
    total_spins = [0]*N
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spins[i] += h[site][j]
            if h[i][j] > 0:
                priority_list[i*N+j][0] = total_spins[i]
            else:
                priority_list[i*N+j][1] = -total_spins[i]
    for i in range(N):
        site = (i + ((N-1)%2 - 1)) % N
        if h[i][site] > 0:
            priority_list[i*N+site][0] += sum([h[k][site] for k in range(N)])
        else:
            priority_list[i*N+site][1] -= sum([h[k][site] for k in range(N)])
    site = (N-1 + ((0)%2 - 1)) % N
    if h[site][j] > 0:
        priority_list[site][0] += sum([h[j][k] for k in range(N)])
    else:
        priority_list[site][1] -= sum([h[j][k] for k in range(N)])
    return priority_list


#score: {'data2D.txt': -0.0005060185185185183}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            spin = 1 if h[i][j] > 0 else -1
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][spin==1] += 1
    priority_total = np.zeros((N,2), dtype=int)
    for j in range(N):
        if h[i][j] > 0:
            priority_total[j][0] = total_spin[j][0]
        else:
            priority_total[j][1] = -total_spin[j][0]
    for i in range(N):
        for j in range(N):
            if spin == 1:
                priority[i*N+j] = [-x for x in priority_total[j]]
            else:
                priority[i*N+j] = [x for x in priority_total[j]]
    return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority[(i*N+j),0] = total_spin
                else:
                    priority[(i*N+j),1] = -total_spin
        return priority.tolist()


#score: {'data2D.txt': -0.0021128086419753087}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][spin==1] += 1
    priority_total = np.zeros((N,2), dtype=int)
    for j in range(N):
        if h[i][j] > 0:
            priority_total[j][0] = total_spin[j][0]
        else:
            priority_total[j][1] = -total_spin[j][0]
    for i in range(N):
        for j in range(N):
            if spin == 1:
                priority[i*N+j] = [-x for x in priority_total[j]]
            else:
                priority[i*N+j] = [x for x in priority_total[j]]
    return priority


#score: {'data2D.txt': -0.0006507716049382719}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_list = []
        
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priority_list.append((total_spin, 1))
                else:
                    priority_list.append((total_spin, -1))
        
        return sorted(priority_list)


#score: {'data2D.txt': -0.00041805555555555574}
program:
def priority(N, h, J):
        N_square = N * N
        priority_list = []
        for i in range(N):
            row_sum = sum(h[i])
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority_list.append((total_spin[0], 1))
                else:
                    priority_list.append((-total_spin[0], -1))
        return sorted(priority_list)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j, 0] = total_spin
                else:
                    priority[i*N+j, 1] = -total_spin
        return priority.tolist()


#score: {'data2D.txt': -0.004206944444444445}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[0]
                else:
                    priority_total[i*N+j][1] = -total_spin[0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[1] += state[site][j]
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[1]
                else:
                    priority_total[j][1] = -total_spin[1]
        return priority_total


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_list = []
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priority_list.append((total_spin, 1))
            else:
                priority_list.append((-total_spin, -1))
    return [priority_list[i*N+j] for i in range(N) for j in range(N)]


#score: {'data2D.txt': -0.0014581790123456796}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N**2,2), dtype=int)
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += state[site][j]*h[i][j]
            if h[i][0] > 0:
                priority_total[i*N: (i+1)*N,0] = total_spin[0]
            else:
                priority_total[i*N:(i+1)*N,1] = -total_spin[0]
        for i in range(N):
            total_spin = [0,0]
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[0] += state[site][i]
            if h[i][i] > 0:
                priority_total[i*N+i,0] = total_spin[0]
            else:
                priority_total[i*N+i,1] = -total_spin[0]
        return priority_total


#score: {'data2D.txt': -0.0014702160493827163}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0]*N**2
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N) // N) % N
                total_spin[j] += state[site][j]
        for j in range(N**2):
            if h[j//N][j%N] > 0:
                priorities.append((total_spin[j], 1))
            else:
                priorities.append((total_spin[j], -1))
        return [[priority[0], priority[1]] for priority in sorted(priorities, reverse=True)]


#score: {'data2D.txt': -0.0021128086419753087}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][spin==1] += 1
        priority_total = np.zeros((N,2), dtype=int)
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -total_spin[j][0]
        for i in range(N):
            for j in range(N):
                if spin == 1:
                    priority[i*N+j] = [-x for x in priority_total[j]]
                else:
                    priority[i*N+j] = [x for x in priority_total[j]]
        return priority


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][spin==1] += 1
        priority_total = np.zeros((N,2), dtype=int)
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -total_spin[j][0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority[i*N+j] = [x+total_spin[site][1] for x in priority_total[j]]
                else:
                    priority[i*N+j] = [-x-total_spin[site][0] for x in priority_total[j]]
        return priority


#score: {'data2D.txt': 0.0022603395061728407}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = [[float('inf'), float('-inf')] for _ in range(N2)]
        total_spin = [0,0]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    spin = 1
                else:
                    spin = -1
                site = (i + ((j-1)%N - 1)) % N
                total_spin[spin] += state[i][j]
                priority[i*N+j] = [total_spin[0], -total_spin[1]]
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                for k in range(3):
                    s = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[s][j]
                    
                if h[i][j] > 0:
                    priority_total = -total_spin
                else:
                    priority_total = total_spin
                    
                priorities.append((priority_total, 1))
        return priorities


#score: {'data2D.txt': -0.0005322530864197532}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    site_spin = -1 if h[site][((k-1)%N)] > 0 else 1
                    total_spin += site_spin * (-1)**(k%2)
                priorities[i*N+j] = [total_spin, 1]
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[(i*N+j), 0] = total_spin
            else:
                priority_total[(i*N+j), 1] = -total_spin
    return priority_total.tolist()


#score: {'data2D.txt': -0.00040787037037036985}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = [[sum(state[i][:k]+state[i][k+1:]) for k in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    site_sum += total_spin[site][j]
                if h[i][j] > 0:
                    priority_total[j*N+i, 0] = site_sum
                else:
                    priority_total[j*N+i, 1] = -site_sum
        return priority_total.tolist()


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        spin = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += spin[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return [list(x) for x in priority]


#score: {'data2D.txt': -0.0002998456790123456}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            total_spin = np.zeros((N,2), dtype=int)
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
            for j in range(N):
                if h[i][j] > 0:
                    priorities.append((total_spin[j][0], 1))
                else:
                    priorities.append((-total_spin[j][0], -1))
        return sorted(priorities,reverse=True)


#score: {'data2D.txt': -0.00091466049382716}
program:
def priority(N, h, J):
        priority_list = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                state = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[site*N:site*N+N, j].sum() * state
                priority_list[i*N+j][:] = [total_spin, -total_spin]
        return priority_list


#score: {'data2D.txt': 0.001082253086419753}
program:
def priority(N, h, J):
    priority = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin = h[site][j]
            if h[i][j] > 0:
                priority[i*N+j][:] = [total_spin, -total_spin]
            else:
                priority[i*N+j][:] = [-total_spin, total_spin]
    return priority


#score: {'data2D.txt': -0.0019418209876543213}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
            if h[i][0] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
        
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    total_spin = 0
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin += state[site][j]
                    priority_total[i*N+j][0] = total_spin
                else:
                    total_spin = 0
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin -= state[site][j]
                    priority_total[i*N+j][1] = -total_spin
        
        return priority_total


#score: {'data2D.txt': -0.00220570987654321}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    
    for i in range(N):
      total_spin = [0]*2
      for j in range(N):
        site = (i + ((j-1)%N - 1)) % N
        total_spin[0] += h[site][j]
        if h[i][j] > 0:
          priority_total[i*N+j][0] = total_spin[0]
        else:
          priority_total[i*N+j][1] = -total_spin[0]
        
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          if h[i][j] > 0:
            total_spin[0] += state[site][j]
          else:
            total_spin[1] -= state[site][j]
        
        for j in range(N):
          site = (i + ((j-1)%N - 1)) % N
          if h[i][j] > 0:
            priority_total[j][0] = total_spin[0]
          else:
            priority_total[j][1] = -total_spin[0]
    
    return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,2), dtype=int)
        priorities = []
        
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    site = (i + ((j-1)%N - 1)) % N
                    total_spin[i][0] += h[site][j]
                    priorities.append((total_spin[i][0], 1))
                else:
                    site = (i + ((j-1)%N - 1)) % N
                    total_spin[i][1] -= h[site][j]
                    priorities.append((total_spin[i][1], -1))
        
        return priorities


#score: {'data2D.txt': -0.0016399691358024691}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
            if h[i][0] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
        
        for i in range(N):
            priorities = []
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin += state[site][j]
            if h[i][0] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': -0.00028996913580246894}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if abs(k-j) <= 1 else 0 for k in range(min(j+2,N))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[x,y] for x,y in sorted(priorities)]


#score: {'data2D.txt': 0.06258564814814817}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
        priority_total = np.zeros((N,2), dtype=int)
        for j in range(N):
            for k in range(3):
                site = (j + ((k-1)%2 - 1)) % N
                total_spin[site][0] += state[j][(k+1)%N]
        priorities = []
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priorities.append((total_spin[i//N][0], 1))
            else:
                priorities.append((total_spin[i//N][1], -1))
        return priorities


#score: {'data2D.txt': -0.0003945987654320987}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
          row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
          for j in range(N):
              total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
              if h[i][j] > 0:
                  priorities.append((total_spin, 1))
              else:
                  priorities.append((total_spin, -1))
      return [[p[1], p[0]] for p in sorted(priorities, reverse=True)]


#score: {'data2D.txt': 0.008250462962962963}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priority_total = np.zeros((N*N,2), dtype=int)
      total_spin = [0]*N
      for i in range(N):
          for k in range(3):
              site = (i + ((k-1)%2 - 1)) % N
              total_spin[site] += state[i][site]
          if h[i][site] > 0:
              priority_total[(i*N+site), 0] = total_spin[site]
          else:
              priority_total[(i*N+site), 1] = -total_spin[site]
      return priority_total


#score: {'data2D.txt': -0.27106867283950575}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority.append([total_spin, 0])
                else:
                    priority.append([-total_spin, 1])
        return priority


#score: {'data2D.txt': 0.16559459876543234}
program:
def priority(N, h, J):
        J = J.reshape(4,N*N)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[k][(i + ((k-1)%2 - 1)) % N + (j-k%N)*N] * state[(i + ((k-1)%2 - 1)) % N][max(0,j-k)] for k in range(3)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.019882253086419752}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if abs(k-j)%2==0 else 0 for k in range(min(j,N-1))])
                priorities.append((total_spin, -1) if h[i][j] > 0 else (total_spin, 1))
        return priorities


#score: {'data2D.txt': -0.17949922839506163}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = np.zeros((N2,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': -0.010946450617283951}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    total_spin[i][j] += 1
                else:
                    total_spin[i][j] -= 1
        priority_total = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    total_spin[site][0] += total_spin[i][j]
                else:
                    total_spin[site][0] -= total_spin[i][j]
        priority_total = [[total_spin[i][j], 1] if h[i][j] > 0 else [-total_spin[i][j], -1] for i in range(N) for j in range(N)]
        return priority_total


#score: {'data2D.txt': 0.1745115740740743}
program:
def priority(N, h, J):
        J = J.reshape(4,N*N)
        priority_list = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[k,N*site+j]
                if h[i][j] > 0:
                    priority_list[i*N+j] = [total_spin, 1]
                else:
                    priority_list[i*N+j] = [-total_spin, -1]
        
        return priority_list


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities[(i*N+j), 0] = total_spin
                else:
                    priorities[(i*N+j), 1] = -total_spin
        return priorities.tolist()


#score: {'data2D.txt': -0.0006658950617283955}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priorities.append((total_spin[i][j][0], 1))
                else:
                    priorities.append((-total_spin[i][j][0], -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.001966512345679012}
program:
def priority(N, h, J):
        N2 = N * N
        priority_list = [[0, 0] for _ in range(N2)]
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority_list[i*N+j][0] = total_spin
            else:
                priority_list[i*N+j][1] = -total_spin
        for j in range(N):
            if h[i][j] > 0:
                priority_list[j][0] = priority_list[N2-j-1][0]
            else:
                priority_list[j][1] = -priority_list[N2-j-1][1]
        return priority_list


#score: {'data2D.txt': -0.3099924382716045}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        for j in range(N):
            if h[0][j] > 0:
                priority_total[j][0] = priority_total[0][0]
            else:
                priority_total[j][1] = -priority_total[0][0]
        return priority_total


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[0, 0] for _ in range(N*N)]
    
    for i in range(N):
        for j in range(N):
            site_sum = [0]*2
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                site_sum[0 if h[i][j] > 0 else 1] += state[site][j]
            priority_total[i*N+j] = site_sum
    
    return [[x for x in row] for row in priority_total]


#score: {'data2D.txt': 0.146027314814815}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priority_total.append((-total_spin, -1))
                else:
                    priority_total.append((total_spin, 1))
        return priority_total


#score: {'data2D.txt': -0.001049228395061728}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += spin
                priorities.append((total_spin[site][0], spin))
        return priorities


#score: {'data2D.txt': 0.3060847222222215}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[(site*N+3-j)%N::].sum()
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin
                    priorities[i*N+j][1] = 1
                else:
                    priorities[i*N+j][0] = -total_spin
                    priorities[i*N+j][1] = -1
        return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        J_flat = J.reshape((4*N**2,))
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        
        return [[i[0], i[1]] for i in priorities]


#score: {'data2D.txt': -0.0017270061728395063}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site_interactions = []
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k-j+N < N and k-j-N >= 0:
                        site_interactions.append(J[site, j-k%N].flatten()[0])
                    else:
                        site_interactions.append(h[site][j])
                total_spin[i*N+j] = [sum(site_interactions), -sum(site_interactions)]
        return sorted(total_spin)


#score: {'data2D.txt': -0.0017652777777777773}
program:
def priority(N, h, J):
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k-j+N < N and k-j-N >= 0:
                        total_spin[0] += J[site, j-k%N].flatten()[0]
                    else:
                        total_spin[0] += h[site][j]
                for spin in [-1,1]:
                    priority_total = sum([spin*h[i][j] for j in range(N)])
                    priorities.append((priority_total + sum([spin*J[site, j-k%N].flatten()[0] for k in range(4) if k-j+N < N and k-j-N >= 0]), spin))
        return sorted(priorities)[::-1][:N*N]


#score: {'data2D.txt': -0.0320368827160494}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
        total_spin = [0, 0]
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[0] += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[0]
            else:
                priority_total[i*N+j][1] = -total_spin[0]
    return priority_total.tolist()


#score: {'data2D.txt': -0.0010643518518518517}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site], 1))
                else:
                    priorities.append((-total_spin[site], -1))
        return sorted(priorities, reverse=True)


#score: {'data2D.txt': 0.0010452160493827159}
program:
def priority(N, h, J):
        J = np.array(J).reshape(4,N,N)
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[0][i][site]
                if h[i][j] > 0:
                    priority_total[(i*N+j),0] = total_spin
                else:
                    priority_total[(i*N+j),1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': 0.010939660493827158}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = [[0,0] for _ in range(N2)]
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][0] += state[site][j]
                
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority[i*N+j][1] = -total_spin[i*N+j][0]
                    
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N, 2), dtype=int)
        for j in range(N):
            spin = -1 if h[0][j] > 0 else 1
            for i in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][spin] += 1
            for i in range(N):
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[i][0]
                else:
                    priority[i*N+j][1] = -total_spin[i][0]
        return priority


#score: {'data2D.txt': -0.0015180555555555553}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        for i in range(N):
            total_spin = [0, 0]
            for j in range(N):
                site = (i + ((j)%N - 1)) % N
                if h[i][j] > 0:
                    total_spin[0] += state[site][j]
                else:
                    total_spin[1] -= state[site][j]
            for k in range(2):
                priority[i*N+j][k] = total_spin[k]
        return priority


#score: {'data2D.txt': -0.05414922839506174}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site][0]
                else:
                    priority[i*N+j][1] = -total_spin[site][0]
        for i in range(N):
            row_sum = sum(h[i])
            for j in range(N):
                if h[i][j] > 0:
                    priority[i*N+j][0] += row_sum
                else:
                    priority[i*N+j][1] -= row_sum
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site][0]
                else:
                    priority[i*N+j][1] = -total_spin[site][0]
                    
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N * N
        priority_list = [[0,0] for _ in range(N2)]
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][j] += h[i][j]
        for i in range(N):
            if h[i][0] > 0:
                priority_list[i*N+j][0] = total_spin[i][0]
            else:
                priority_list[i*N+j][1] = -total_spin[i][0]
            if h[i][N-1] > 0:
                priority_list[i*N+N-1-j][0] = total_spin[i][N-1-j]
            else:
                priority_list[i*N+N-1-j][1] = -total_spin[i][N-1-j]
        for i in range(N):
            if h[0][i] > 0:
                priority_list[j][0] = total_spin[0][j]
            else:
                priority_list[j][1] = -total_spin[0][j]
            if h[N-1][i] > 0:
                priority_list[i*N+N-1-j][0] = total_spin[N-1-j][i]
            else:
                priority_list[i*N+N-1-j][1] = -total_spin[N-1-j][i]
        return priority_list


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    N2 = N * N
    priority_list = [[0, 0] for _ in range(N2)]
    total_spin = np.zeros((N, 2), dtype=int)
    for i in range(N):
      spin = -1 if h[i][0] > 0 else 1
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[site][0] += spin
      priority_total = np.zeros((N,2), dtype=int)
      for j in range(N):
        if h[i][j] > 0:
          priority_total[j][0] = total_spin[j][0]
        else:
          priority_total[j][1] = -1*total_spin[j][0]
    return priority_list


#score: {'data2D.txt': -0.00029243827160493766}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = np.zeros((N2, 2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = [0, 0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[1 if h[i][j] > 0 else 0] += h[site][j]
                priority_total[i*N+j][1 if h[i][j] > 0 else 0] = total_spin[1 if h[i][j] > 0 else 0]
        
        return priority_total


#score: {'data2D.txt': -0.0067242283950617295}
program:
def priority(N, h, J):
    N2 = N*N
    priority_total = np.zeros((N2,2), dtype=int)
    total_spin = 0
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[(i*N+j),0] = total_spin
            else:
                priority_total[(i*N+j),1] = -total_spin
    return priority_total.tolist()


#score: {'data2D.txt': 8.935185185185229e-05}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - N) // N) % N
            total_spin[site][0] += state[i][j]
            if h[i][j] > 0:
                priorities.append((total_spin[site][0], 1))
            else:
                priorities.append((total_spin[site][0], -1))
    return [priority for priority in sorted(priorities, reverse=True)]


#score: {'data2D.txt': 0.24635231481481468}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i + ((k-1)%2 - 1)) % N][j-k%N] * state[i][(j+((k-1)%2 - 1)) % N] for k in range(3)])
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = h[site][j]
                
                if h[i][j] > 0:
                    priority = [total_spin, 1]
                else:
                    priority = [-total_spin, -1]
                    
                priorities.append(priority)
        
        return priorities


#score: {'data2D.txt': -0.051907561728395064}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[(i + ((j-1)%2 - 1)) % N][min(j,N-1)] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((-total_spin, 1))
        else:
          priorities.append((total_spin, -1))
    return [[p[1], p[0]] for p in priorities]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j, 0] = total_spin
            else:
                priority_total[i*N+j, 1] = -total_spin
    return priority_total.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    total_spin = [np.zeros(2) for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[i*N+j][0] += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[i*N+j][0]
            else:
                priority_total[i*N+j][1] = -total_spin[i*N+j][0]
    return [a.tolist() for a in priority_total]


#score: {'data2D.txt': 0.00902361111111111}
program:
def priority(N, h, J):
        total_priority = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site_spin = -1 if h[i][j] > 0 else 1
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_priority[i*N+j][0] += site_spin * J[k%4][site][min((j+k)%N,N-1)]
        return total_priority


#score: {'data2D.txt': 0.00902361111111111}
program:
def priority(N, h, J):
        total_priority = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site_spin = -1 if h[i][j] > 0 else 1
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_priority[i*N+j][0] += site_spin * J[k%4][site][min((j+k)%N,N-1)]
        return [list(x) for x in total_priority]


#score: {'data2D.txt': -0.08092669753086419}
program:
def priority(N, h, J):
        total_priority = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site_spin = -1 if h[i][j] > 0 else 1
                sum_1 = 0
                sum_2 = 0
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    if j+k < N:
                        sum_1 += J[k%4][site][min((j+k)%N,N-1)] * site_spin
                        sum_2 += J[k%4][site][min((j+k)%N,N-1)]
                priority_total = [sum_1 - sum_2, sum_1 + sum_2]
                for k in range(2):
                    total_priority[i*N+j][k] = priority_total[k]
        return total_priority


#score: {'data2D.txt': -0.019209104938271607}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = [0 for _ in range(2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[1 if h[i][j] > 0 else 0] += h[i][j]
                priority[i*N+j] = [total_spin[1], -total_spin[0]]
        return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    N2 = N*N
    total_spin = np.zeros((N,2), dtype=int)
    priority = [[float('inf') for _ in range(2)] for _ in range(N2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][0] += h[i][j]
            if h[i][j] > 0:
                priority[i*N+j][0] = total_spin[site][0]
            else:
                priority[i*N+j][1] = -total_spin[site][0]
    for i in range(N):
        row_sum = sum(h[i])
        for j in range(N):
            if h[i][j] > 0:
                priority[i*N+j][0] += row_sum
            else:
                priority[i*N+j][1] -= row_sum
    return priority


#score: {'data2D.txt': -0.05414922839506174}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][0] += h[i][j]
            if h[i][j] > 0:
                priority[i*N+j][0] = total_spin[site][0]
            else:
                priority[i*N+j][1] = -total_spin[site][0]
    for i in range(N):
        row_sum = sum(h[i])
        for j in range(N):
            if h[i][j] > 0:
                priority[i*N+j][0] += row_sum
            else:
                priority[i*N+j][1] -= row_sum
    return priority


#score: {'data2D.txt': -0.06477114197530873}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,N), dtype=int)
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site][0], 1))
                else:
                    priorities.append((-total_spin[site][0], -1))
        return priorities


#score: {'data2D.txt': 0.007894907407407408}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        total_spin = [0]*N
        for i in range(N):
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site] += state[i][k]
        for j in range(N**2):
            if h[j//N][j%N] > 0:
                priority_total[j][0] = total_spin[j//N]
            else:
                priority_total[j][1] = -total_spin[j//N]
        return priority_total


#score: {'data2D.txt': -0.07669706790123462}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = []
        for i in range(N**2):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][i%N]
            if h[i//N][i%N] > 0:
                priority.append((total_spin, -1))
            else:
                priority.append((total_spin, 1))
        return priority


#score: {'data2D.txt': 0.0001510802469135808}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][0] += state[site][j]
        priority_total = [[0,0] for _ in range(N**2)]
        
        for i in range(N**2):
            if h[int(i//N)][i%N] > 0:
                priority_total[i][0] = total_spin[int(i//N)][0]
            else:
                priority_total[i][1] = -total_spin[int(i//N)][0]
        
        return priority_total


#score: {'data2D.txt': -0.001710339506172839}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[0,0] for _ in range(N**2)]
    
    for i in range(N):
        total_spin = 0
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin += h[site][j]
        if h[i][0] > 0:
            priority_total[i*N+j][0] = total_spin
        else:
            priority_total[i*N+j][1] = -total_spin
        
        for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin += state[site][j]
        if h[i][j] > 0:
            priorities = [(total_spin, 1)]
        else:
            priorities = [(-total_spin, -1)]
        
    return priority_total


#score: {'data2D.txt': -0.1444520061728397}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-1*total_spin[0], 1))
        return priorities


#score: {'data2D.txt': -0.010197067901234569}
program:
def priority(N, h, J):
    priority_list = [[0,0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin = h[site][j]
        if h[i][j] > 0:
          priority_list[i*N+j][0] = total_spin
        else:
          priority_list[i*N+j][1] = -total_spin
    for i in range(N):
      for j in range(N-2,-1,-1):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin += h[site][j]
        if h[i][j] > 0:
          priority_list[i*N+j][0] = total_spin
        else:
          priority_list[i*N+j][1] = -total_spin
    return priority_list


#score: {'data2D.txt': -0.0011856481481481481}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            total_spin = np.zeros((N,2), dtype=int)
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site][0], 1))
                else:
                    priorities.append((-total_spin[site][0], -1))
        return sorted(priorities,reverse=True)


#score: {'data2D.txt': -0.005123611111111112}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i + ((k-1)%2 - 1)) % N][j-k%N] * state[i][(j+((k-1)%2 - 1)) % N] for k in range(3)])
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin, 1]
                else:
                    priorities[i*N+j] = [-total_spin, -1]
        return priorities


#score: {'data2D.txt': 0.07977114197530885}
program:
def priority(N, h, J):
        J = J.reshape(4,N*N)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i + ((k-1)%2 - 1)) % N][j-k%N] * J[k][(i*N+j)] for k in range(4)])
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin, 1]
                else:
                    priorities[i*N+j] = [-total_spin, -1]
        return priorities


#score: {'data2D.txt': 0.1746979938271607}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append([-total_spin, total_spin])
                else:
                    priorities.append([total_spin, -total_spin])
        return priorities


#score: {'data2D.txt': 0.18963657407407436}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum_1 = (J_new[0::4] + J_new[1::4]).flatten()
        sum_2 = (J_new[2::4] + J_new[3::4]).flatten()
        priority = np.column_stack((sum_1, -sum_1))
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority[(i*N+j),1] = 1
                else:
                    priority[(i*N+j),1] = -1
        return(priority)


#score: {'data2D.txt': 0.013364043209876542}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin[site][0]
                else:
                    priority_total[(i*N+j), 1] = -total_spin[site][0]
        return priority_total


#score: {'data2D.txt': 0.03499737654320991}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_list = []
    for i in range(N**2):
        total_spin = 0
        for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin += state[site][i%N]
        if h[i//N][i%N] > 0:
            priority_list.append((total_spin, 1))
        else:
            priority_list.append((-total_spin, -1))
    return priority_list


#score: {'data2D.txt': -0.002184722222222223}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                state = 1
            else:
                state = -1
            site = (i + ((j-1)%N) - N//2) % N
            total_spin[i*N+j][0] += state
    priority_total = [[0,0] for _ in range(N**2)]
    for j in range(N**2):
        if h[j//N][j%N] > 0:
            priority_total[j][0] = total_spin[j//N][0]
        else:
            priority_total[j][1] = -total_spin[j//N][0]
    return priority_total


#score: {'data2D.txt': -0.00021219135802469157}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N) - N//2) % N
                total_spin[site] += state[i][j]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin[site]
                else:
                    priority_total[(i*N+j), 1] = -total_spin[site]
        return priority_total


#score: {'data2D.txt': -0.00044830246913580185}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [priority for priority in sorted(priorities, reverse=True)]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total = [total_spin, h[i][j]]
                else:
                    priority_total = [-total_spin, -h[i][j]]
                priorities.append(priority_total)
        return sorted(priorities, reverse=True)


#score: {'data2D.txt': 8.935185185185229e-05}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      total_spin = np.zeros((N,2), dtype=int)
      for i in range(N):
          for j in range(N):
              site = (i + ((j-1)%N - N) // N) % N
              total_spin[site][0] += state[i][j]
              if h[i][j] > 0:
                  priorities.append((total_spin[site][0], 1))
              else:
                  priorities.append((total_spin[site][0], -1))
      return [priority for priority in sorted(priorities, reverse=True)]


#score: {'data2D.txt': 0.06863750000000002}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[site][0]
                else:
                    priority_total[i*N+j][1] = -total_spin[site][0]
        return priority_total


#score: {'data2D.txt': -0.09538009259259264}
program:
def priority(N, h, J):
        priority = [[0, 0] for _ in range(N*N)]
        total_spin = [0] * N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += h[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site]
                else:
                    priority[i*N+j][1] = -total_spin[site]
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[i][j] > 0:
                        total_spin[1] += state[site][j]
                    else:
                        total_spin[0] += state[site][j]
                priorities.append(total_spin)
        return priorities


#score: {'data2D.txt': 0.007989351851851853}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[1 if state[i][j] == state[site][((k+2)%3)-1] else 0] += 1 if h[i][j] > 0 else -1
                priorities.append(total_spin)
        return np.array(priorities)


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = np.zeros((N,N), dtype=int)
    
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[i][site] += h[i][j]
            
            if h[i][j] > 0:
                priority_total = -total_spin[i].sum()
            else:
                priority_total = total_spin[i].sum()
                
            priorities.append((priority_total, 1))
    return np.array(priorities).reshape(N*N,2)


#score: {'data2D.txt': -0.0027128086419753086}
program:
def priority(N, h, J):
        priority_list = [[0,0] for _ in range(N**2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][0] += h[site][j]
                if h[i][j] > 0:
                    priority_list[i*N+j][0] = total_spin[i][0]
                else:
                    priority_list[i*N+j][1] = -total_spin[i][0]
        for j in range(N):
            if h[i][j] > 0:
                priority_list[i*N+j][0] += sum([h[k][j] for k in range(N)])
            else:
                priority_list[i*N+j][1] -= sum([h[k][j] for k in range(N)])
        return priority_list


#score: {'data2D.txt': -0.0011458333333333333}
program:
def priority(N, h, J):
    N = int(N)
    priorities = [[0,0] for _ in range(N**2)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][0] += h[site][j]
                priorities[i*N+j][0] = total_spin[i][0]
            else:
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][1] -= h[site][j]
                priorities[i*N+j][1] = -total_spin[i][1]
    for i in range(N):
        if h[i][N-1-i] > 0:
            site = (i + ((N-1)%2 - 1)) % N
            total_spin[i][0] += sum([h[k][site] for k in range(N)])
            priorities[i*N+site][0] = total_spin[i][0]
        else:
            site = (i + ((N-1)%2 - 1)) % N
            total_spin[i][1] -= sum([h[k][site] for k in range(N)])
            priorities[i*N+site][1] = -total_spin[i][1]
    return priorities


#score: {'data2D.txt': -0.001650771604938272}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[0,0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin = h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin
                priority_total[i*N+j][1] = -total_spin
    for j in range(N):
        for i in range(N):
            site = (i + ((j-1)%N - 1)) % N
            if h[i][j] > 0:
                for k in range(3):
                    total_spin += state[site][k]
                priority_total[j*N+i][0] = total_spin
            else:
                for k in range(3):
                    total_spin -= state[site][k]
                priority_total[j*N+i][1] = -total_spin
    return priority_total


#score: {'data2D.txt': 0.003918364197530865}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                total_spin[1] -= h[site][j]
            if h[i][0] > 0:
                priority_total[i*N+0][0] = total_spin[0]
                priority_total[i*N+N-1][1] = -total_spin[1]
            else:
                priority_total[i*N+0][0] = -total_spin[0]
                priority_total[i*N+N-1][1] = total_spin[1]
        for j in range(N):
            for i in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority_total[j*N+i][0] += state[site][j]
                    priority_total[j*N+i][1] -= state[site][j]
        return priority_total


#score: {'data2D.txt': -0.1776118827160496}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append([total_spin, -total_spin])
                else:
                    priorities.append([-total_spin, total_spin])
        return priorities


#score: {'data2D.txt': -1.4043209876543283e-05}
program:
def priority(N, h, J):
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total = [total_spin, -1*total_spin]
                else:
                    priority_total = [-total_spin, total_spin]
                priorities.append(priority_total)
        return priorities


#score: {'data2D.txt': -0.005166512345679013}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N*N)]
        
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[0]
                else:
                    priority_total[i*N+j][1] = -total_spin[0]
        return priority_total


#score: {'data2D.txt': -0.0015714506172839506}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))]) 
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[p[1], p[0]] for p in sorted(priorities)]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[0] += state[site][j]
                if h[i][j] > 0:
                    priority[i*N+j, 0] = total_spin[0]
                else:
                    priority[i*N+j, 1] = -total_spin[0]
        return priority


#score: {'data2D.txt': -0.0012510802469135802}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N**2,2), dtype=int)
        total_spin = np.zeros((N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][0] += state[site][j]*h[i][j]
            if h[i][0] > 0:
                priority_total[i*N: (i+1)*N,0] = total_spin[i][0]
            else:
                priority_total[i*N:(i+1)*N,1] = -total_spin[i][0]
                
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
        for j in range(N):
            priority_total[j][0] = total_spin[j][0]
            priority_total[j][1] = -total_spin[j][0]
        
        return priority_total


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.0006501543209876544}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return sorted(priorities, key=lambda x: x[0], reverse=True)


#score: {'data2D.txt': -0.001591203703703704}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                priority_total = [np.sum(total_spin[max(0,i-1):i+2,min(j,N-1):j+2]), h[i][j]]
            else:
                priority_total = [-np.sum(total_spin[max(0,i-1):i+2,min(j,N-1):j+2]), -h[i][j]]
            return [priority_total for _ in range(N*N)]


#score: {'data2D.txt': -0.00044830246913580185}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return sorted(priorities, reverse=True)


#score: {'data2D.txt': 0.17020941358024638}
program:
def priority(N, h, J):
        priority_list = []
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = h[site][j]
                
                if total_spin > 0:
                    priority_list.append((total_spin, 1))
                else:
                    priority_list.append((-total_spin, -1))
        
        return priority_list


#score: {'data2D.txt': -0.003907870370370373}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i+((k-1)%2 - 1)) % N][max(0, min(j+k,N)-1)] * state[i][j-k%N] 
                                  for k in range(max(0, j-N), min(j+N, 2*N)+1)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        
        return priorities


#score: {'data2D.txt': -0.0014291666666666658}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    if k == 0:
                        neighbor = (i+1)%N, j
                    elif k == 1:
                        neighbor = i, (j+1)%N
                    elif k == 2:
                        neighbor = (i-1+N)%N, j
                    else:
                        neighbor = i, (j-1+N)%N
                    site_sum += J[k][neighbor[0]][neighbor[1]]
                total_spin[i][j] = site_sum
        priority_total = np.zeros((N*N,2), dtype=int)
        for j in range(N):
            if h[j].sum() > 0:
                priority_total[(j*N):(j+1)*N, 0] = total_spin.sum(axis=1)
            else:
                priority_total[(j*N):(j+1)*N, 1] = -1*total_spin.sum(axis=1)
        return priority_total.reshape((N*N,2))


#score: {'data2D.txt': 0.0004239197530864195}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            site_sum = 0
            for k in range(4):
                if k==2:
                    continue
                neighbor = (i + ((k-1)%2 - 1)) % N, j
                site_sum += J[k][neighbor[0]][neighbor[1]]
            total_spin[i][j] = site_sum
    priority_total = np.zeros((N,N,2), dtype=int)
    for j in range(N):
        if h[j].sum() > 0:
            priority_total[:,j,0] = total_spin.sum(axis=1)
        else:
            priority_total[:,j,1] = -1*total_spin.sum(axis=1)
    return priority_total.reshape((N*N,2))


#score: {'data2D.txt': 0.05763101851851852}
program:
def priority(N, h, J):
    total_priority = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site_sum = 0
            for k in range(3):
                neighbor = (i + ((k-1)%2 - 1)) % N, j
                if neighbor[0] == i:
                    site_sum += J[k][neighbor[0]][neighbor[1]]
                else:
                    site_sum += J[k][(neighbor[0]-i+2)%N][j]
            total_spin = site_sum
            if h[i][j] > 0:
                total_priority[i*N+j, 0] = total_spin
            else:
                total_priority[i*N+j, 1] = -total_spin
    return total_priority


#score: {'data2D.txt': 0.14599336419753106}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0, 0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = [0, 0]
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[0] += state[site][j]
                    total_spin[1] -= state[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin[0], 0]
                else:
                    priority_total[i*N+j] = [-total_spin[1], 0]
        return priority_total


#score: {'data2D.txt': -0.006567746913580247}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[j*N+i, 0] = total_spin
            else:
                priority_total[j*N+i, 1] = -total_spin
    return priority_total.tolist()


#score: {'data2D.txt': -0.02031003086419753}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_list = []
        
        for i in range(N):
            row_sum = [sum(state[k][:(i+1)%N]+state[k][(i+2)%N:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[m] * state[(m+(j-1))%N][0] for m in range(min(j,N-1))])
                priority_list.append((total_spin, -1 if h[i][j] > 0 else 1))
        
        return priority_list


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = np.zeros((N,N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i,j,0] = total_spin
                else:
                    priority_total[i,j,1] = -total_spin
        return priority_total.reshape(N*N,2).tolist()


#score: {'data2D.txt': -0.00037762345679012314}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += state[i][site]
                if h[i][site] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return sorted(priorities,reverse=True)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N**2,2), dtype=int)
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[i][0] += state[site][j]
            total_spin[i][1] -= state[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[i][0]
                priority_total[i*N+j][1] = -total_spin[i][1]
    return priority_total


#score: {'data2D.txt': 0.3102609567901235}
program:
def priority(N, h, J):
        total_priority = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site_sum = [0,0]
                for k in range(3):
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    if neighbor[0] == i:
                        site_sum[0] += J[k][neighbor[0]][neighbor[1]]
                    else:
                        site_sum[1] += J[k][(neighbor[0]-i+2)%N][j]
                if h[i][j] > 0:
                    total_priority[i*N+j] = [site_sum[0], 1]
                else:
                    total_priority[i*N+j] = [-site_sum[1], -1]
        return total_priority


#score: {'data2D.txt': 0.05763101851851852}
program:
def priority(N, h, J):
        total_priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(3):
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    if neighbor[0] == i:
                        site_sum += J[k][neighbor[0]][neighbor[1]]
                    else:
                        site_sum += J[k][(neighbor[0]-i+2)%N][j]
                total_spin = site_sum
                if h[i][j] > 0:
                    total_priority[i*N+j, 0] = total_spin
                else:
                    total_priority[i*N+j, 1] = -total_spin
        return total_priority


#score: {'data2D.txt': -0.0024412037037037032}
program:
def priority(N, h, J):
    N2 = N*N
    total_spin = [[0 for _ in range(2)] for _ in range(N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            state = h[site][j]
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][0] += state if h[i][j] > 0 else -state
    priority_total = [[0 for _ in range(2)] for _ in range(N2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][0] += state if h[i][j] > 0 else -state
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[site][0]
            else:
                priority_total[i*N+j][1] = -total_spin[site][0]
    return priority_total


#score: {'data2D.txt': -0.0008060185185185185}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if k <= j else -row_sum[N-1-k]*state[i][j-k%N] for k in range(min(j,N-1))])
                priorities.append((-total_spin, 1) if h[i][j] > 0 else (total_spin, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0010939814814814816}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = [[0,0] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                total_spin = sum(J[i*N:(i+1)*N,j*N:(j+1)*N][::2].flatten()) + h[i][j]
                if h[i][j] > 0:
                    priorities[j][0] = total_spin
                else:
                    priorities[j][1] = -total_spin
        
        return [list(x) for x in priorities]


#score: {'data2D.txt': -0.003907870370370373}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i+((k-1)%2 - 1)) % N][max(0, min(j+k,N)-1)] * state[i][j-k%N] 
                                  for k in range(max(0, j-N), min(j+N, 2*N)+1)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.0010479938271604943}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][j] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin.sum(), 1))
                else:
                    priorities.append((-total_spin.sum(), -1))
        return sorted(priorities)


#score: {'data2D.txt': 0.0336807098765432}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = [[0,0] for _ in range(N*N)]
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] if 0 <= j-k%N < N else J[k*N+i+j-k%N,1]*state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
            priorities[i*N+j][0] = total_spin
        else:
            priorities[i*N+j][1] = -total_spin
    return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][j] += spin
                if total_spin[i][j] > 0:
                    priorities[i*N+j] = [total_spin[i][j], 1]
                else:
                    priorities[i*N+j] = [-total_spin[i][j], -1]
        return priorities


#score: {'data2D.txt': 0.0677109567901235}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = np.zeros((N*N,2), dtype=int)
      total_spin = [np.zeros(2) for _ in range(N)]
      for i in range(N):
          for j in range(N):
              site = (i + ((j-1)%2 - 1)) % N
              total_spin[site][0] += state[i][j]
              if h[i][j] > 0:
                  priorities[(i*N+j),0] = total_spin[site][0]
              else:
                  priorities[(i*N+j),1] = -total_spin[site][0]
      return priorities.tolist()


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = [np.zeros(2) for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] += state[i][j]
                if h[i][j] > 0:
                    priorities[i*N+j, 0] = total_spin[i*N+j][0]
                else:
                    priorities[i*N+j, 1] = -total_spin[i*N+j][0]
        return priorities


#score: {'data2D.txt': -0.001401697530864198}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total = -total_spin
                else:
                    priority_total = total_spin
                for m in range(2):
                    if m == 0:
                        spin = 1
                    else:
                        spin = -1
                    priorities[i*N+j][m] = priority_total * spin
        return [row for row in priorities]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = 0
                spin = -1 if h[i][j] > 0 else 1
                
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += spin
                    
                priority_total[i*N+j] = [total_spin, -total_spin]
                
        return priority_total


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = h[site][j]
                
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
                    
        return priority


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [[p[0], p[1]] for p in priorities]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[i][site]
                if h[i][j] > 0:
                    priority.append((total_spin[0], 1))
                else:
                    priority.append((-total_spin[0], -1))
        return priority


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priority_total.append((total_spin, 1))
                else:
                    priority_total.append((-total_spin, -1))
        return priority_total


#score: {'data2D.txt': -0.15429645061728445}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin, 0]
                else:
                    priorities[i*N+j] = [-total_spin, 1]
        return priorities


#score: {'data2D.txt': -0.0008526234567901241}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, -1))
                else:
                    priorities.append((-total_spin, 1))
        return sorted(priorities, reverse=True)


#score: {'data2D.txt': -0.17949922839506163}
program:
def priority(N, h, J):
        N2 = N*N
        Jflat = J.reshape(4,-1).T.flatten()
        hflat = h.flatten()
        priority_total = np.zeros((N2,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j),0] = total_spin
                else:
                    priority_total[(i*N+j),1] = -total_spin
        
        return priority_total


#score: {'data2D.txt': -0.00044830246913580185}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((total_spin, -1))
    return sorted(priorities, reverse=True)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    total_spin[site][1] += 1
                else:
                    total_spin[site][1] -= 1
        priority_total = [[total_spin[(i*N+j)][0] if h[i][j]>0 else -total_spin[(i*N+j)][0], 1] if h[i][j]>0 else [-total_spin[(i*N+j)][0],-1] for i in range(N) for j in range(N)]
        return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[i*N+j][0] += h[site][j]
    priority_total = [[-total_spin[i*N+j][0], 1] if h[i][j] > 0 else [total_spin[i*N+j][0], -1] for i in range(N) for j in range(N)]
    return priority_total


#score: {'data2D.txt': -0.010946450617283951}
program:
def priority(N, h, J):
        total_spins = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    total_spins[i][j] += 1
                else:
                    total_spins[i][j] -= 1
        priority_total = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    total_spins[site][0] += total_spins[i][j]
                else:
                    total_spins[site][0] -= total_spins[i][j]
        priority_total = [[total_spins[i][j], 1] if h[i][j] > 0 else [-total_spins[i][j], -1] for i in range(N) for j in range(N)]
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    total_spin[i][j] += 1
                else:
                    total_spin[i][j] -= 1
        priority_total = [[total_spin[i][j], 1] if h[i][j] > 0 else [-total_spin[i][j], -1] for i in range(N) for j in range(N)]
        return priority_total


#score: {'data2D.txt': 0.00438070987654321}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N**2, 2), dtype=int)
        for i in range(N):
            total_spin = [0, 0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += state[site][j]
                total_spin[1] -= state[site][j]
            if h[i][0] > 0:
                priority_total[i*N+0][0] = total_spin[0]
                priority_total[i*N+0][1] = -total_spin[1]
            else:
                priority_total[i*N+N-1][0] = -total_spin[0]
                priority_total[i*N+N-1][1] = total_spin[1]
        for j in range(N):
            for i in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority_total[j*N+i][0] += state[site][j]
                    priority_total[j*N+i][1] -= state[site][j]
        return priority_total


#score: {'data2D.txt': -0.14525540123456807}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priority_total = [total_spin[site][0], -total_spin[site][0]]
                else:
                    priority_total = [-x for x in [total_spin[site][0], -total_spin[site][0]]]
                priorities.append(priority_total)
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            row_sum = sum(h[i])
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site][0]
                else:
                    priority[i*N+j][1] = -total_spin[site][0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site][0]
                else:
                    priority[i*N+j][1] = -total_spin[site][0]
        return priority


#score: {'data2D.txt': -0.004106635802469135}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = np.zeros((N2,2), dtype=int)
        
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site1 = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site1][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[0]
                else:
                    priority_total[i*N+j][1] = -total_spin[0]
                
                site2 = (i + ((N-1-j)%N - 1)) % N
                total_spin[1] += h[site2][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += total_spin[1]
                else:
                    priority_total[i*N+j][1] -= total_spin[1]
        
        return priority_total


#score: {'data2D.txt': -0.0043788580246913586}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site1 = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site1][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[0]
                else:
                    priority_total[i*N+j][1] = -total_spin[0]
                
                site2 = (i + ((N-1-j)%N - 1)) % N
                total_spin[1] += h[site2][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += total_spin[1]
                else:
                    priority_total[i*N+j][1] -= total_spin[1]
        return priority_total


#score: {'data2D.txt': 0.001082253086419753}
program:
def priority(N, h, J):
        priority_list = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    site = (i + ((j-1)%N - 1)) % N
                    total_spin = h[site][j]
                    priority_list[i*N+j][0] = total_spin
                    priority_list[i*N+j][1] = -total_spin
                else:
                    site = (i + ((j-1)%N - 1)) % N
                    total_spin = -h[site][j]
                    priority_list[i*N+j][0] = total_spin
                    priority_list[i*N+j][1] = -total_spin
        return priority_list


#score: {'data2D.txt': 0.1671344135802472}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N,N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin = 0
                    for l in range(3):
                        total_spin += state[site][(j+l)%N]
                    if h[i][j] > 0:
                        priority_total[i][j, 0] = total_spin
                    else:
                        priority_total[i][j, 1] = -total_spin
        return priority_total.reshape((N*N,2)).tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    N2 = N*N
    priority_total = [[0,0] for _ in range(N2)]
    total_spin = [0]*N2
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[site*N+j] += h[i][j]
            if h[i][j] > 0:
                priority_total[i*N+j] = [total_spin[site*N+j], -total_spin[site*N+j]]
            else:
                priority_total[i*N+j] = [-total_spin[site*N+j], total_spin[site*N+j]]
    return priority_total


#score: {'data2D.txt': -0.19614120370370397}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin, -1]
                else:
                    priorities[i*N+j] = [-total_spin, 1]
        return priorities


#score: {'data2D.txt': -0.046575462962963006}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = [[0 for _ in range(2)] for _ in range(N*N)]
    
    for i in range(N**2):
        total_spin = 0
        for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin += state[site][i%N]
        if h[i//N][i%N] > 0:
            priorities[i][0] = total_spin
            priorities[i][1] = -total_spin
        else:
            priorities[i][0] = -total_spin
            priorities[i][1] = total_spin
    
    return priorities


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = [[0,0] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities[(i*N)+j] = [total_spin, 1]
                else:
                    priorities[(i*N)+j] = [-total_spin, -1]
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%N - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j,0] = total_spin
            else:
                priority_total[i*N+j,1] = -total_spin
    return priority_total.tolist()


#score: {'data2D.txt': -0.0009526234567901237}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                site_sum = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    site_sum += spin
                total_spin[i][0] += site_sum
                if h[i][j] > 0:
                    priority_total = [total_spin[i][0], 1]
                else:
                    priority_total = [-total_spin[i][0], -1]
        return [priority_total for _ in range(N*N)]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = [[0,0] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N) - N//2) % N
                total_spin = 0
                for k in range(3):
                    site2 = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site2][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        
        return priority


#score: {'data2D.txt': -0.0006692901234567905}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        total_spin = [np.zeros(2) for _ in range(N)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N) - N//2) % N
                total_spin[site][0] += state[i][j]
                
        for j in range(N*N):
            if h[j//N][j%N] > 0:
                priority_total[j][0] = total_spin[j//N][0]
            else:
                priority_total[j][1] = -total_spin[j//N][0]
        
        return priority_total


#score: {'data2D.txt': -0.0011896604938271605}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin
                else:
                    priority_total[j][1] = -1*total_spin
        
        return priority_total


#score: {'data2D.txt': 0.003984722222222222}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][site] > 0:
                    total_spin[0] += state[i][site]
                else:
                    total_spin[1] += state[i][site]
            if h[i][0] > 0:
                priority_total[i*N:(i+1)*N,0] = total_spin[0]
            else:
                priority_total[i*N:(i+1)*N,1] = -total_spin[0]
        for i in range(N):
            total_spin = [0,0]
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                if h[i][site] > 0:
                    total_spin[0] += state[i][site]
                else:
                    total_spin[1] += state[i][site]
            priority_total[i*N+i,0] = total_spin[0]
            priority_total[i*N+i,1] = -total_spin[0]
        return priority_total


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [[x for x in row] for row in priorities]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0,0]
        for i in range(N):
            for j in range(N):
                site = (i + ((2)%2 - 1)) % N
                total_spin[0] += state[i][j]
                total_spin[1] -= state[i][j]
        for i in range(N*N):
            if h[int(i/N)][int(i%N)] > 0:
                priorities.append([total_spin[0], total_spin[1]])
            else:
                priorities.append([-total_spin[0], -total_spin[1]])
        return [[priorities[i][0]//100000, priorities[i][1]%2] for i in range(N*N)]


#score: {'data2D.txt': -0.13418811728395078}
program:
def priority(N, h, J):
    N2 = N*N
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_list = []
    for i in range(N):
        total_spin = [0,0]
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[1] += state[i][site]
            total_spin[0] -= total_spin[1]
            if h[i][j] > 0:
                priority_list.append([-x for x in total_spin])
            else:
                priority_list.append([x for x in total_spin])
    return priority_list


#score: {'data2D.txt': -0.011823611111111111}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][spin==1] += 1
            priority_total = np.zeros((N,2), dtype=int)
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[j][0]
                else:
                    priority_total[j][1] = -total_spin[j][0]
            for j in range(N):
                if spin == 1:
                    priority[i*N+j] = [-x for x in priority_total[j]]
                else:
                    priority[i*N+j] = [x for x in priority_total[j]]
        return priority


#score: {'data2D.txt': -0.08210385802469139}
program:
def priority(N, h, J):
        N2 = N*N
        total_spin = [[0 for _ in range(2)] for _ in range(N)]
        priority_total = [[0 for _ in range(2)] for _ in range(N2)]

        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[site][0]
                else:
                    priority_total[i*N+j][1] = -total_spin[site][0]

        for j in range(N):
            priority_total[j][0] = total_spin[j][0]
            if h[0][j] > 0:
                priority_total[j][1] = -total_spin[j][0]
            else:
                priority_total[j][1] = total_spin[j][0]

        return priority_total


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = [[0 for _ in range(2)] for _ in range(N2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    spin = 1
                else:
                    spin = -1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += spin
                priority_total[i*N+j] = [total_spin, -total_spin]
        return priority_total


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if 0 <= j-k%N < N else 0 for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((-1)%2 - 1)) % N
                if h[i][j] > 0:
                    total_spin[site][0] += 1
                else:
                    total_spin[site][1] += 1
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((-1)%2 - 1)) % N
                if h[i][j] > 0:
                    priorities.append((total_spin[site][0], 1))
                else:
                    priorities.append((total_spin[site][1], -1))
        return priorities


#score: {'data2D.txt': -0.24194027777777763}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for k in range(3):
            for i in range(N):
                for j in range(N):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += state[i][j]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priorities.append((total_spin[i][0], 1))
                else:
                    priorities.append((-total_spin[i][0], -1))
        return priorities


#score: {'data2D.txt': -0.00031188271604938345}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]    
        priorities = []    
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[x[1],1-x[1]] for x in sorted(priorities)[::-1]]


#score: {'data2D.txt': -0.0003844135802469139}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((-total_spin, -1))
    return [[p[1], -p[1]] for p in sorted(priorities)]


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
                    
        return priority


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = h[site][j]
                
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin
                else:
                    priorities[i*N+j][1] = -total_spin
                    
        return priorities


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin
                else:
                    priorities[i*N+j][1] = -total_spin
                    
        return priorities


#score: {'data2D.txt': -0.0010918209876543208}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] if k < N-j else row_sum[N-1-(j-k)%N]*state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((total_spin, -1))
    return [[x[1],x[0]] for x in sorted(priorities)]


#score: {'data2D.txt': 0.146027314814815}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((-total_spin, -1))
    return [[p[1], p[0]] for p in priorities]


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-1*total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
        total_spin = [0 for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j] += h[site][j]
                
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j]
                else:
                    priority_total[i*N+j][1] = -total_spin[i*N+j]
                    
        return [priority_total[i] for i in range(N*N)]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%N - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
    return priority_total


#score: {'data2D.txt': 0.0009047839506172837}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[i-((i+1)%N)][j-k%N] if k < N else -1*state[(-i+N-1)%N][min(j+k-N,k)] 
                                  for k in range(max(0,j-1))])
                
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        
        return priority_total


#score: {'data2D.txt': 0.0008711419753086423}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[0,0] for _ in range(N*N)]
    
    for i in range(N):
        for j in range(N):
            total_spin_1 = 0
            total_spin_2 = 0
            
            site1 = (i + ((j-1)%N - 1)) % N
            total_spin_1 += state[site1][j]
            
            if i > 0:
                site2 = (i - 1 + ((j-1)%N - 1)) % N
                total_spin_2 += state[site2][j]
            else:
                site2 = (i + ((j-1)%N - 1)) % N
                total_spin_2 += state[site2][j]

            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin_1
                priority_total[i*N+j][1] = total_spin_2
            else:
                priority_total[i*N+j][0] = -total_spin_1
                priority_total[i*N+j][1] = -total_spin_2
            
    return priority_total


#score: {'data2D.txt': -0.00017854938271604949}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,N), dtype=int)
        for k in range(3):
            site_neighbors = [(i + ((k-1)%2 - 1)) % N for i in range(N)]
            for i in range(N):
                for j in range(N):
                    if h[site_neighbors[k]][j] > 0:
                        total_spin[i][j] += state[site_neighbors[k]][j]
                    else:
                        total_spin[i][j] -= state[site_neighbors[k]][j]
        priority_total = np.zeros((N,2), dtype=int)
        for j in range(N):
            site_neighbors = [(i + ((k-1)%2 - 1)) % N for k in range(3)]
            for i in range(N):
                total_spin[i][0] += state[i][j]
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        for j in range(N):
            site_neighbors = [(i + ((k-1)%2 - 1)) % N for k in range(3)]
            for i in range(N):
                total_spin[i][j] += state[site_neighbors[k]][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin[i][j]
                else:
                    priorities[i*N+j][1] = -total_spin[i][j]
        return priorities


#score: {'data2D.txt': -0.010528858024691359}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        
        return priority


#score: {'data2D.txt': -0.001166512345679013}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N*N)]
        state = [[-1 if h[i][j]>0 else 1 for j in range(N)] for i in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    total_spin[(i*N+j)][0] += state[site][k]
                if h[i][j]>0:
                    priority_total = [total_spin[(i*N+j)][0], 1]
                else:
                    priority_total = [-total_spin[(i*N+j)][0], -1]
        return [priority_total for _ in range(N*N)]


#score: {'data2D.txt': -0.0010418209876543211}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N)]
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += 1 if h[i][j] > 0 else -1
            else:
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] -= 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] -= 1 if h[i][j] > 0 else -1
    priority_total = [[0,0] for _ in range(N)]
    for j in range(N):
        if h[0][j] > 0:
            for i in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                priority_total[i][0] = total_spin[i][0]
        else:
            for i in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                priority_total[i][1] = -total_spin[site][0]
    priorities = []
    for j in range(N*N):
        if h[j//N][j%N] > 0:
            priorities.append((priority_total[j//N][0], 1))
        else:
            priorities.append((-priority_total[j//N][0], -1))
    return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0015714506172839506}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[i[1], i[0]] for i in sorted(priorities)]


#score: {'data2D.txt': 0.31821712962962906}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[0] += state[i][j] * h[site][j]
                    total_spin[1] -= state[i][j] * h[site][j]
                if h[i][j] > 0:
                    priorities.append(total_spin)
                else:
                    priorities.append([-x for x in total_spin])
        return priorities


#score: {'data2D.txt': 0.03903811728395064}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = sum([state[site][k] for k in range(min(j+1,N))])
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        
        return priority_total


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j)%N - 1)) % N
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        
        return priority


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        N2 = N*N
        priorities = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j)%N - 1)) % N
                for k in range(3):
                    s = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[s][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin
                else:
                    priorities[i*N+j][1] = -total_spin
        
        return priorities


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = [[0,0] for _ in range(N2)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][0] += h[site][j]
                
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority[i*N+j][1] = -total_spin[i*N+j][0]
                    
        return priority


#score: {'data2D.txt': 0.32924367283950523}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = [0,0]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                state = -1 if h[i][j] > 0 else 1
                total_spin[0] += state
                priority[i*N+j][1-int(state)>0] = total_spin[0]
        
        return priority


#score: {'data2D.txt': -0.0013097222222222223}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            total_spin = [0, 0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
            if h[i][0] > 0:
                priority[i*N+j][0] = total_spin[0]
            else:
                priority[i*N+j][1] = -total_spin[0]
        
        for i in range(N):
            for j in range(N):
                site1 = (i + ((j-1)%N - 1)) % N
                site2 = (i + ((j+1)%N - 1)) % N
                total_spin[0] += state[i][site1]
                total_spin[1] += state[i][site2]
            if h[i][j] > 0:
                priority[i*N+j][0] = total_spin[0]
                priority[i*N+j][1] = -total_spin[1]
            else:
                priority[i*N+j][0] = total_spin[1]
                priority[i*N+j][1] = -total_spin[0]
        
        return priority


#score: {'data2D.txt': -0.0017652777777777773}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k-j+N < N and k-j-N >= 0:
                        total_spin[0] += J[site, j-k%N].flatten()[0]
                    else:
                        total_spin[0] += h[site][j]
                for spin in [-1,1]:
                    priority_total = sum([spin*h[i][j] for j in range(N)])
                    priorities.append((priority_total + sum([spin*J[site, j-k%N].flatten()[0] for k in range(4) if k-j+N < N and k-j-N >= 0]), spin))
        return sorted(priorities)[::-1][:N*N]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][j] += h[site][j]
        priority_total = []
        for i in range(N):
            row_sum = sum(total_spin[i])
            for j in range(N):
                if h[i][j] > 0:
                    priority_total.append((row_sum, 1))
                else:
                    priority_total.append((-row_sum, -1))
        return priority_total


#score: {'data2D.txt': 0.001964969135802469}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += h[i][j]
        priority_total = np.zeros((N,2), dtype=int)
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][0] += spin
            priority_total[j][0] = sum(total_spin[:,0])
        return [[priority_total[i][0], 1 if h[i][j] > 0 else -1] for j in range(N) for i in range(N)]


#score: {'data2D.txt': 0.007640895061728394}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][j] += h[site][0]
        priority_total = np.zeros((N,2), dtype=int)
        for j in range(N):
            spin = -1 if h[(i+N-1)%N][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][j] += spin
        priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[i][j]
                else:
                    priority[i*N+j][1] = -total_spin[i][j]
        return priority.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = np.zeros((N,N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i,j,0] = total_spin
            else:
                priority_total[i,j,1] = -total_spin
    return priority_total.reshape((N*N,2)).tolist()


#score: {'data2D.txt': 0.15287793209876566}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0,0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += state[i][site]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                    total_spin = [0,0]
                else:
                    priorities.append((-total_spin[0], -1))
                    total_spin = [0,0]
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += h[i][j]
        priority_total = np.zeros((N,N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i][j][0] = total_spin[i][j]
                else:
                    priority_total[i][j][1] = -total_spin[i][j]
        return priority_total.reshape(N*N,2).tolist()


#score: {'data2D.txt': -0.004631944444444445}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[0]
                else:
                    priority_total[i*N+j][1] = -total_spin[0]
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += state[site][j]
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[0]
                else:
                    priority_total[j][1] = -total_spin[0]
        return priority_total


#score: {'data2D.txt': -0.005166512345679013}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N*N)]
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return priority


#score: {'data2D.txt': 0.14929243827160515}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        total_spin = 0
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin += h[site][j]
        if h[i][0] > 0:
            priority_total[i*N:(i+1)*N, 0] = total_spin
        else:
            priority_total[i*N:(i+1)*N, 1] = -total_spin
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                priority_total[i*N+j, 0] += state[i][j]
            else:
                priority_total[i*N+j, 1] += -state[i][j]
    return priority_total.tolist()


#score: {'data2D.txt': -0.0011328703703703705}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((2-j)%2 - 1)) % N
                for k in range(3):
                    neighbor_i = (i + ((k-1)%2 - 1)) % N
                    total_spin[neighbor_i][0] += h[i][j]
        priorities = []
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priorities.append((-total_spin[i][0], 1))
                else:
                    priorities.append((total_spin[i][0], -1))
        return [list(x) for x in sorted(priorities)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = np.zeros((N**2, 2))
        J_new = J.flatten()
        sum_1 = (np.prod(J_new[0::2], 0) + h).flatten()
        sum_2 = (-1)*sum_1
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority[i] = [sum_1[i] - sum_2[i], sum_1[i] + sum_2[i]]
            else:
                priority[i] = [-sum_1[i] + sum_2[i], -sum_1[i] - sum_2[i]]
        return(priority)


#score: {'data2D.txt': -0.0018526234567901236}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[(i*N+j), 0] = total_spin
            else:
                priority_total[(i*N+j), 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': 0.17020941358024638}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                state = (-1 if h[site][j] > 0 else 1)
                total_spin[i*N+j][0] += state
                total_spin[i*N+j][1] -= state
        priority_total = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i*N+j][1] = -total_spin[i*N+j][0]
        return priority_total


#score: {'data2D.txt': 0.00017824074074074075}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]  
        priorities = []  
        total_spin = [0,0]  
        for i in range(N):  
            for j in range(N):  
                site = (i + ((j-1)%N - 1)) % N  
                total_spin[0] += h[site][j]  
                if h[i][j] > 0:  
                    priorities.append((total_spin[0], 1))  
                else:  
                    priorities.append((-total_spin[0], -1))  
        return [[a,b] for a,b in sorted(priorities)]


#score: {'data2D.txt': 0.0007563271604938273}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return sorted(priorities)[::-1]


#score: {'data2D.txt': -0.0008060185185185185}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((-total_spin, 1))
        else:
          priorities.append((total_spin, -1))
    return [(a,b) for a,b in sorted(priorities)]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        
        return priority_total


#score: {'data2D.txt': -0.0008128086419753088}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                for k in range(3):
                    neighbor = (i + ((k-1)%2 - 1)) % N
                    total_spin[neighbor][0] += J[k][i*N+j]
                if h[i][j] > 0:
                    priority_total = total_spin[i][0]
                else:
                    priority_total = -total_spin[i][0]
                for k in range(3):
                    neighbor = (i + ((k-1)%2 - 1)) % N
                    total_spin[neighbor][0] -= J[k][i*N+j]
                if h[i][j] > 0:
                    return [(N*i+j,1) for _ in range(N**2)]
                else:
                    return [(N*i+j,-1) for _ in range(N**2)]


#score: {'data2D.txt': 0.010818672839506174}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    
    for i in range(N):
        total_spin = [0]*N
        for j in range(N):
            site = (i + ((j-1)%N) - N//2) % N
            total_spin[site] += state[i][j]
        for j in range(N):
            if h[i][j] > 0:
                priority_total[(i*N+j), 0] = total_spin[j]
            else:
                priority_total[(i*N+j), 1] = -total_spin[j]
    return priority_total


#score: {'data2D.txt': -0.0006347222222222216}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    
    for i in range(N):
      total_spin = [0]*N
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[site] += state[i][j]
      if h[i][j] > 0:
        priority_total[(i*N+j), 0] = sum(total_spin)
      else:
        priority_total[(i*N+j), 1] = -sum(total_spin)
    
    return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i+((k-1)%2 - 1)) % N][j] for k in range(3)])
                
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        
        return priority_total.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = np.zeros((N2,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                site1 = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site1][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[0]
                else:
                    priority_total[i*N+j][1] = -total_spin[0]
                
                site2 = (i + ((N-1-j)%N - 1)) % N
                total_spin[1] += h[site2][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += total_spin[1]
                else:
                    priority_total[i*N+j][1] -= total_spin[1]
        
        return priority_total


#score: {'data2D.txt': -0.004106635802469135}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = np.zeros((N2, 2), dtype=int)
        
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site1 = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site1][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[0]
                else:
                    priority_total[i*N+j][1] = -total_spin[0]
                
                site2 = (i + ((N-1-j)%N - 1)) % N
                total_spin[1] += h[site2][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] += total_spin[1]
                else:
                    priority_total[i*N+j][1] -= total_spin[1]
        
        return priority_total


#score: {'data2D.txt': -0.0011013888888888892}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] += 1 if h[i][j] > 0 else -1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site*N+j][0] += 1 if h[i][j] > 0 else -1
        priority_total = [[0 for _ in range(2)] for _ in range(N)]
        for j in range(N):
            for i in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[site*N+j][0]
                else:
                    priority_total[j][1] = -total_spin[site*N+j][0]
        priorities = []
        for j in range(N*N):
            if h[j//N][j%N] > 0:
                priorities.append((priority_total[j//N][0], 1))
            else:
                priorities.append((-priority_total[j//N][0], -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.00142391975308642}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += spin
        priority_total = [[0,0] for _ in range(N)]
        for j in range(N):
            if h[0][j] > 0:
                for i in range(N):
                    site = (i + ((j-1)%2 - 1)) % N
                    priority_total[i][0] = total_spin[i][0]
            else:
                for i in range(N):
                    site = (i + ((j-1)%2 - 1)) % N
                    priority_total[i][1] = -total_spin[site][0]
        priorities = []
        for j in range(N*N):
            if h[j//N][j%N] > 0:
                priorities.append((priority_total[j//N][0], 1))
            else:
                priorities.append((-priority_total[j//N][0], -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0, 0]
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    site_sum += state[site][j]
                if h[i][j] > 0:
                    total_spin[0] += site_sum
                    priorities.append((total_spin[0], 1))
                else:
                    total_spin[1] -= site_sum
                    priorities.append((-1 * total_spin[1], -1))
        return priorities


#score: {'data2D.txt': -0.17246496913580261}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j%2) - 1)) % N
                total_spin = sum([state[site][k] for k in range(N)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.3418541666666656}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += 1 if h[i][j] > 0 else -1
                site = (i + ((j+1)%N - 1)) % N
                total_spin[site][0] += 1 if h[i][j] > 0 else -1
                site = (i + ((i+j-1)%2 - 1)) % N
                total_spin[site][0] += 1 if h[i][j] > 0 else -1
        priority_total = [[total_spin[i][0], 1] if h[(i//N)][i%N] > 0 else [-total_spin[i][0], -1] for i in range(N*N)]
        return priority_total


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority = (total_spin, 1)
                else:
                    priority = (-total_spin, -1)
                priorities.append(priority)
        return priorities


#score: {'data2D.txt': -0.01128317901234563}
program:
def priority(N, h, J):
        N2 = N*N
        total_spin = np.zeros(2)
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j] = [total_spin[0], 0]
                else:
                    priority[i*N+j] = [-total_spin[0], 1]
        return priority


#score: {'data2D.txt': -0.21168194444444452}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += spin
                if h[i][j] > 0:
                    priorities.append((total_spin[site][0], spin))
                else:
                    priorities.append((-total_spin[site][0], spin))
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority_list = []
        for i in range(N):
            for j in range(N):
                total_spin = np.zeros((N,2), dtype=int)
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority_list.append([total_spin[site][0], 1])
                else:
                    priority_list.append([-total_spin[site][0], -1])
        return priority_list


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    N = int(N)
    priorities = [[0,0] for _ in range(N**2)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[i][0 if h[site][j] > 0 else 1] += h[i][j]
            priorities[i*N+j][0 if h[i][j] > 0 else 1] = total_spin[i][0 if h[i][j] > 0 else 1]
    return priorities


#score: {'data2D.txt': 0.03366095679012345}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        priorities = np.zeros((N**2,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][0] += state[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin[i][0]
                else:
                    priorities[i*N+j][1] = -total_spin[i][0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin[site][0]
                else:
                    priorities[i*N+j][1] = -total_spin[site][0]
        return priorities.tolist()


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        total_spin = np.zeros((N*N, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site*N+j, 0 if h[i][j] > 0 else 1] += spin
        return total_spin


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] * state[i][j-k%N] for k in range(min(j+1,N))])
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        
        for i in range(N):
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][0] += state[i][k]
        
        priority_total = np.zeros((N*N,2), dtype=int)
        for j in range(N):
            for i in range(N):
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin[i][1]
                else:
                    priority_total[(i*N+j), 1] = -total_spin[i][1]
        
        return priority_total


#score: {'data2D.txt': 0.17118410493827185}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    total_spin += J[k][site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[priorities[j][0], priorities[j][1]] for j in range(N*N)]


#score: {'data2D.txt': -0.20612422839506192}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, -1))
                else:
                    priorities.append((-total_spin, 1))
        return priorities


#score: {'data2D.txt': -0.2950908950617275}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0,0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += state[i][j]*state[state[i][site]][j]
                total_spin[1] += -state[i][j]*state[state[i][site]][j]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priorities.append((total_spin[0], 1))
            else:
                priorities.append((total_spin[1], -1))
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority = np.zeros((N**2, 2))
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority[(i*N+j),0] = -1
                    priority[(i*N+j),1] = 1
                else:
                    priority[(i*N+j),0] = 1
                    priority[(i*N+j),1] = -1
        return(priority)


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        return priority_total


#score: {'data2D.txt': 0.11372515432098769}
program:
def priority(N, h, J):
        priority = np.zeros((N**2, 2))
        J_new = J.flatten()
        for i in range(N**2):
            sum_1 = 0
            sum_2 = 0
            for k in range(4):
                site = (i//N + ((k-1)%2 - 1)) % N * N + (i%N) + ((k-1)%2)
                if J_new[site] > 0:
                    sum_1 += h[i//N][i%N]
                    sum_2 -= J_new[site]
                else:
                    sum_1 -= h[i//N][i%N]
                    sum_2 += J_new[site]
            if sum_1 > 0:
                priority[i] = [sum_1 - sum_2, sum_1 + sum_2]
            else:
                priority[i] = [-sum_1 + sum_2, -sum_1 - sum_2]
        return(priority)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = [[float('inf'), float('-inf')] for _ in range(N2)]
        total_spin = [0,0]
        
        for k in range(3):
            for i in range(N):
                for j in range(N):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[0] += state[i][j]
                    priority[i*N+j] = [total_spin[0], -total_spin[1]]
        return priority


#score: {'data2D.txt': 8.132716049382671e-05}
program:
def priority(N, h, J):
        J_flat = J.reshape(4*N**2)
        priority = [[0, 0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = [0, 0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[i][j] > 0:
                        total_spin[1] += J_flat[(site*N+j)*4:(site*N+j)*4+1].sum()
                    else:
                        total_spin[0] -= J_flat[(site*N+j)*4:(site*N+j)*4+1].sum()
                if h[i][j] > 0:
                    priority[i*N+j] = [total_spin[1], -total_spin[0]]
                else:
                    priority[i*N+j] = [-total_spin[1], total_spin[0]]
        return priority


#score: {'data2D.txt': -0.0014473765432098764}
program:
def priority(N, h, J):
        J_flat = J.reshape(4*N**2)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J_flat[(site*N+j)*4:(site*N+j)*4+1].sum()
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [(i[0], i[1]) for i in sorted(priorities)]


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((-total_spin, -1))
    return priorities


#score: {'data2D.txt': -0.0684967592592593}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N)]
        priority_list = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    total_spin[site][0] += 1
                else:
                    total_spin[site][1] += 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority_list[i*N+j][0] = total_spin[site][0]
                else:
                    priority_list[i*N+j][1] = -total_spin[site][0]
        return priority_list


#score: {'data2D.txt': -0.04612854938271605}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += 1 if h[i][j] > 0 else -1
        priority_list = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority_list[i*N+j][0] = total_spin[site][0]
                else:
                    priority_list[i*N+j][1] = -total_spin[site][0]
        return priority_list.tolist()


#score: {'data2D.txt': -0.00015354938271604907}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%2 - 1)) % N
            for k in range(3):
                site2 = (site + ((k-1)%2 - 1)) % N
                if h[i][j] > 0:
                    total_spin += state[site2][j]
                else:
                    total_spin -= state[site2][j]
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((-total_spin, -1))
    return [[x[1],x[0]] for x in sorted(priorities)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = np.zeros((N,N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%N - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i,j,0] = total_spin
            else:
                priority_total[i,j,1] = -total_spin
    return priority_total.reshape(N*N,2)


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
    priorities = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin = h[site][j]
            if h[i][j] > 0:
                priorities[i*N+j][0] = total_spin
            else:
                priorities[i*N+j][1] = -total_spin
    return priorities


#score: {'data2D.txt': 0.0028408950617283954}
program:
def priority(N, h, J):
        priority = [[0.5 for _ in range(2)] for _ in range(N**2)]
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    total_spin += state[site][k%N]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return priority


#score: {'data2D.txt': -0.04920601851851852}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
        priority_total = [[0, 0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][0] += state[site][j]
                total_spin[i*N+j][1] += state[i][site]
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin[i*N+j][0], -total_spin[i*N+j][1]]
                else:
                    priority_total[i*N+j] = [-total_spin[i*N+j][0], total_spin[i*N+j][1]]
        return [[spin for spin in row] for row in priority_total]


#score: {'data2D.txt': 0.018448611111111114}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for k in range(3):
            for i in range(N):
                site = (i + ((k-1)%2 - 1)) % N
                for j in range(N):
                    total_spin[site][0] += state[i][j]
        return [total_spin[i]+[h[i][j]] for i in range(N) for j in range(N)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                site_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((site_spin, 1))
                else:
                    priorities.append((-site_spin, -1))
        return [[x for x in row] for row in [[0]*2 for _ in range(N**2)]]


#score: {'data2D.txt': -0.0006202160493827155}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site_spin = 1 if h[i][j] > 0 else -1
                total_spin = sum([state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] if k%2 == 0 else -state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] for k in range(4)])
                if site_spin > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0006658950617283955}
program:
def priority(N, h, J):
        total_spin = np.zeros((N, N), dtype=int)  
        for i in range(N):  
            for j in range(N):  
                site = (i + ((j-1)%2 - 1)) % N  
                total_spin[site][0] += 1 if h[i][j] > 0 else -1  
        priority_total = np.zeros((N,2), dtype=int)  
        for i in range(N):  
            for j in range(N):  
                site = (i + ((j-1)%2 - 1)) % N  
                total_spin[site][0] += 1 if h[i][j] > 0 else -1  
                priority_total[i][0] += 1 if h[i][j] > 0 else -1  
        priorities = []  
        for i in range(N*N):  
            if h[i//N][i%N] > 0:  
                priorities.append((-total_spin[i//N][i%N], 1))  
            else:  
                priorities.append((total_spin[i//N][i%N], -1))  
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0006202160493827155}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
          for j in range(N):
              total_spin = sum([state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] if k%2 == 0 else -state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] for k in range(4)])
              if h[i][j] > 0:
                  priorities.append((-total_spin, 1))
              else:
                  priorities.append((total_spin, -1))
      return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[(i*N+j), 0] = total_spin
            else:
                priority_total[(i*N+j), 1] = -total_spin
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(3):
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    if neighbor[0] == i:
                        site_sum += J[k][neighbor[0]][neighbor[1]]
                    else:
                        site_sum += J[k][(neighbor[0]-i+2)%N][j]
                total_spin[i*N+j, h[i][j] > 0] = site_sum
        return total_spin


#score: {'data2D.txt': 0.055821759259259085}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[site][0] += state[i][k%N]
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        total_spin[site][1] += h[i][j]
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin[site][0], 1]
        else:
          priority_total[i*N+j] = [-total_spin[site][0], -1]
    return priority_total


#score: {'data2D.txt': -0.00017916666666666702}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += site_spin
                if h[i][j] > 0:
                    priorities.append((total_spin[i][0], 1))
                else:
                    priorities.append((-total_spin[i][0], -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': 0.0037507716049382713}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[i][j] += J[0][site][0]
        if i > 0:
          site = (i - 1 + ((j-1)%2 - 1)) % N
          total_spin[i][j] += J[1][site][0]
        if j > 0:
          site = (i + ((j-1)%2 - 1)) % N
          total_spin[i][j] += J[2][site][0]
        if i < N-1:
          site = (i + 1 + ((j-1)%2 - 1)) % N
          total_spin[i][j] += J[3][site][0]
    priority_total = np.zeros((N,N,2), dtype=int)
    for j in range(N):
      if h[j][0] > 0:
        priority_total[j][0][0] = total_spin[j][0]
      else:
        priority_total[j][1][0] = -1*total_spin[j][0]
    return priority_total.reshape((N*N,2))


#score: {'data2D.txt': -0.11696990740740758}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                for k in range(3):
                    if k == 0:
                        total_spin[i*N+j][0] += J[0][site][0]
                    elif k == 1:
                        total_spin[i*N+j][0] += J[1][site][0]
                    else:
                        total_spin[i*N+j][0] += J[2][site][0]
                if h[i][j] > 0:
                    total_spin[i*N+j][1] = total_spin[i*N+j][0]
                else:
                    total_spin[i*N+j][1] = -total_spin[i*N+j][0]
        return [list(x) for x in total_spin]


#score: {'data2D.txt': -0.00021064814814814804}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][j] += J[(i%2)][site][0]
                if i > 0:
                    total_spin[i][j] += J[1][site][0]
                if j > 0:
                    total_spin[i][j] += J[3][site][0]
                if i < N-1:
                    total_spin[i][j] += J[(i+1)%2][site][0]
        priority_total = np.zeros((N*N,2), dtype=int)
        for j in range(N):
            if h[j][0] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -total_spin[j][0]
        return priority_total.reshape((N*N,2))


#score: {'data2D.txt': -0.0011430555555555554}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            for k in range(3):
                total_spin[i][j] += J[k][site][0]
            if h[i][j] > 0:
                priority_total = np.zeros((N,N,2), dtype=int)
                for j in range(N):
                    if h[j][0] > 0:
                        priority_total[j][0][0] = total_spin[j][0]
                    else:
                        priority_total[j][1][0] = -1*total_spin[j][0]
                return priority_total.reshape((N*N,2))


#score: {'data2D.txt': -0.0011405864197530863}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            total_spin = np.zeros((N,2), dtype=int)
            for j in range(N):
                site_spin = state[i][j]
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += spin
                if h[i][j] > 0:
                    priorities.append((-total_spin[i][0], 1))
                else:
                    priorities.append((total_spin[i][0], -1))
        return [[x, 1-x] for x,_ in sorted(priorities)]


#score: {'data2D.txt': -0.00021867283950617334}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in [(i+1)%N, (i+N-1)%N]:
                    total_spin += state[k][j]
                for k in [(j+1)%N, (j+N-1)%N]:
                    total_spin += state[i][k]
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return sorted(priorities)[::-1]


#score: {'data2D.txt': -0.00021280864197530862}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[x, 1-x] for x,_ in sorted(priorities)]


#score: {'data2D.txt': -0.0019375}
program:
def priority(N, h, J):
        J_flat = J.reshape(4*N**2)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if h[i][j-k%N] > 0 else -state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [(i[0], i[1]) for i in sorted(priorities)]


#score: {'data2D.txt': 0.00027237654320987623}
program:
def priority(N, h, J):
        J_flat = J.reshape(4*N**2)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j%N+2)%N - 1)) % N * N + j
                for k in range(4):
                    offset = k*N**2
                    neighbor = site + (offset + ((k-1)%2 - 1)) % N**2
                    total_spin += J_flat[neighbor:neighbor+1].sum()
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [(i[0], i[1]) for i in sorted(priorities)]


#score: {'data2D.txt': 0.11926064814814831}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N*N)]
    state = [[-1 if h[i][j]>0 else 1 for j in range(N)] for i in range(N)]
    
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[(i*N+j)][0] += sum([state[site][k] if k in [j-1,j+1] else 0 for k in range(N)])
    
    priority_total = [[total_spin[i][0], 1] if h[i//N][i%N]>0 else [-total_spin[i][0], -1] for i in range(N*N)]
    return priority_total


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, -1))
                else:
                    priority.append((total_spin, 1))
        for j in range(N):
            if sum(h[i][j] for i in range(N)) > 0:
                priority_total = [(sum(h[i][j] for i in range(N)), 1) for _ in range(N)]
            else:
                priority_total = [(-sum(h[i][j] for i in range(N)), -1) for _ in range(N)]
        return priority


#score: {'data2D.txt': 0.2447532407407406}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j%2) - 1)) % N
                total_spin[site][0] += state[i][j]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += -1 if state[i][j] > 0 else 1
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priorities.append((total_spin[i//N][0], 1))
            else:
                priorities.append((-total_spin[i//N][0], -1))
        return priorities


#score: {'data2D.txt': -0.01753719135802469}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if h[i][j-k%N] > 0 else -row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N**2):
            total_spin = sum([state[(i//N)%N][max(0, min(i%N,k))]*2-1 if h[(i//N)%N][max(0, min(i%N,k))] > 0 else 1 for k in range(max(0, i%N), min(N,i%N+1))])
            priorities.append((total_spin, -1) if sum(h[i//N][j] for j in range(N)) > 0 else (total_spin, 1))
        return priorities


#score: {'data2D.txt': -0.0043788580246913586}
program:
def priority(N, h, J):
        N2 = N*N
        priorities = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            total_spin = [0, 0]
            for j in range(N):
                site1 = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site1][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin[0]
                else:
                    priorities[i*N+j][1] = -total_spin[0]
                
                site2 = (i + ((N-1-j)%N - 1)) % N
                total_spin[1] += h[site2][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] += total_spin[1]
                else:
                    priorities[i*N+j][1] -= total_spin[1]
        return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [list(x) for x in priorities]


#score: {'data2D.txt': 0.22170293209876554}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if h[i][j] > 0 else -state[i][j-k%N] for k in range(min(j,N-1))])
                priorities.append((total_spin, -1) if h[i][j] > 0 else (total_spin, 1))
        
        return [[p[1], p[0]] for p in priorities]


#score: {'data2D.txt': -0.0009816358024691359}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return sorted(priorities)


#score: {'data2D.txt': 0.09528009259259258}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[k][site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.0011430555555555554}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                for k in range(3):
                    total_spin[i][j] += J[k][site][0]
                if h[i][j] > 0:
                    priority_total = np.zeros((N,N,2), dtype=int)
                    for j in range(N):
                        if h[j][0] > 0:
                            priority_total[j][0][0] = total_spin[j][0]
                        else:
                            priority_total[j][1][0] = -1*total_spin[j][0]
                    return priority_total.reshape((N*N,2))


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [[priorities[j][0], priorities[j][1]] for j in range(N*N)]


#score: {'data2D.txt': -0.000897067901234568}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site] += state[i][j]*h[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site], 1))
                else:
                    priorities.append((-total_spin[site], -1))
        return [[p[1],-p[0]] for p in sorted(priorities)]


#score: {'data2D.txt': -0.0008251543209876545}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((total_spin, -1))
    return [[x[0],-x[1]] for x in sorted(priorities)]


#score: {'data2D.txt': -0.009625771604938273}
program:
def priority(N, h, J):
        N2 = N*N
        priorities = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site1 = (i + ((j-1)%N - 1)) % N
                total_spin += h[site1][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin
                else:
                    priorities[i*N+j][1] = -total_spin
                
                site2 = (i + ((N-1-j)%N - 1)) % N
                total_spin += h[site2][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] += total_spin
                else:
                    priorities[i*N+j][1] -= total_spin
        
        return priorities


#score: {'data2D.txt': -0.009625771604938273}
program:
def priority(N, h, J):
        N2 = N*N
        priorities = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            for j in range(N):
                site1 = (i + ((j-1)%N - 1)) % N
                total_spin = h[site1][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin
                else:
                    priorities[i*N+j][1] = -total_spin
                
                site2 = (i + ((N-1-j)%N - 1)) % N
                total_spin += h[site2][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] += total_spin
                else:
                    priorities[i*N+j][1] -= total_spin
        return priorities


#score: {'data2D.txt': -0.0028214506172839506}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            total_spin = [0, 0]
            for j in range(N):
                site1 = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site1][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
                
                site2 = (i + ((N-1-j)%N - 1)) % N
                total_spin[1] += h[site2][j]
                if h[i][j] > 0:
                    priorities[-1] = (priorities[-1][0]+total_spin[1], priorities[-1][1])
                else:
                    priorities[-1] = (priorities[-1][0]-total_spin[1], -priorities[-1][1])
        
        return priorities


#score: {'data2D.txt': -0.20015447530864225}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = [0 for _ in range(N2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[i*N+j] += h[site][j]
            if h[i][j] > 0:
                priority[i*N+j] = [total_spin[i*N+j], 0]
            else:
                priority[i*N+j] = [-total_spin[i*N+j], 1]
    return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0]*N**2
        for k in range(3):
            for i in range(N):
                for j in range(N):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[(i*N+j)] += state[site][j]
        priority_total = [[0, 0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[(i*N+j)][0] = total_spin[(i*N+j)]
                else:
                    priority_total[(i*N+j)][1] = -total_spin[(i*N+j)]
        return priority_total


#score: {'data2D.txt': -0.0008128086419753088}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            for k in range(3):
                neighbor = (i + ((k-1)%2 - 1)) % N
                total_spin[neighbor][0] += J[k][i*N+j]
            if h[i][j] > 0:
                priority_total = total_spin[i][0]
            else:
                priority_total = -total_spin[i][0]
            for k in range(3):
                neighbor = (i + ((k-1)%2 - 1)) % N
                total_spin[neighbor][0] -= J[k][i*N+j]
            if h[i][j] > 0:
                return [(N*i+j,1) for _ in range(N**2)]
            else:
                return [(N*i+j,-1) for _ in range(N**2)]

    priority_total = [[0,0] for _ in range(N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[site][0] += h[i][j]
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[site][0]
            else:
                priority_total[j][1] = -total_spin[site][0]

    return [priority_total[j] for j in range(N)]


#score: {'data2D.txt': -0.0008128086419753088}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        for k in range(3):
          neighbor = (i + ((k-1)%2 - 1)) % N
          total_spin[neighbor][0] += J[k][i*N+j]
        if h[i][j] > 0:
          priority_total = total_spin[i][0]
        else:
          priority_total = -total_spin[i][0]
        for k in range(3):
          neighbor = (i + ((k-1)%2 - 1)) % N
          total_spin[neighbor][0] -= J[k][i*N+j]
        if h[i][j] > 0:
          return [(N*i+j,1) for _ in range(N**2)]
        else:
          return [(N*i+j,-1) for _ in range(N**2)]


#score: {'data2D.txt': -0.11696990740740758}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                for k in range(3):
                    if k == 0:
                        total_spin[i*N+j][0] += J[0][site][0]
                    elif k == 1:
                        total_spin[i*N+j][0] += J[1][site][0]
                    else:
                        total_spin[i*N+j][0] += J[2][site][0]
                if h[i][j] > 0:
                    total_spin[i*N+j][1] = total_spin[i*N+j][0]
                else:
                    total_spin[i*N+j][1] = -total_spin[i*N+j][0]
        return [[x for x in row] for row in total_spin]


#score: {'data2D.txt': -0.04733317901234568}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N**2):
            total_spin = [0,0]
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[0] += state[site][((i//N)+((k-1)%2-1))%N]
                total_spin[1] -= state[(i//N)][(i%N)]
            if h[i//N][i%N] > 0:
                priorities.append(total_spin)
            else:
                priorities.append([-x for x in total_spin])
        return priorities


#score: {'data2D.txt': -0.0006023148148148145}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    state = (i + ((k-1)%2 - 1)) % N
                    total_spin[i*N+j][0] += h[state][j]
                if h[i][j] > 0:
                    priority_total = [[float('inf') for _ in range(2)] for _ in range(N**2)]
                    for j in range(N):
                        site = (i + ((j-1)%N - 1)) % N
                        if h[site][j] > 0:
                            priority_total[i*N+j][0] = total_spin[i*N+j][0]
                        else:
                            priority_total[i*N+j][1] = -total_spin[i*N+j][1]
                    return [[x for x in row] for row in priority_total]


#score: {'data2D.txt': 0.010939660493827158}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                state = [-1 if h[i][j] > 0 else 1 for j in range(N)]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += state[j]
        priority_total = [[float('inf') for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[site][j] > 0:
                    priority_total[i*N+j][0] = total_spin[site][0]
                else:
                    priority_total[i*N+j][1] = -total_spin[site][0]
        return [[x for x in row] for row in priority_total]


#score: {'data2D.txt': -0.0017270061728395063}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site_interactions = []
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k-j+N < N and k-j-N >= 0:
                        site_interactions.append(J[site, j-k%N].flatten()[0])
                    else:
                        site_interactions.append(h[site][j])
                total_spin[i*N+j] = [sum(site_interactions), -sum(site_interactions)]
        return sorted(total_spin)


#score: {'data2D.txt': -0.000912191358024691}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[k,(i*N+j) : (i*N+site),:(j+1)].sum()
                if h[i][j] > 0:
                    priorities[(i*N+j)][0] = total_spin
                else:
                    priorities[(i*N+j)][1] = -total_spin
        return priorities


#score: {'data2D.txt': -0.00091466049382716}
program:
def priority(N, h, J):
    priority_list = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            total_spin = 0
            spin = -1 if h[i][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += J[site*N:site*N+N, j].sum() * spin
            priority_list[i*N+j][:] = [total_spin, -total_spin]
    return priority_list


#score: {'data2D.txt': 0.33388626543209776}
program:
def priority(N, h, J):
        priority_list = [[0 for _ in range(2)] for _ in range(N**2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += J[site*N:site*N+N,j].sum()
                if h[i][j] > 0:
                    priority_list[i*N+j][:] = [total_spin[site][0], 1]
                else:
                    priority_list[i*N+j][:] = [-total_spin[site][0], -1]
        return priority_list


#score: {'data2D.txt': 0.001082253086419753}
program:
def priority(N, h, J):
    priority_list = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin = h[site][j]
            if h[i][j] > 0:
                priority_list[i*N+j][:] = [total_spin, -total_spin]
            else:
                priority_list[i*N+j][:] = [-total_spin, total_spin]
    return priority_list


#score: {'data2D.txt': 0.3411566358024681}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
            if h[i][0] > 0:
                priority[i*N+j][0] = total_spin
            else:
                priority[i*N+j][1] = -total_spin
                
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority[(i*N+j), 0] = total_spin
                else:
                    priority[(i*N+j), 1] = -total_spin
                    
        return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
        N = int(N)
        J_new = J.reshape(-1,2).flatten()
        sum1 = (np.prod(J_new[0::2], 0)).flatten()
        sum2 = (np.prod(J_new[1::2], 0)).flatten()
        h_flatten = h.flatten()
        priority = np.column_stack((sum1+h_flatten, -sum1-h_flatten))
        return(priority)


#score: {'data2D.txt': 0.2313328703703704}
program:
def priority(N, h, J):
    N = int(N)
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = [[0,0] for _ in range(N**2)]
    for i in range(N):
      for j in range(N):
        total_spin = sum([state[(i + ((k-1)%2 - 1)) % N][j-k%N] if h[i][j] > 0 else -state[(i + ((k-1)%2 - 1)) % N][j-k%N] for k in range(3)])
        if h[i][j] > 0:
          priorities[i*N+j] = [total_spin, 1]
        else:
          priorities[i*N+j] = [-total_spin, -1]
    return priorities


#score: {'data2D.txt': -0.0018547839506172837}
program:
def priority(N, h, J):
        N = int(N)
        priorities = [[0,0] for _ in range(N**2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][0] += h[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin[i][0]
                else:
                    priorities[i*N+j][1] = -total_spin[i][1]
        for i in range(N):
            site = (i + ((N-1)%2 - 1)) % N
            total_spin[i][0] += sum([h[k][site] for k in range(N)])
            if h[i][N-1-i] > 0:
                priorities[i*N+site][0] = total_spin[i][0]
            else:
                priorities[i*N+site][1] = -total_spin[i][1]
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_priority = np.zeros((N*N, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    site = (i + ((1%2 - 1)) % N) * N + j
                    total_priority[site, 0] += 1
                else:
                    site = (i + ((1%2 - 1)) % N) * N + j
                    total_priority[site, 1] -= 1
        return total_priority


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin_sum = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin_sum += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin_sum, 1))
                else:
                    priorities.append((-total_spin_sum, -1))
        return priorities


#score: {'data2D.txt': -0.0015458333333333333}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = h[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, 1))
                else:
                    priority.append((total_spin, -1))
        return [[a, b] for a,b in sorted(priority)]


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                total_spin = [0, 0]
                
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[0] += state[site][j]
                if h[i][j] > 0:
                    priorities.append([total_spin[0], 1])
                else:
                    priorities.append([-total_spin[0], -1])
        
        return priorities


#score: {'data2D.txt': -0.05336157407407408}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site][0]
                else:
                    priority[i*N+j][1] = -total_spin[site][0]
        
        for j in range(N):
            row_sum = sum(h[:,j])
            for i in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority[i*N+j][0] += row_sum
                else:
                    priority[i*N+j][1] -= row_sum
        
        return priority


#score: {'data2D.txt': 0.004595524691358025}
program:
def priority(N, h, J):
    N2 = N*N
    priority_total = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = [np.zeros((N,2), dtype=int) for _ in range(N)]
    
    for i in range(N):
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[i][site][0] += spin
            priority_total[i*N+j] = [total_spin[i][0].sum(), -total_spin[i][1].sum()]
    return priority_total


#score: {'data2D.txt': -0.05414922839506174}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][0] += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[i][0]
                else:
                    priority[i*N+j][1] = -total_spin[i][0]
        for i in range(N):
            row_sum = sum(h[i])
            for j in range(N):
                if h[i][j] > 0:
                    priority[i*N+j][0] += row_sum
                else:
                    priority[i*N+j][1] -= row_sum
        return priority


#score: {'data2D.txt': -0.09538009259259264}
program:
def priority(N, h, J):
    priority = [[0,0] for _ in range(N*N)]
    total_spin = [0]*N
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[site] += h[i][j]
        if h[i][j] > 0:
          priority[i*N+j][0] = total_spin[site]
        else:
          priority[i*N+j][1] = -total_spin[site]
    return priority


#score: {'data2D.txt': 0.0036479938271604933}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N**2, 2), dtype=int)
        for i in range(N):
            total_spin = [0, 0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                total_spin[1] -= h[site][j]
            if h[i][0] > 0:
                priority_total[i*N+0][0] = total_spin[0]
                priority_total[i*N+N-1][1] = -total_spin[1]
            else:
                priority_total[i*N+0][0] = -total_spin[0]
                priority_total[i*N+N-1][1] = total_spin[1]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority_total[j*N+i][0] += state[site][j]
                    priority_total[j*N+i][1] -= state[site][j]
        return priority_total


#score: {'data2D.txt': -0.0026933641975308642}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    
    for i in range(N):
        total_spin = [0,0]
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            if h[i][j] > 0:
                total_spin[0] += state[site][j]
                priority_total[j*N+i][0] = total_spin[0]
            else:
                total_spin[1] -= state[site][j]
                priority_total[j*N+i][1] = -total_spin[1]
    
    return priority_total


#score: {'data2D.txt': 0.16438472222222242}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        total_spin = [0,0]
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[0] += h[site][j]
            if h[i][j] > 0:
                priorities.append((total_spin[0], 1))
            else:
                priorities.append((-total_spin[0], -1))
    return priorities


#score: {'data2D.txt': 0.15176033950617307}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            total_spin = [[0,0] for _ in range(N)]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[j][0] += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[j][0], 1))
                else:
                    priorities.append((-total_spin[j][0], -1))
        return priorities


#score: {'data2D.txt': -0.00040817901234567943}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N) // N) % N
                total_spin[site][0] += state[i][j]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priorities.append((total_spin[i][0], 1))
                else:
                    priorities.append((-total_spin[i][0], -1))
        return [[priority[0], priority[1]] for priority in sorted(priorities, reverse=True)]


#score: {'data2D.txt': -0.0667609567901235}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = np.zeros((N*N,2), dtype=int)
    total_spin = np.zeros((N,N), dtype=int)
    
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N) // N) % N
        total_spin[site][0] += state[i][j]
        if h[i][j] > 0:
          priorities[i*N+j,0] = total_spin[site][0]
          priorities[i*N+j,1] = 1
        else:
          priorities[i*N+j,0] = -total_spin[site][0]
          priorities[i*N+j,1] = -1
    
    return priorities.tolist()


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N) // N) % N
                total_spin = sum([state[i][k] if abs(i-site) + abs(j-k) == 1 else state[i][k]*h[i][k] for k in range(N)])
                priorities[i*N+j] = [total_spin, -total_spin]
        return priorities.tolist()


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N) // N) % N
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total = total_spin
                else:
                    priority_total = -total_spin
                priorities.append((priority_total, 1))
        return sorted(priorities, reverse=True)


#score: {'data2D.txt': 0.027214043209876543}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
        for i in range(N):
            for j in range(N):
                total_spin[0][j] = total_spin[N-1][j] if j == 0 else (total_spin[0][j-1] + total_spin[N-1][j]) // 2
                site = (i + ((j-1)%2 - 1)) % N
                priorities[i*N+j, 0] = total_spin[site][0]
        return priorities


#score: {'data2D.txt': 0.057156018518518543}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[(i+((k-1)%2) % N, j-k%N)].flatten()[0] if (0 <= k-j+N <= N and 0 <= k-j-N < N) else h[i][j] for k in range(3)])
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin, 1]
                else:
                    priorities[i*N+j] = [-total_spin, -1]
        return priorities


#score: {'data2D.txt': 0.057156018518518543}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    total_spin = sum([J[(i+((k-1)%2) % N, j-k%N)].flatten()[0] if (0 <= k-j+N <= N and 0 <= k-j-N < N) else h[i][j] for k in range(3)])
                    priorities[i*N+j] = [total_spin, 1]
                else:
                    total_spin = sum([J[(i+((k-1)%2) % N, j-k%N)].flatten()[0] if (0 <= k-j+N <= N and 0 <= k-j-N < N) else h[i][j] for k in range(3)])
                    priorities[i*N+j] = [-total_spin, -1]
        return priorities


#score: {'data2D.txt': 0.03179552469135804}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = []
        
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if (i+k)%2 == 0 else -row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                priority.append((total_spin, 1) if h[i][j] > 0 else (-total_spin, -1))
        
        return priority


#score: {'data2D.txt': -0.0016973765432098762}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
            if h[i][0] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
                
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    J_flat = J.reshape(4*N**2)
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[(i*N+j), 0] = total_spin
            else:
                priority_total[(i*N+j), 1] = -total_spin
    return priority_total.tolist()


#score: {'data2D.txt': 8.132716049382671e-05}
program:
def priority(N, h, J):
        J_flat = J.reshape(4*N**2)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J_flat[(site*N+j)*4:(site*N+j)*4+1].sum()
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin
                else:
                    priorities[i*N+j][1] = -total_spin
        
        return priorities


#score: {'data2D.txt': -0.001041203703703704}
program:
def priority(N, h, J):
        J_flat = J.reshape(4*N**2)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J_flat[(site*N+j)*4+k]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [(i[0], i[1]) for i in sorted(priorities)]


#score: {'data2D.txt': -0.0034520061728395062}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[0]
                else:
                    priority_total[i*N+j][1] = -total_spin[0]
        return priority_total


#score: {'data2D.txt': -0.0013307098765432098}
program:
def priority(N, h, J):
        priorities = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    spin = -1 if h[i][j] > 0 else 1
                    total_spin[spin==1] += J[(site*N+j)*4:(site*N+j)*4+1].sum()
                priority_total = [int(x) for x in total_spin]
                priorities[i*N+j] = priority_total
        return priorities


#score: {'data2D.txt': 0.11328441358024705}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N**2)]
        J_flat = J.reshape((4*N**2))
        for i in range(N):
            for j in range(N):
                site_spin_sum = [0, 0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin = site_spin_sum[0] if h[i][j] > 0 else site_spin_sum[1]
                    total_spin += J_flat[(site*N+j)*4:(site*N+j)*4+1].sum()
                    site_spin_sum[0] += h[i][j] if total_spin > 0 else -h[i][j]
                    site_spin_sum[1] -= h[i][j] if total_spin < 0 else -h[i][j]
                priorities[i*N+j] = list(site_spin_sum)
        return priorities


#score: {'data2D.txt': -0.16809830246913599}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                site_sum = 0
                for k in range(3):
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    if neighbor[0] == i:
                        site_sum += J[k][neighbor[0]][neighbor[1]]
                    else:
                        site_sum += J[k][(neighbor[0]-i+2)%N][j]
                total_spin = site_sum + row_sum[j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.1713328703703706}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(3):
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    if neighbor[0] == i:
                        site_sum += J[k][neighbor[0]][neighbor[1]]
                    else:
                        site_sum += J[k][(neighbor[0]-i+2)%N][j]
                total_spin = site_sum
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.02222052469135802}
program:
def priority(N, h, J):
        J = J.reshape(4,N*N)
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[k][i*N+j]
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin
                    priority_total[i*N+j, 1] = -total_spin
                else:
                    priority_total[i*N+j, 0] = -total_spin
                    priority_total[i*N+j, 1] = total_spin
        return priority_total


#score: {'data2D.txt': 0.14825046296296315}
program:
def priority(N, h, J):
    J = J.reshape(4,N*N)
    priority_total = [[0,0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        total_spin = sum([J[0][i*N+j-1], J[1][(i+1)*N%N+j], J[2][i*N+N-1-j], J[3][i*N%N+j-1]])
        if h[i][j] > 0:
          priority_total[i*N+j] = [total_spin, 1]
        else:
          priority_total[i*N+j] = [-total_spin, -1]
    return priority_total


#score: {'data2D.txt': 0.04580787037037038}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = sum([row_sum[k] * state[site][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.0012103395061728393}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        total_spin = np.zeros((N, N), dtype=int)
        for i in range(N):
            for j in range(N):
                state = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][j] += state
                priority_total = np.zeros((N,2), dtype=int)
                for l in range(N):
                    total_spin[l][0] += state
                priority_total[state][0] += sum([total_spin[m][n] if m != i else 0 for m in range(N) for n in range(N)])
                priorities[i*N+j] = [priority_total[1][0], -priority_total[0][0]]
        return sorted(priorities, reverse=True)


#score: {'data2D.txt': 0.1647720679012351}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, 1))
                else:
                    priority.append((-total_spin, -1))
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = []
    for i in range(N):
        for j in range(N):
            total_spin = [0, 0]
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[0] += state[site][j]
                total_spin[1] -= state[site][j]
            if h[i][j] > 0:
                priority_total.append([total_spin[0], -total_spin[1]])
            else:
                priority_total.append([-total_spin[0], total_spin[1]])
    return priority_total


#score: {'data2D.txt': 0.00438070987654321}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N**2, 2), dtype=int)
    for i in range(N):
        total_spin = [0, 0]
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[0] += state[site][j]
            total_spin[1] -= state[site][j]
        if h[i][0] > 0:
            priority_total[i*N+0][0] = total_spin[0]
            priority_total[i*N+0][1] = -total_spin[1]
        else:
            priority_total[i*N+N-1][0] = -total_spin[0]
            priority_total[i*N+N-1][1] = total_spin[1]
    for j in range(N):
        for i in range(N):
            site = (i + ((j-1)%N - 1)) % N
            if h[i][j] > 0:
                priority_total[j*N+i][0] += state[site][j]
                priority_total[j*N+i][1] -= state[site][j]
    return priority_total


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priority_total.append((total_spin, 1))
            else:
                priority_total.append((-total_spin, -1))
    return priority_total


#score: {'data2D.txt': -0.0008128086419753088}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        for k in range(3):
          neighbor = (i + ((k-1)%2 - 1)) % N
          total_spin[neighbor][0] += J[k][i*N+j]
        if h[i][j] > 0:
          priority_total = total_spin[i][0]
        else:
          priority_total = -total_spin[i][0]
        for k in range(3):
          neighbor = (i + ((k-1)%2 - 1)) % N
          total_spin[neighbor][0] -= J[k][i*N+j]
        if h[i][j] > 0:
          return [[N*i+j,1] for _ in range(N**2)]
        else:
          return [[N*i+j,-1] for _ in range(N**2)]

    priority_total = [[0 for _ in range(2)] for _ in range(N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[site][0] += h[i][j]
        if h[i][j] > 0:
          priority_total[j][0] = total_spin[site][0]
        else:
          priority_total[j][1] = -total_spin[site][0]

    return [priority_total[j] for j in range(N)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_spin = [[0,0] for _ in range(N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        for k in range(3):
          neighbor = (i + ((k-1)%2 - 1)) % N
          total_spin[neighbor][0] += J[k][i*N+j]
        if h[i][j] > 0:
          priority_total = [(N*i+j,1) for _ in range(N**2)]
        else:
          priority_total = [(N*i+j,-1) for _ in range(N**2)]
      return priority_total


#score: {'data2D.txt': -0.0010214506172839502}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        total_spin = [np.zeros(2) for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                state_site = state[site]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[i*N+j][0] += state_site[k%N]
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -total_spin[j][0]
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N, 2), dtype=int)
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][j] += site_spin*(-1)**((k-1)%2)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priorities[i*N+j, 0] = int(np.sum(total_spin[:,j]))
                else:
                    priorities[i*N+j, 1] = -int(np.sum(total_spin[:,j]))
        return priorities.tolist()


#score: {'data2D.txt': 0.16028688271604957}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += h[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site], 1))
                else:
                    priorities.append((-total_spin[site], -1))
        return priorities


#score: {'data2D.txt': -0.0006507716049382719}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((total_spin, -1))
    return [[p[0], p[1]] for p in sorted(priorities)]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin
                else:
                    priorities[i*N+j][1] = -total_spin
        return priorities


#score: {'data2D.txt': 0.16438472222222242}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return priorities


#score: {'data2D.txt': -0.005166512345679013}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[0]
                else:
                    priority_total[i*N+j][1] = -total_spin[0]
        return priority_total


#score: {'data2D.txt': -0.031181944444444453}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        total_spin = [0,0]
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[0] += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[0]
            else:
                priority_total[i*N+j][1] = -total_spin[0]
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[0] += state[site][j]
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[0]
            else:
                priority_total[j][1] = -total_spin[0]
    return priority_total.tolist()


#score: {'data2D.txt': -0.002104783950617284}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N**2,2), dtype=int)
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[0]
                else:
                    priority_total[i*N+j][1] = -total_spin[0]
        for j in range(N):
            total_spin = [0,0]
            for i in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += state[site][j]
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[0]
                else:
                    priority_total[j][1] = -total_spin[0]
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][0] += state[site][j]
        priority_total = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][1] += h[site][j]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, h[i][j]))
                else:
                    priorities.append((-total_spin, -h[i][j]))
        return [[p[1], p[0]] for p in priorities]


#score: {'data2D.txt': -0.051907561728395064}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[(i + ((j-1)%2 - 1)) % N][min(j,N-1)] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((-total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[p[1], p[0]] for p in priorities]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j, 0] = total_spin
                else:
                    priorities[i*N+j, 1] = -total_spin
        return priorities


#score: {'data2D.txt': -0.0043788580246913586}
program:
def priority(N, h, J):
    N2 = N*N
    priorities = [[0 for _ in range(2)] for _ in range(N2)]
    
    for i in range(N):
        total_spin = [0, 0]
        for j in range(N):
            site1 = (i + ((j-1)%N - 1)) % N
            total_spin[0] += h[site1][j]
            if h[i][j] > 0:
                priorities[i*N+j][0] = total_spin[0]
            else:
                priorities[i*N+j][1] = -total_spin[0]
            
            site2 = (i + ((N-1-j)%N - 1)) % N
            total_spin[1] += h[site2][j]
            if h[i][j] > 0:
                priorities[i*N+j][0] += total_spin[1]
            else:
                priorities[i*N+j][1] -= total_spin[1]
    return priorities


#score: {'data2D.txt': -0.0043788580246913586}
program:
def priority(N, h, J):
        N2 = N*N
        priorities = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site1 = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site1][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin[0]
                else:
                    priorities[i*N+j][1] = -total_spin[0]
                
                site2 = (i + ((N-1-j)%N - 1)) % N
                total_spin[1] += h[site2][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] += total_spin[1]
                else:
                    priorities[i*N+j][1] -= total_spin[1]
        
        return priorities


#score: {'data2D.txt': -0.0043788580246913586}
program:
def priority(N, h, J):
        N2 = N*N
        priorities = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site1 = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site1][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin[0]
                else:
                    priorities[i*N+j][1] = -total_spin[0]
                
                site2 = (i + ((N-1-j)%N - 1)) % N
                total_spin[1] += h[site2][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] += total_spin[1]
                else:
                    priorities[i*N+j][1] -= total_spin[1]
        return priorities


#score: {'data2D.txt': 0.15547268518518542}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    total_spin[i][j] = -1
                else:
                    total_spin[i][j] = 1
                site = (i + ((2)%2 - 1)) % N
                if i < N-1:
                    total_spin[site][j] += total_spin[i][j]
                if j < N-1:
                    total_spin[i][site] += total_spin[i][j]
        return [[total_spin[i][j],-total_spin[i][j]] for i in range(N) for j in range(N)]


#score: {'data2D.txt': 0.3266069444444435}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += state[i][j]
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j] = (total_spin[i*N+j][0],1)
                else:
                    priority_total[i*N+j] = (-total_spin[i*N+j][0],-1)
        return priority_total


#score: {'data2D.txt': -0.0010705246913580246}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return sorted([(x[0],x[1]) for x in priorities])[::-1]


#score: {'data2D.txt': -0.06497083333333337}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N, 2), dtype=int)
        
        for i in range(N):
            total_spin = [0]*N
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site] += h[i][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = sum(total_spin)
                else:
                    priority_total[(i*N+j), 1] = -sum(total_spin)
        return priority_total


#score: {'data2D.txt': -0.0006347222222222216}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
          total_spin = [0]*N
          for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[site] += state[i][j]
          if h[i][j] > 0:
            priority_total[(i*N+j), 0] = sum(total_spin)
          else:
            priority_total[(i*N+j), 1] = -sum(total_spin)
        
        return priority_total


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
          for j in range(N):
              total_spin = [0,0]
              for k in range(3):
                  site = (i + ((k-1)%2 - 1)) % N
                  if h[i][j] > 0:
                      total_spin[1] += state[site][j]
                  else:
                      total_spin[0] -= state[site][j]
              priorities.append(total_spin)
      return priorities


#score: {'data2D.txt': -0.0009816358024691359}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site_spin = -1 if h[i][j] > 0 else 1
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                priority_total = [total_spin, -total_spin]
                priorities.append(priority_total)
        return priorities


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = [[float('-inf'), float('inf')] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[i-((i+1)%N)][j-k%N] if k < N else -1*state[(-i+N-1)%N][min(j+k-N,k)] 
                                  for k in range(max(0,j-1))])
                
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin
                else:
                    priorities[i*N+j][1] = -total_spin
        
        return priorities


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = np.zeros((N,2), dtype=int)
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priority_total = [total_spin[site][0], -total_spin[site][0]]
                else:
                    priority_total = [-x for x in [total_spin[site][0], -total_spin[site][0]]]
                priorities.append(priority_total)
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        priority = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][site] += h[i][j]
                
                if h[i][j] > 0:
                    priority[(i*N+j),0] = total_spin[i][site]
                else:
                    priority[(i*N+j),1] = -total_spin[i][site]
        
        return priority


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append([total_spin, -total_spin])
                else:
                    priorities.append([-total_spin, total_spin])
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i][j] = total_spin
            else:
                priority_total[i][j] = -total_spin
    return [[x, -x] for x in priority_total.flatten()]


#score: {'data2D.txt': -0.048366820987654324}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = []
        
        for i in range(N):
            row_sum = [sum(state[k][i:i+1]+state[(k+1)%N][i:i+1]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[j-k%N][i] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priority.append((total_spin, -1))
                else:
                    priority.append((total_spin, 1))
        
        return priority


#score: {'data2D.txt': 0.010818672839506174}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            total_spin = [0]*N
            for j in range(N):
                site = (i + ((j-1)%N) - N//2) % N
                total_spin[site] += state[i][j]
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin[j]
                else:
                    priority_total[(i*N+j), 1] = -total_spin[j]
        
        return priority_total


#score: {'data2D.txt': -0.0502550925925926}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            total_spin = [0]*N
            for j in range(N):
                site = (i + ((j-1)%N) - N//2) % N
                total_spin[site] += h[i][j]
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = sum(total_spin)
                else:
                    priority_total[(i*N+j), 1] = -sum(total_spin)
        return priority_total


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
    priority = [[0,0] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        total_spin = 0
        site = (i + ((j-1)%2 - 1)) % N
        total_spin += h[site][j]
        if h[i][j] > 0:
          priority[i*N+j][0] = total_spin
        else:
          priority[i*N+j][1] = -total_spin
    return priority


#score: {'data2D.txt': -0.0004026234567901235}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][0] += spin
            priority_total = np.zeros((N,2), dtype=int)
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[j][0]
                else:
                    priority_total[j][1] = -1*total_spin[j][0]
            for j in range(N):
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[0][0]
                else:
                    priority[i*N+j][1] = -1*total_spin[0][0]
    return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][0] += h[i][j]
            if h[i][j] > 0:
                priority[i*N+j][0] = total_spin[site][0]
            else:
                priority[i*N+j][1] = -total_spin[site][0]
    return priority


#score: {'data2D.txt': -0.000583796296296295}
program:
def priority(N, h, J):
        J_flat = J.reshape((4*N**2,))
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = 0
            for j in range(N):
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J_flat[(site*N+3-j)%N::].sum()
                if h[i][j] > 0:
                    priorities.append([(total_spin, 1)])
                else:
                    priorities.append([(-total_spin, -1)])
        return [i[0] for i in priorities]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
    priority = [[0,0] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin = h[site][j]
            if h[i][j] > 0:
                priority[i*N+j][0] = total_spin
            else:
                priority[i*N+j][1] = -total_spin
    return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      total_spin = np.zeros((N,N), dtype=int)
      for i in range(N):
          for j in range(N):
              site = (i + ((0)%2 - 1)) % N
              total_spin[site][j] += h[i][j]
              if h[i][j] > 0:
                  priority_total = np.zeros((N*N,2), dtype=int)
                  for i in range(N):
                      for j in range(N):
                          if h[i][j] > 0:
                              priority_total[i*N+j][0] = total_spin[site][j]
                          else:
                              priority_total[i*N+j][1] = -total_spin[site][j]
                  return priority_total.tolist()


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin[i][j] += h[i][j]
                if h[i][j] > 0:
                    total_spin[i][j] += 1
                else:
                    total_spin[i][j] -= 1
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i][j]
                else:
                    priority_total[i*N+j][1] = -total_spin[i][j]
        return priority_total.tolist()


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = h[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, 1))
                else:
                    priority.append((-total_spin, -1))
        return priority


#score: {'data2D.txt': 0.19654398148148175}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority_total = total_spin[site][0]
                else:
                    priority_total = -total_spin[site][0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priorities.append([priority_total, 1])
                else:
                    priorities.append([-priority_total, -1])
        return priorities


#score: {'data2D.txt': -0.19614120370370397}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_list = []
    for i in range(N):
      for j in range(N):
        site_spin = state[i][j]
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          if h[site][j] > 0:
            total_spin += site_spin
          else:
            total_spin -= site_spin
        priority_list.append([total_spin, site_spin])
    return priority_list


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = np.zeros((N*N, 2), dtype=int)
        total_spin = np.zeros((N, N), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][j] += h[site][j]
                
                if h[i][j] > 0:
                    priority[(i*N+j), 0] = total_spin[i][j]
                else:
                    priority[(i*N+j), 1] = -total_spin[i][j]
                    
        return priority


#score: {'data2D.txt': 0.01271496913580247}
program:
def priority(N, h, J):
    total_priority = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site_spin = -1 if h[i][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_priority[i*N+j][0] += site_spin * J[k][site][j]
    return total_priority


#score: {'data2D.txt': 0.01271496913580247}
program:
def priority(N, h, J):
      total_priority = [[0 for _ in range(2)] for _ in range(N*N)]
      for i in range(N):
          for j in range(N):
              site_spin = -1 if h[i][j] > 0 else 1
              for k in range(3):
                  site = (i + ((k-1)%2 - 1)) % N
                  total_priority[i*N+j][0] += site_spin * J[k][site][j]
      return total_priority


#score: {'data2D.txt': -0.0006810185185185182}
program:
def priority(N, h, J):
        priority = np.random.rand(N**2,2)
        return(priority)


#score: {'data2D.txt': -0.17066188271604887}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spins = [sum([-state[i][j] if h[i][j] > 0 else state[i][j] for j in range(N)]) for i in range(N)]
        for i in range(N):
            for j in range(N):
                site_total_spin = sum([total_spins[(i+k)%N] * (-1)**((k+1)%(2)) if k < 0 else total_spins[(i-k-1)%N] * (-1)**(k%2) for k in range(max(j, N-j)-1)])
                if h[i][j] > 0:
                    priorities.append([site_total_spin, -1*site_total_spin])
                else:
                    priorities.append([-site_total_spin, site_total_spin])
        return priorities


#score: {'data2D.txt': -0.04909398148148149}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j-(k%N)]
                if h[i][j] > 0:
                    priority_total = [total_spin, -1*total_spin]
                else:
                    priority_total = [-total_spin, total_spin]
                priorities.append(priority_total)
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[(i*N+j), 0] = total_spin
            else:
                priority_total[(i*N+j), 1] = -total_spin
    return priority_total


#score: {'data2D.txt': 0.0031587962962963006}
program:
def priority(N, h, J):
        J = J.reshape(4,N*N)
        priority_total = np.zeros((N*N,2), dtype=int)
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((0)%2 - 1)) % N
                if h[i][j] > 0:
                    priority_total[i*N+j] = [sum(J[0][:i*N+j]), h[i][j]]
                else:
                    priority_total[i*N+j] = [-sum(J[0][:i*N+j]), -h[i][j]]
        return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0 for _ in range(2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N) // N + (i % N)) % N
                total_spin[0] += state[i][j] if h[i][j] > 0 else -state[i][j]
                total_spin[1] -= state[i][j] if h[i][j] > 0 else -state[i][j]
        for i in range(N):
            row_sum = [sum([h[k][j] * state[k][i-j%N] for k in range(min(i,N-1))]) for j in range(N)]
            for j in range(N):
                priorities.append((total_spin[0] + row_sum[j], 1) if h[i][j] > 0 else (total_spin[1] - row_sum[j], -1))
        return [row for row in priorities]


#score: {'data2D.txt': -0.0016628086419753088}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = 0
        for i in range(N):
            for j in range(N):
                site = (i + ((2)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priorities[(i*N+j), 0] = total_spin
            else:
                priorities[(i*N+j), 1] = -total_spin
        return priorities.tolist()


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[(i+((k-1)%2) % N, j-k%N)].flatten()[0] if (0 <= k-j+N <= N and 0 <= k-j-N < N) else h[i][j] for k in range(3)])
                priorities.append([total_spin, -1 if h[i][j] > 0 else 1])
        return priorities


#score: {'data2D.txt': -0.001633487654320987}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if 0 <= k-j+N <= N and 0 <= k-j-N < N else h[i][j] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [(x[0], x[1]) for x in sorted(priorities)]


#score: {'data2D.txt': 0.057156018518518543}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
          for j in range(N):
              total_spin = sum([J[(i+((k-1)%2) % N, j-k%N)].flatten()[0] if (0 <= k-j+N <= N and 0 <= k-j-N < N) else h[i][j] for k in range(3)])
              if h[i][j] > 0:
                  priorities.append([total_spin, 1])
              else:
                  priorities.append([-total_spin, -1])
      return priorities


#score: {'data2D.txt': -0.1876375000000008}
program:
def priority(N, h, J):
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [[x[1],x[0]] for x in priorities]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin[site][0], 1]
                else:
                    priorities[i*N+j] = [-total_spin[site][0], -1]
        return priorities


#score: {'data2D.txt': -0.0013307098765432098}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    spin = -1 if h[i][j] > 0 else 1
                    total_spin[spin==1] += J[(site*N+j)*4:(site*N+j)*4+1].sum()
                priority_total = [int(x) for x in total_spin]
                priorities.append(priority_total)
        return priorities


#score: {'data2D.txt': -0.0013307098765432098}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N): 
          for j in range(N): 
              total_spin = [0,0]
              for k in range(3):
                  site = (i + ((k-1)%2 - 1)) % N
                  spin = -1 if h[i][j] > 0 else 1
                  total_spin[spin==1] += J[(site*N+j)*4:(site*N+j)*4+1].sum()
              priority_total = [int(x) for x in total_spin]
              priorities.append(priority_total)
      return priorities


#score: {'data2D.txt': -1.4043209876543283e-05}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j] = [total_spin, -total_spin]
                else:
                    priority[i*N+j] = [-total_spin, total_spin]
        return priority


#score: {'data2D.txt': -0.17424212962962976}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j%2) - 1)) % N
                total_spin[site][0] += state[i][j]
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priorities.append([total_spin[i//N][0], 1])
            else:
                priorities.append([-total_spin[i//N][0], -1])
        return priorities


#score: {'data2D.txt': -0.1962779320987655}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j%2) - 1)) % N
            total_spin[site][0] += h[i][j]
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][0] += -1 if h[i][j] > 0 else 1
    for i in range(N**2):
        if h[i//N][i%N] > 0:
            priorities.append((total_spin[i//N][0], 1))
        else:
            priorities.append((-total_spin[i//N][0], -1))
    return priorities


#score: {'data2D.txt': 0.00017824074074074075}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0,0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return [[a,b] for a,b in sorted(priorities)]


#score: {'data2D.txt': 0.09096743827160501}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i + ((k-1)%2 - 1)) % N][j-k%N] if k%2 == 0 else -state[(i + ((k-1)%2 - 1)) % N][j-k%N] for k in range(N)])
                priorities.append((total_spin, 1) if h[i][j] > 0 else (total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.15176033950617307}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [np.zeros(2) for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][0] += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[i*N+j][0], 1))
                else:
                    priorities.append((-total_spin[i*N+j][0], -1))
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j),0] = total_spin
                else:
                    priority_total[(i*N+j),1] = -total_spin
        
        return priority_total.tolist()


#score: {'data2D.txt': 0.03179552469135804}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = []
        
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if (i+k)%2 == 0 else -row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priority.append((total_spin, 1))
                else:
                    priority.append((-total_spin, -1))
        
        return priority


#score: {'data2D.txt': 0.3425050925925915}
program:
def priority(N, h, J):
        N = int(N)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0, 0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        for j in range(N):
            if h[i][N-1-i] > 0:
                site = (i + ((N-1)%2 - 1)) % N
                priority_total[i*N+site][0] += sum([h[k][site] for k in range(N)])
            else:
                site = (i + ((N-1)%2 - 1)) % N
                priority_total[i*N+site][1] -= sum([h[k][site] for k in range(N)])
        return priority_total


#score: {'data2D.txt': 0.146027314814815}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [[x[1], x[0]] for x in priorities]


#score: {'data2D.txt': 0.24355478395061686}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total.reshape((N*N,2))


#score: {'data2D.txt': 5.7561728395061464e-05}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += J[(i%2)][site][0] + J[1][site][0] + J[3][site][0]
                if i > 0:
                    total_spin += J[(i+1)%2][site][0]
                if j > 0:
                    total_spin += J[2][j][0]
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin
                else:
                    priority_total[i*N+j, 1] = -total_spin
        return priority_total.reshape((N*N,2))


#score: {'data2D.txt': 0.1647720679012351}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priorities.append([total_spin, 1])
            else:
                priorities.append([-total_spin, -1])
    return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority = np.zeros((N**2, 2))
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = h[site][j]
                if h[i][j] > 0:
                    priority[(i*N+j),:] = [total_spin, 1]
                else:
                    priority[(i*N+j),:] = [-total_spin, -1]
        return priority


#score: {'data2D.txt': -0.0067242283950617295}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N, 2), dtype=int)
        total_spin = 0
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.0011856481481481481}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[i][site] += h[i][j]
    priority_total = []
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                priority_total.append((total_spin[i][j], 1))
            else:
                priority_total.append((-total_spin[i][j], -1))
    return sorted(priority_total,reverse=True)


#score: {'data2D.txt': -0.007113734567901235}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = np.zeros((N,2), dtype=int)
    for j in range(N):
        if h[0][j] > 0:
            total_spin[j][0] = sum([state[i][j] for i in range(1,N)])
        else:
            total_spin[j][1] = -sum([state[i][j] for i in range(1,N)])
    priority_total = [[0,0] for _ in range(N**2)]
    for j in range(N):
        if h[0][j] > 0:
            priority_total[j*N+N-1][0] = total_spin[j][0]
            priority_total[j*N+N-1][1] = -total_spin[j][1]
        else:
            priority_total[j*N+N-1][0] = -total_spin[j][0]
            priority_total[j*N+N-1][1] = total_spin[j][1]
    for i in range(N):
        if h[i][0] > 0:
            priority_total[i*N+0][0] = sum([state[k][0] for k in range(1,N)])
        else:
            priority_total[i*N+0][0] = -sum([state[k][0] for k in range(1,N)])
    return priority_total


#score: {'data2D.txt': -0.17413348765432066}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = [0 for _ in range(2)]
    priorities = []
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[0] += state[i][site]
            if h[i][j] > 0:
                priorities.append((total_spin[0], 1))
            else:
                priorities.append((-total_spin[0], -1))
    return priorities


#score: {'data2D.txt': -0.0667609567901235}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = np.zeros((N,2), dtype=int)
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin.sum(), 1))
                else:
                    priorities.append((-total_spin.sum(), -1))
        return priorities


#score: {'data2D.txt': 0.028334722222222223}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            total_spin[j][0] += row_sum[j]
            priority_total = np.zeros((N,2), dtype=int)
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][0] += spin
            if h[i][j] > 0:
                priorities.append((total_spin[j][0], 1))
            else:
                priorities.append((total_spin[j][0], -1))
    return priorities


#score: {'data2D.txt': -0.005835648148148147}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return [priority[1::-1] for priority in priorities]


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        priority_total = [[0 for _ in range(2)] for _ in range(N**2)]
        total_spin = [0 for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j]
                else:
                    priority_total[i*N+j][1] = -total_spin[i*N+j]
        return priority_total


#score: {'data2D.txt': -0.0013307098765432098}
program:
def priority(N, h, J):
        priorities = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    spin = -1 if h[i][j] > 0 else 1
                    total_spin[spin==1] += J[(site*N+j)*4:(site*N+j)*4+1].sum()
                priority_total = [int(x) for x in total_spin]
                priorities[i*N + j] = priority_total
        return priorities


#score: {'data2D.txt': -0.0013307098765432098}
program:
def priority(N, h, J):
        priorities = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    spin = -1 if h[i][j] > 0 else 1
                    total_spin[spin==1] += J[(site*N+j)*4:(site*N+j)*4+1].sum()
                priorities[(i*N+j)] = list(map(int, total_spin))
        return priorities


#score: {'data2D.txt': -0.0013134259259259256}
program:
def priority(N, h, J):
        priorities = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    spin = -1 if h[site][j] > 0 else 1
                    total_spin[spin==1] += J[(site*N+j)*4:(site*N+j)*4+1].sum()
                priorities[i*N+j] = [x for x in total_spin]
        return priorities


#score: {'data2D.txt': -0.0011464506172839508}
program:
def priority(N, h, J):
        J = np.roll(J, 1, axis=0)[:, :-1]
        J = np.concatenate((J, J), axis=0)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total = [total_spin, h[i][j]]
                else:
                    priority_total = [-total_spin, -h[i][j]]
                priorities.append(priority_total)
        return sorted(priorities, reverse=True)


#score: {'data2D.txt': 0.056820833333333334}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    if k==2:
                        continue
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    site_sum += J[k][neighbor[0]][neighbor[1]]
                total_spin[i][j] = site_sum
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            if h[i].sum() > 0:
                for j in range(N):
                    site = (i + ((j-1)%2 - 1)) % N
                    total_spin_site = total_spin[site][j]
                    priority_total[i*N+j, 0] = total_spin_site
            else:
                for j in range(N):
                    site = (i + ((j-1)%2 - 1)) % N
                    total_spin_site = total_spin[site][j]
                    priority_total[i*N+j, 1] = -total_spin_site
        return priority_total


#score: {'data2D.txt': 0.0004239197530864195}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    if k==2:
                        continue
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    site_sum += J[k][neighbor[0]][neighbor[1]]
                total_spin[i][j] = site_sum
        priority_total = np.zeros((N,N,2), dtype=int)
        for j in range(N):
            if h[j].sum() > 0:
                priority_total[:,j,0] = total_spin.sum(axis=1)
            else:
                priority_total[:,j,1] = -1*total_spin.sum(axis=1)
        return priority_total.reshape((N*N,2))


#score: {'data2D.txt': 0.05727546296296296}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    if k==2:
                        continue
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    site_sum += J[k][neighbor[0]][neighbor[1]]
                total_spin = site_sum
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return priority


#score: {'data2D.txt': 0.1440479938271607}
program:
def priority(N, h, J):
        priority_list = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[k][(i + ((k-1)%2 - 1)) % N][j] * (-1 if h[i][j] > 0 else 1) for k in range(4)])
                if h[i][j] > 0:
                    priority_list.append((total_spin, 1))
                else:
                    priority_list.append((total_spin, -1))
        return priority_list


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin
                else:
                    priority_total[i*N+j, 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = h[site][j]
                if h[i][j] > 0:
                    total_priority[i*N+j, 0] = total_spin
                else:
                    total_priority[i*N+j, 1] = -total_spin
        return total_priority


#score: {'data2D.txt': 0.21655354938271626}
program:
def priority(N, h, J):
        J = J.reshape(4,N*N)
        priority_total = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[k,(i+k)%N*(N)+j] if k%2==0 else -J[3-k,(i+(k-1))%N*(N)+j] for k in range(4)])
                if h[i][j] > 0:
                    priority_total.append((total_spin, 1))
                else:
                    priority_total.append((total_spin, -1))
        return priority_total


#score: {'data2D.txt': -0.15269768518518537}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
    
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[i*N+j][0] += h[site][j]
            if h[i][j] > 0:
                total_spin[i*N+j][1] = total_spin[i*N+j][0]
            else:
                total_spin[i*N+j][1] = -total_spin[i*N+j][0]
        
    return [list(x) for x in total_spin]


#score: {'data2D.txt': -0.3172692901234563}
program:
def priority(N, h, J):
        priority = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        
        for j in range(N):
            if h[j][0] > 0:
                priority_total = [0, 0]
                for i in range(N):
                    site = (i + ((2-1)%2 - 1)) % N
                    total_spin = sum([h[site][j] for j in range(N)])
                    if h[i][0] > 0:
                        priority_total[0] += total_spin
                    else:
                        priority_total[1] -= total_spin
                priority[j*N+0][0] = priority_total[0]
                priority[j*N+0][1] = -priority_total[1]
        
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        J_flat = J.reshape(-1,4).sum(1)
        priority_total = np.zeros((N,N,2), dtype=int)
        for j in range(N):
            for i in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = h[site][j]
                if J_flat[i*N+j] > 0:
                    priority_total[i][j][0] = total_spin
                else:
                    priority_total[i][j][1] = -total_spin
        return priority_total.reshape(-1,2)


#score: {'data2D.txt': 0.11460447530864211}
program:
def priority(N, h, J):
        J_flat = J.reshape(4*N**2)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N,N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J_flat[(site*N+j)*4:(site*N+j)*4+1].sum()
                if h[i][j] > 0:
                    priority_total[i][j][0] = total_spin
                    priority_total[i][j][1] = 1
                else:
                    priority_total[i][j][0] = -total_spin
                    priority_total[i][j][1] = -1
        return priority_total.reshape(N*N,2).tolist()


#score: {'data2D.txt': -0.0017121913580246911}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                total_spin = sum([site_spin + (-1)**((k-1)%2)*state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((-total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return [[x, 1-x] for x,_ in sorted(priorities)]


#score: {'data2D.txt': 0.009171759259259258}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = [[0.5, 0.5] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                for k in range(3):
                    total_spin += state[site][k]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return priority


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
        J_ = np.reshape(J,(4,N*N)) # Reshape J to be N x N
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = h[site][j]
                if J_[0][i*N+j] > 0:
                    priorities[i*N+j][0] = total_spin
                else:
                    priorities[i*N+j][1] = -total_spin
        return priorities


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
          row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
          for j in range(N):
              total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
              if h[i][j] > 0:
                  priorities.append((total_spin, 1))
              else:
                  priorities.append((-total_spin, -1))
      return priorities


#score: {'data2D.txt': -0.00021219135802469157}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = np.zeros((N*N,2), dtype=int)
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j%N+1) - 1)) % N
        total_spin[site][0] += state[i][j]
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        if h[i][j] > 0:
          priorities[(i*N+j),0] = total_spin[site][0]
        else:
          priorities[(i*N+j),1] = -total_spin[site][0]
    return priorities


#score: {'data2D.txt': 0.035122993827160484}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = [np.zeros((N,), dtype=int) for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                total_spin_sum = 0
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin_sum += site_spin * state[site][max(0,j-k)%N]
                if h[i][j] > 0:
                    priorities[(i*N+j), 0] = total_spin_sum
                else:
                    priorities[(i*N+j), 1] = -total_spin_sum
        return priorities


#score: {'data2D.txt': -0.0014291666666666658}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            site_sum = 0
            for k in range(4):
                if k == 0:
                    neighbor = (i+1)%N, j
                elif k == 1:
                    neighbor = i, (j+1)%N
                elif k == 2:
                    neighbor = (i-1+N)%N, j
                else:
                    neighbor = i, (j-1+N)%N
                site_sum += J[k][neighbor[0]][neighbor[1]]
            total_spin[i][j] = site_sum
    priority_total = np.zeros((N*N,2), dtype=int)
    for j in range(N):
        if h[j].sum() > 0:
            priority_total[(j*N):(j+1)*N, 0] = total_spin.sum(axis=1)
        else:
            priority_total[(j*N):(j+1)*N, 1] = -1*total_spin.sum(axis=1)
    return priority_total.reshape((N*N,2))


#score: {'data2D.txt': -0.0008266975308641976}
program:
def priority(N, h, J):
    total_spin = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site_sum = 0
            for k in range(4):
                if k == 0:
                    neighbor = (i+1)%N, j
                elif k == 1:
                    neighbor = i, (j+1)%N
                elif k == 2:
                    neighbor = (i-1+N)%N, j
                else:
                    neighbor = i, (j-1+N)%N
                site_sum += J[k][neighbor[0]][neighbor[1]]
            total_spin[i*N+j, 0] = -site_sum if h[i][j]>0 else site_sum
    return total_spin


#score: {'data2D.txt': 0.08913719135802477}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities[i*N+j, 0] = total_spin
                    priorities[i*N+j, 1] = -total_spin
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        for j in range(N):
            priority_total = np.zeros((N,2), dtype=int)
            for i in range(N):
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin
                else:
                    priority_total[j][1] = -total_spin
        return priorities


#score: {'data2D.txt': 0.0611304012345679}
program:
def priority(N, h, J):
        total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    if k==2:
                        continue
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    site_sum += J[k][neighbor[0]][neighbor[1]]
                total[i*N+j, 0] = site_sum
        for i in range(N):
            if h[i].sum() > 0:
                for j in range(N):
                    site = (i + ((j-1)%2 - 1)) % N
                    total[i*N+site, 0] += h[site][j]
            else:
                for j in range(N):
                    site = (i + ((j-1)%2 - 1)) % N
                    total[i*N+site, 1] -= h[site][j]
        return total


#score: {'data2D.txt': -0.0009492283950617285}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j+1)%2 - 1)) % N
                for k in range(3):
                    if k==1:
                        continue
                    neighbor_i = (i + ((k-1)%2 - 1)) % N
                    total_spin[neighbor_i][0] += h[i][j]
        priorities = []
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total = np.zeros((N,2), dtype=int)
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[site][0] += 1
                    priority_total[j][0] = total_spin[j][0]
                else:
                    priority_total = np.zeros((N,2), dtype=int)
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[site][0] -= 1
                    priority_total[j][1] = -total_spin[j][0]
                priorities.append(list(priority_total[0]))
        return priorities


#score: {'data2D.txt': -0.0011328703703703705}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N)]
    for i in range(N):
      for j in range(N):
        site = (i + ((2-j)%2 - 1)) % N
        for k in range(3):
          neighbor_i = (i + ((k-1)%2 - 1)) % N
          total_spin[neighbor_i][0] += h[i][j]
    priorities = []
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priorities.append((-total_spin[i][0], 1))
        else:
          priorities.append((total_spin[i][0], -1))
    return [list(x) for x in sorted(priorities)]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority_list = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = h[site][j]
                if h[i][j] > 0:
                    priority_list.append((total_spin, 1))
                else:
                    priority_list.append((-total_spin, -1))
        return priority_list


#score: {'data2D.txt': -0.001226697530864198}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    if h[neighbor[0]][neighbor[1]] > 0:
                        site_sum += J[k][neighbor[0]][neighbor[1]]
                    else:
                        site_sum -= J[k][neighbor[0]][neighbor[1]]
                total_spin[i][j] = site_sum
        priority_total = np.zeros((N,N,2), dtype=int)
        for j in range(N):
            if h[:,j].sum() > 0:
                priority_total[:,:,0] += total_spin.sum(axis=0)
            else:
                priority_total[:,:,1] -= total_spin.sum(axis=0)
        return priority_total.reshape((N*N,2))


#score: {'data2D.txt': -0.0001304012345679008}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    if k == 2:
                        continue
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    if neighbor[0] == i:
                        site_sum += J[k][neighbor[0]][neighbor[1]]
                    else:
                        site_sum += J[k][(neighbor[0]-i+2)%N][j]
                total_spin[i][j] = site_sum
        priority_total = np.zeros((N,N,2), dtype=int)
        for j in range(N):
            if h[j].sum() > 0:
                priority_total[:,j,0] = total_spin.sum(axis=1)
            else:
                priority_total[:,j,1] = -1*total_spin.sum(axis=1)
        return priority_total.reshape((N*N,2))


#score: {'data2D.txt': 0.0010347222222222218}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    if k == 0:
                        site_sum += J[k][i-1%N][j]
                    elif k == 1:
                        site_sum += J[k][(i+1)%N][j]
                    elif k == 2:
                        site_sum += J[k][i][j-1%N]
                    else:
                        site_sum += J[k][i][(j+1)%N]
                total_spin[i][j] = site_sum
        priority_total = np.zeros((N*N,2), dtype=int)
        for j in range(N):
            if h[j].sum() > 0:
                priority_total[j::N,0] = total_spin.sum(axis=1)
            else:
                priority_total[j::N,1] = -1*total_spin.sum(axis=1)
        return priority_total


#score: {'data2D.txt': 0.028289351851851864}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if k%2 == 0 else -row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.0010347222222222218}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    if k == 0:
                        site_sum += J[0][(i-1)%N][j]
                    elif k == 1:
                        site_sum += J[1][(i+1)%N][j]
                    elif k == 2:
                        site_sum += J[2][i][(j-1)%N]
                    else:
                        site_sum += J[3][i][(j+1)%N]
                total_spin[i][j] = site_sum
        priority_total = np.zeros((N*N,2), dtype=int)
        for j in range(N):
            if h[j].sum() > 0:
                priority_total[j::N,0] = total_spin.sum(axis=1)
            else:
                priority_total[j::N,1] = -1*total_spin.sum(axis=1)
        return priority_total


#score: {'data2D.txt': 0.0002989197530864193}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    if k == 0:
                        site_sum += J[3][i-1%N][j]
                    elif k == 1:
                        site_sum += J[0][(i+1)%N][j]
                    elif k == 2:
                        site_sum += J[2][i][j-1%N]
                    else:
                        site_sum += J[1][i][(j+1)%N]
                total_spin[i][j] = site_sum
        priority_total = np.zeros((N*N,2), dtype=int)
        for j in range(N):
            if h[j].sum() > 0:
                priority_total[j::N,0] = total_spin.sum(axis=1)
            else:
                priority_total[j::N,1] = -1*total_spin.sum(axis=1)
        return priority_total


#score: {'data2D.txt': 0.07592638888888889}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    if k == 0:
                        site_sum += J[k][(i-1)%N][j]
                    elif k == 1:
                        site_sum += J[k][(i+1)%N][j]
                    elif k == 2:
                        site_sum += J[k][i][(j-1)%N]
                    else:
                        site_sum += J[k][i][(j+1)%N]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = site_sum
                else:
                    priority_total[(i*N+j), 1] = -site_sum
        return priority_total


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = [[float('-inf'),float('-inf')] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        
        for j in range(N):
            for i in range(N):
                if h[i][j] > 0:
                    priority[j*N+i][0] += state[i][j]
                else:
                    priority[j*N+i][1] += -state[i][j]
        
        return priority


#score: {'data2D.txt': -0.001946141975308642}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N*N)]  
        for i in range(N):  
            for j in range(N):  
                site_sum = 0  
                for k in range(4):  
                    if k==2: continue  
                    neighbor = (i + ((k-1)%2 - 1)) % N, j  
                    site_sum += J[k][neighbor[0]][neighbor[1]] * h[neighbor[0]][neighbor[1]]  
                total_spin[i*N+j] = [site_sum, -site_sum]  
        return total_spin


#score: {'data2D.txt': 0.15392947530864218}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if (i+k)%2 == 0 else -state[i][j-k%N] for k in range(min(j,N-1))])
                priorities.append((-total_spin, 1) if h[i][j] > 0 else (total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.0017597222222222222}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]  
        priorities = []  
        total_spin = [[0,0] for _ in range(N*N)]  
        for i in range(N):  
            for j in range(N):  
                site_sum = 0  
                for k in range(3):  
                    site = (i + ((k-1)%2 - 1)) % N  
                    total_spin[site][0] += state[i][j]  
                priority_total = np.zeros((N,2), dtype=int)  
                for j in range(N):  
                    for k in range(3):  
                        site = (i + ((k-1)%2 - 1)) % N  
                        priority_total[site][0] += state[i][j]  
                if h[i][j] > 0:  
                    priorities.append((priority_total.sum(), 1))  
                else:  
                    priorities.append((-priority_total.sum(), 1))  
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for j in range(N):
            for i in range(N):
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][j] += spin
        priorities = np.zeros((N*N, 2), dtype=int)
        for j in range(N):
            for i in range(N):
                if h[i][j] > 0:
                    priorities[(i*N+j), 0] = total_spin[i][j]
                else:
                    priorities[(i*N+j), 1] = -total_spin[i][j]
        return priorities


#score: {'data2D.txt': -0.00036435185185185214}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - N) // N) % N
            total_spin[site][0] += state[i][j]
    priority_total = np.zeros((N,2), dtype=int)
    for j in range(N):
        if h[0][j] > 0:
            priority_total[j][0] = total_spin[0][0]
        else:
            priority_total[j][1] = -1*total_spin[0][0]
    for i in range(1, N):
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] += total_spin[i][0]
            else:
                priority_total[j][1] -= total_spin[i][0]
    return [list(pair) for pair in sorted([(total_spin[site][0], -1 if h[i][j] > 0 else 1) for i in range(N) for j in range(N)], reverse=True)]


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if h[i][j] > 0 else -row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.17949922839506163}
program:
def priority(N, h, J):
        total_priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    total_priority[i*N+j,0] = total_spin
                else:
                    total_priority[i*N+j,1] = -total_spin
        return total_priority.tolist()


#score: {'data2D.txt': 0.029137499999999997}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    if k == 2:
                        continue
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    if neighbor[0] == i:
                        site_sum += J[k][neighbor[0]][neighbor[1]]
                    else:
                        site_sum += J[k][(neighbor[0]-i+2)%N][j]
                total_spin[i][j] = site_sum
        priority_total = np.zeros((N*N, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin[i][j]
                else:
                    priority_total[i*N+j, 1] = -total_spin[i][j]
        return priority_total


#score: {'data2D.txt': -0.00342330246913583}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
      for j in range(N):
        site_sum = 0
        for k in range(4):
          if k == 2:
            site_sum += J[k][i][j]
          else:
            neighbor = (i + ((k-1)%2 - 1)) % N, j
            if neighbor[0] == i:
              site_sum += J[k][neighbor[0]][neighbor[1]]
            else:
              site_sum += J[k][(neighbor[0]-i+2)%N][j]
        total_spin[i][j] = h[i][j] + site_sum
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        if h[i][j] > 0:
          priority_total[(i*N+j),0] = total_spin[i][j]
        else:
          priority_total[(i*N+j),1] = -total_spin[i][j]
    return priority_total


#score: {'data2D.txt': 0.05763101851851852}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        total_spin = [0]*N
        for j in range(N):
            site_sum = 0
            for k in range(3):
                neighbor = (i + ((k-1)%2 - 1)) % N, j
                if neighbor[0] == i:
                    site_sum += J[k][neighbor[0]][neighbor[1]]
                else:
                    site_sum += J[k][(neighbor[0]-i+2)%N][j]
            total_spin[j] = site_sum
        for j in range(N):
            priority_total[i*N+j] = [total_spin[j], -total_spin[j]]
    return priority_total.reshape((N*N,2))


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.0010918209876543208}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if k < N-j else row_sum[N-1-(j-k)%N]*state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[x[1],x[0]] for x in sorted(priorities)]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities[(i*N+j), 0] = total_spin
                else:
                    priorities[(i*N+j), 1] = -total_spin
        return priorities.tolist()


#score: {'data2D.txt': 0.01408966049382716}
program:
def priority(N, h, J):
        J = J.reshape(4,N*N)
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N) // N) % N
                total_spin = 0
                for k in [0,1,3]:
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[k][site*N+j]
                if h[i][j] > 0:
                    priority_total = total_spin
                else:
                    priority_total = -total_spin
                priorities[site*N+j] = [priority_total, 1]
        return priorities


#score: {'data2D.txt': -0.0006692901234567905}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        total_spin = [0]*N
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N) - N//2) % N
                total_spin[site] += state[i][j]
        for j in range(N*N):
            if h[j//N][j%N] > 0:
                priority_total[j][0] = total_spin[j//N]
            else:
                priority_total[j][1] = -1*total_spin[j//N]
        return priority_total


#score: {'data2D.txt': -0.001210030864197531}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = np.zeros((N,N))
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N) // N) % N
                total_spin[i][site] += state[i][j]
        for j in range(N*N):
            if h[j//N][j%N] > 0:
                priorities[j][0] = total_spin[j//N][j%N]
                priorities[j][1] = -total_spin[j//N][j%N]
            else:
                priorities[j][0] = -total_spin[j//N][j%N]
                priorities[j][1] = total_spin[j//N][j%N]
        return priorities.argsort(axis=1)[::-1].reshape(N*N,2)


#score: {'data2D.txt': -0.0013307098765432098}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    spin = -1 if h[i][j] > 0 else 1
                    total_spin[spin==1] += J[(site*N+j)*4:(site*N+j)*4+1].sum()
                priority_total[i*N+j] = [int(x) for x in total_spin]
        return priority_total.tolist()


#score: {'data2D.txt': -0.0013307098765432098}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    spin = -1 if h[i][j] > 0 else 1
                    total_spin[spin==1] += J[(site*N+j)*4:(site*N+j)*4+1].sum()
                priority[i*N+j] = total_spin
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total


#score: {'data2D.txt': 0.08284305555555564}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += state[i][site]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += h[site][j]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin[i][0]
                else:
                    priority_total[(i*N+j), 1] = -total_spin[i][0]
        return priority_total.tolist()


#score: {'data2D.txt': -0.0013177469135802475}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin[site][0] += sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = -total_spin[site][0]
                else:
                    priority_total[(i*N+j), 1] = total_spin[site][0]
        return priority_total.tolist()


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    total_spin[i*N+j][0] += 1
                    total_spin[i*N+j][1] -= 1
                else:
                    total_spin[i*N+j][0] -= 1
                    total_spin[i*N+j][1] += 1
        return total_spin


#score: {'data2D.txt': -0.0015797839506172839}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return [[x[1], x[0]] for x in sorted(priorities)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[(i+k)%N][(j+l)%N] * state[max(0, i-k)][max(0, j-l)] 
                                  for k in range(-1) for l in range(-1)])
                if h[i][j] > 0:
                    priorities.append([total_spin, -total_spin])
                else:
                    priorities.append([-total_spin, total_spin])
        return priorities


#score: {'data2D.txt': -0.1776118827160496}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priority_total = [total_spin, -total_spin]
                else:
                    priority_total = [-total_spin, total_spin]
                priorities.append(priority_total)
        return priorities


#score: {'data2D.txt': -0.21518472222222226}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N)]
        priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                state = (-1 if h[i][j] > 0 else 1)
                
                total_spin[site][0] += state
                
                for k in range(3):
                    site2 = (i + ((k-1)%2 - 1)) % N
                    total_spin[site2][0] += state
                    
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin[site][0], 0]
                else:
                    priority_total[i*N+j] = [-total_spin[site][0], 1]
                    
        return priority_total


#score: {'data2D.txt': -0.002402932098765432}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority = total_spin
                else:
                    priority = -total_spin
                priorities.append((priority, 1 if h[i][j]>0 else -1))
        return sorted(priorities)


#score: {'data2D.txt': 0.0022378086419753084}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[j*N+i] = [total_spin, 1]
                else:
                    priority_total[j*N+i] = [-total_spin, -1]
        return priority_total


#score: {'data2D.txt': 0.008696141975308642}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priority_total[j*N+i, 0] = total_spin
            else:
                priority_total[j*N+i, 1] = -total_spin
    return priority_total.tolist()


#score: {'data2D.txt': 0.004641820987654321}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    state = [[-1 if h[k][l] > 0 else 1 for l in range(N)] for k in range(N)]
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[i][j] += state[site][k]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[j*N+i, 0] = total_spin[i][j]
                else:
                    priority_total[j*N+i, 1] = -total_spin[i][j]
        return priority_total.tolist()


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j),0] = total_spin
                else:
                    priority_total[(i*N+j),1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        spin = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0, 0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += spin[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.0015251543209876543}
program:
def priority(N, h, J):
        N2 = N*N
        total_spin = [[0 for _ in range(2)] for _ in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                state = [h[i][k] if h[i][k] > 0 else 1 for k in range(N)]
                total_spin[site][0] += sum([state[k-1] if j-k%N>=0 else state[N-1] for k in range(j+1)])
                if h[i][j] > 0:
                    priorities.append((total_spin[site][0], -1))
                else:
                    priorities.append((total_spin[site][0], 1))
                    
        return priorities


#score: {'data2D.txt': -0.17949922839506163}
program:
def priority(N, h, J):
        priorities = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j, 0] = total_spin
                else:
                    priorities[i*N+j, 1] = -total_spin
        return priorities.tolist()


#score: {'data2D.txt': -0.17949922839506163}
program:
def priority(N, h, J):
        priorities = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priorities[(i*N+j), 0] = total_spin
                else:
                    priorities[(i*N+j), 1] = -total_spin
        return priorities.tolist()


#score: {'data2D.txt': 0.1754149691358027}
program:
def priority(N, h, J):
        J_flat = J.reshape(-1)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = -total_spin
                    priority_total[(i*N+j), 1] = total_spin + J_flat[(i*N+j)*4:(i*N+j)*4+1].sum()
                else:
                    priority_total[(i*N+j), 0] = total_spin
                    priority_total[(i*N+j), 1] = -total_spin - J_flat[(i*N+j)*4:(i*N+j)*4+1].sum()
        return priority_total.tolist()


#score: {'data2D.txt': -0.001734413580246914}
program:
def priority(N, h, J):
        J_flat = J.reshape(-1)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum(J_flat[(i*N+j)%N*4:(i*N+j)%N*4+1].flatten())
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [(i[0], i[1]) for i in sorted(priorities)]


#score: {'data2D.txt': -0.0014473765432098764}
program:
def priority(N, h, J):
    J_flat = J.reshape(4*N**2)
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += J_flat[(site*N+j)*4:(site*N+j)*4+1].sum()
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((total_spin, -1))
    return sorted([(i[0], i[1]) for i in priorities])


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N) // N) % N
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities[(i*N+j), 0] = total_spin
                else:
                    priorities[(i*N+j), 1] = -total_spin
        return priorities


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N) // N) % N
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin, 1]
                else:
                    priorities[i*N+j] = [-total_spin, -1]
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][j] += spin
        priorities_total = np.zeros((N,N,2), dtype=int)
        for j in range(N):
            for i in range(N):
                priorities_total[i][j] = [total_spin[i][j], -total_spin[i][j]]
        return priorities_total.reshape(N*N, 2).tolist()


#score: {'data2D.txt': -0.00019984567901234573}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                site1 = (i + ((j-1)%N - N) // N) % N
                total_spin1 = 0
                for k in range(3):
                    site = (site1 + ((k-1)%2 - 1)) % N
                    total_spin1 += state[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin1
                else:
                    priorities[i*N+j][1] = -total_spin1
                
                site2 = (i + ((N-1-j)%N - N) // N) % N
                total_spin2 = 0
                for k in range(3):
                    site = (site2 + ((k-1)%2 - 1)) % N
                    total_spin2 += state[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j][0] += total_spin2
                else:
                    priorities[i*N+j][1] -= total_spin2
                
        return priorities


#score: {'data2D.txt': -0.001060648148148148}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      for j in range(N):
        total_spin = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin += state[site][j]
        if h[i][j] > 0:
          priority = total_spin
        else:
          priority = -total_spin
        priorities.append((priority, -1 if h[i][j] > 0 else 1))
    return sorted(priorities, reverse=True)


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum = (np.prod(J_new[0::2], 0) + h).flatten()
        priority = np.column_stack((sum, -sum))
        return priority


#score: {'data2D.txt': 0.00023935185185185214}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        total_spin = 0
        for j in range(N):
            site_sum = 0
            for k in range(4):
                if k == 0:
                    site_sum += J[3][i-1%N][j]
                elif k == 1:
                    site_sum += J[0][(i+1)%N][j]
                elif k == 2:
                    site_sum += J[2][i][j-1%N]
                else:
                    site_sum += J[1][i][(j+1)%N]
            if h[i][j] > 0:
                priority_total[(i*N+j),0] = total_spin + site_sum
            else:
                priority_total[(i*N+j),1] = -total_spin - site_sum
    return priority_total


#score: {'data2D.txt': 0.0002989197530864193}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = np.zeros((N,N), dtype=int)
    for k in range(4):
        for i in range(N):
            site = (i + ((k-1)%2 - 1)) % N
            for j in range(N):
                if k == 0:
                    total_spin[i][j] += J[3][i-1%N][j]
                elif k == 1:
                    total_spin[i][j] += J[0][(i+1)%N][j]
                elif k == 2:
                    total_spin[i][j] += J[2][i][j-1%N]
                else:
                    total_spin[i][j] += J[1][i][(j+1)%N]
    priority_total = np.zeros((N*N,2), dtype=int)
    for j in range(N):
        if h[j].sum() > 0:
            priority_total[j::N,0] = total_spin.sum(axis=1)
        else:
            priority_total[j::N,1] = -1*total_spin.sum(axis=1)
    return priority_total


#score: {'data2D.txt': -0.0003498456790123462}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      for j in range(N):
        site_interactions = []
        for k in range(4):
          site = (i + ((k-1)%2 - 1)) % N
          if k-j+N < N and k-j-N >= 0:
            site_interactions.append(J[site, j-k%N].flatten()[0])
          else:
            site_interactions.append(h[site][j])
        total_spin = sum(site_interactions)
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((total_spin, -1))
    return [(a,b) for a,b in sorted(priorities)]


#score: {'data2D.txt': -0.0010918209876543212}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for k in range(3):
            for i in range(N):
                for j in range(N):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[i][j] > 0:
                        total_spin[site][0] += state[i][j]
                    else:
                        total_spin[site][1] += state[i][j]
        for j in range(N):
            priority = []
            for i in range(N):
                if h[i][j] > 0:
                    priority.append((total_spin[i][0], 1))
                else:
                    priority.append((total_spin[i][1], -1))
            priorities.extend(sorted(priority))
        return priorities


#score: {'data2D.txt': -0.007949845679012347}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N*N)]
        total_spin = [0,0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[0]
                else:
                    priority_total[i*N+j][1] = -total_spin[0]
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[0]
            else:
                priority_total[j][1] = -total_spin[0]
        return priority_total


#score: {'data2D.txt': 0.0042529320987654325}
program:
def priority(N, h, J):
        Nsq = N*N
        priority_total = [[0,0] for _ in range(Nsq)]
        state = [[-1 if h[i][j]>0 else 1 for j in range(N)] for i in range(N)]
        
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin += state[site][j]
                if h[i][j]>0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        return priority_total


#score: {'data2D.txt': 0.334628549382715}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[k,(i*N+j) : (i*N+site),:(j+1)].sum()
                if h[i][j] > 0:
                    priorities.append((total_spin,1))
                else:
                    priorities.append((-total_spin,-1))
        return priorities


#score: {'data2D.txt': -0.0007415123456790119}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in [-1, 0, 1]:
                    site = (i + k) % N
                    if h[i][j] > 0:
                        total_spin += J[2, (i*N+j) : (i*N+site),:(j+1)].sum()
                    else:
                        total_spin -= J[2, (i*N+j) : (i*N+site),:(j+1)].sum()
                if h[i][j] > 0:
                    priorities[(i*N+j)][0] = -total_spin
                else:
                    priorities[(i*N+j)][1] = total_spin
        return priorities


#score: {'data2D.txt': 0.0357733024691358}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N - N) // N) % N
        total_spin = 0
        for k in range(3):
          site2 = (site + ((k-1)%2 - 1)) % N
          total_spin += state[site2][j]
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((-total_spin, -1))
    return priorities


#score: {'data2D.txt': -0.013522376543209877}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N, 2), dtype=int)
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    if k == 2:
                        continue
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    if neighbor[0] == i:
                        site_sum += J[k][neighbor[0]][neighbor[1]]
                    else:
                        site_sum += J[k][(neighbor[0]-i+2)%N][j]
                total_spin += h[i][j] + site_sum
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin
                else:
                    priority_total[i*N+j, 1] = -total_spin
        return priority_total


#score: {'data2D.txt': 0.10492484567901231}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in [0,2]:
                    neighbor = (i + ((k-1)%2 - 1)) % N, j
                    if neighbor[0] == i:
                        site_sum += J[k][neighbor[0]][neighbor[1]]
                    else:
                        site_sum += J[k][(neighbor[0]-i+2)%N][j]
                total_spin[i][j] = site_sum + h[i][j]
        priority_total = np.zeros((N*N, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin[i][j]
                else:
                    priority_total[i*N+j, 1] = -total_spin[i][j]
        return priority_total


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            total_spin = np.zeros((N,2), dtype=int)
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
                if state[i][j] == 1:
                    priorities.append((-total_spin[site][0], 1))
                else:
                    priorities.append((total_spin[site][0], -1))
        return priorities


#score: {'data2D.txt': 0.009474537037037038}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N): 
            row_sum = [sum(J[i*(N**2):(i+1)*(N**2),j*N+j-1:j*N+j+3].flatten()) for j in range(N)]
            for k in range(N):
                total_spin = sum([row_sum[j] * h[k][j] for j in range(min(k,N-1))])
                if h[k][k] > 0:
                    priorities.append((total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return [[p[1], -p[0]] for p in priorities]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total = [total_spin, -total_spin]
                else:
                    priority_total = [-total_spin, total_spin]
                priorities.append(priority_total)
        return priorities


#score: {'data2D.txt': -0.0012510802469135802}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            for k in range(3):
                total_spin[site][0] += -1 if h[i][j] > 0 else 1
    priority_total = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            if h[i][j] > 0:
                priority_total[site][0] = total_spin[site][0]
            else:
                priority_total[site][1] = -total_spin[site][0]
    return [list(i) for i in priority_total]


#score: {'data2D.txt': -0.03504521604938272}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priority_total[(i*N+j), 0] = -total_spin
            else:
                priority_total[(i*N+j), 1] = total_spin
    return priority_total.tolist()


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum = (np.prod(J_new[0::2], 0) + h).flatten()
        priority = np.column_stack((sum, -sum))
        return(priority)


#score: {'data2D.txt': -0.05336157407407408}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = np.zeros((N,2), dtype=int)
    
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            state = (-1 if h[i][j] > 0 else 1)
            total_spin[site][state] += h[i][j]
            priority[i*N+j][state] = total_spin[site][state]
            
    for j in range(N):
        row_sum = sum(h[:,j])
        for i in range(N):
            site = (i + ((j-1)%N - 1)) % N
            state = (-1 if h[i][j] > 0 else 1)
            if h[i][j] > 0:
                priority[i*N+j][0] += row_sum
            else:
                priority[i*N+j][1] -= row_sum
                
    return priority


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N**2):
            total_spin = 0
            for k in range(3):
                site = (i // N + ((k - 1) % 2 - 1)) % N
                total_spin += state[site][i % N]
            if h[i//N][i%N] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.024905709876543218}
program:
def priority(N, h, J):
        priority_total = np.zeros((N,N,2), dtype=int)
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i, :, 0] = total_spin
            else:
                priority_total[i, :, 1] = -total_spin
        return priority_total.reshape(N*N,2).tolist()


#score: {'data2D.txt': 0.002483487654320988}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k == 3:
                        total_spin[1 if state[i][j] == state[site][((k+1)%2) - 1] else 0] += 1 if h[i][j] > 0 else -1
                    else:
                        total_spin[1 if state[i][j] == state[site][(k-1)%2 - 1] else 0] += 1 if h[i][j] > 0 else -1
                priorities.append(total_spin)
        return np.array(priorities)


#score: {'data2D.txt': 0.0677109567901235}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = [np.zeros(2) for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priorities[(i*N+j), 0] = total_spin[site][0]
                else:
                    priorities[(i*N+j), 1] = -total_spin[site][0]
        return priorities.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site1 = (i + ((0)%2 - 1)) % N
                site2 = (i + ((1)%2 - 1)) % N
                total_spin[i][j] += h[site1][j]
                if h[site1][j] > 0:
                    priority[(i*N+j), 0] = total_spin[i][j]
                else:
                    priority[(i*N+j), 1] = -total_spin[i][j]
                
                site1 = (i + ((1)%2 - 1)) % N
                site2 = (i + ((2)%2 - 1)) % N
                total_spin[i][j] += h[site1][j]
                if h[site1][j] > 0:
                    priority[(i*N+j), 0] += h[site1][j]
                else:
                    priority[(i*N+j), 1] -= h[site1][j]
                
                site1 = (i + ((2)%2 - 1)) % N
                site2 = (i + ((3)%2 - 1)) % N
                total_spin[i][j] += h[site1][j]
                if h[site1][j] > 0:
                    priority[(i*N+j), 0] += h[site1][j]
                else:
                    priority[(i*N+j), 1] -= h[site1][j]
                
                site1 = (i + ((3)%2 - 1)) % N
                site2 = (i + ((0)%2 - 1)) % N
                total_spin[i][j] += h[site1][j]
                if h[site1][j] > 0:
                    priority[(i*N+j), 0] += h[site1][j]
                else:
                    priority[(i*N+j), 1] -= h[site1][j]
        return priority.tolist()


#score: {'data2D.txt': -0.12285169753086436}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] += J[0][site][0]
                if i > 0:
                    site = (i - 1 + ((j-1)%2 - 1)) % N
                    total_spin[i*N+j][0] += J[1][site][0]
                if j > 0:
                    site = (i + ((j-1)%2 - 1)) % N
                    total_spin[i*N+j][0] += J[2][site][0]
                if i < N-1:
                    site = (i + 1 + ((j-1)%2 - 1)) % N
                    total_spin[i*N+j][0] += J[3][site][0]
                if h[i][j] > 0:
                    total_spin[i*N+j][1] = total_spin[i*N+j][0]
                else:
                    total_spin[i*N+j][1] = -total_spin[i*N+j][0]
        return [row for row in total_spin]


#score: {'data2D.txt': -0.0010939814814814816}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = [[0,0] for _ in range(N**2)]
    
    for i in range(N):
        for j in range(N):
            total_spin = sum(J[i*N:(i+1)*N,j*N:(j+1)*N][::2].flatten()) + h[i][j]
            if h[i][j] > 0:
                priorities[j][0] = total_spin
            else:
                priorities[j][1] = -total_spin
    
    return [list(x) for x in priorities]


#score: {'data2D.txt': 0.1489134259259261}
program:
def priority(N, h, J):
        J_flat = J.reshape(4*N**2)
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J_flat[(site*N+j)*4+k]
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin, 1]
                else:
                    priorities[i*N+j] = [-total_spin, -1]
        
        return priorities


#score: {'data2D.txt': -0.001041203703703704}
program:
def priority(N, h, J):
        J_flat = J.reshape(4*N**2)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J_flat[(site*N+j)*4+k]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return sorted(priorities)


#score: {'data2D.txt': 0.04990601851851852}
program:
def priority(N, h, J):
    priority = []
    for i in range(N):
        for j in range(N):
            sum_1 = 0
            sum_2 = 0
            if i > 0:
                sum_1 += J[0][i-1][j]
                sum_2 += J[3][i-1][j]
            if i < N - 1:
                sum_1 += J[0][i+1][j]
                sum_2 += J[3][i+1][j]
            if j > 0:
                sum_1 += J[1][i][j-1]
                sum_2 += J[3][i][j-1]
            if j < N - 1:
                sum_1 += J[1][i][j+1]
                sum_2 += J[3][i][j+1]
            priority.append([sum_1, sum_2])
    return priority


#score: {'data2D.txt': -0.0012773148148148155}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[0][i][site]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [[x[1],x[0]] for x in sorted(priorities)]


#score: {'data2D.txt': -0.00042453703703703734}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [[x[1], x[0]] for x in sorted(priorities)]


#score: {'data2D.txt': 0.22352268518518537}
program:
def priority(N, h, J):
    priority = np.zeros((N**2, 2))
    for i in range(N):
        for j in range(N):
            site = (i + ((2) % 2 - 1)) % N
            total_spin = sum([J[k][(i+((k-1)%2 - 1)) % N][j-k%N] if k%2 == 0 else -J[k][(i+((k-1)%2 - 1)) % N][j-k%N] for k in range(4)])
            total_spin += h[i][j]
            if h[i][j] > 0:
                priority[(i*N+j),0] = np.sign(total_spin)
                priority[(i*N+j),1] = 1
            else:
                priority[(i*N+j),0] = -np.sign(total_spin)
                priority[(i*N+j),1] = -1
    return priority.astype(int)


#score: {'data2D.txt': -0.0001625000000000008}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
        for i in range(N):
            for j in range(N):
                total_spin[i][1] = sum([total_spin[(i+((k-1)%2 - 1)) % N][0] for k in range(4)]) if (i+j) % 2 == 0 else -sum([total_spin[(i+((k-1)%2 - 1)) % N][0] for k in range(4)])
                total_spin[i][0] += h[i][j]
                priorities.append((total_spin[i][0], 1) if h[i][j] > 0 else (-total_spin[i][0], -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.13444120370370385}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2))
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site][0], 1))
                else:
                    priorities.append((-total_spin[site][0], 1))
        return priorities


#score: {'data2D.txt': -0.07464799382716049}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0, 0] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[k][(i + ((k-1)%2 - 1)) % N][j] * state[(i + ((k-1)%2 - 1)) % N][j] for k in range(4)])
                
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin, 0]
                else:
                    priority_total[i*N+j] = [-total_spin, 0]
        
        return priority_total


#score: {'data2D.txt': 0.0008995370370370373}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    
    for i in range(N):
        total_spin = 0
        for j in range(N):
            site_sum = 0
            for k in range(4):
                if k==2:
                    continue
                neighbor = (i + ((k-1)%2 - 1)) % N, j
                site_sum += J[k][neighbor[0]][neighbor[1]]*state[neighbor[0]][neighbor[1]]
            total_spin += site_sum
        for j in range(N):
            if h[i][j] > 0:
                priority_total[i*N+j, 0] = total_spin
            else:
                priority_total[i*N+j, 1] = -total_spin
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = [[0, 0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site_neighbors = [(i + ((k-1)%2 - 1)) % N for k in range(3)]
                for k in range(3):
                    if h[site_neighbors[k]][j] > 0:
                        total_spin += state[site_neighbors[k]][j]
                    else:
                        total_spin -= state[site_neighbors[k]][j]
                if h[i][j] > 0:
                    priority[i*N+j][1] = total_spin
                else:
                    priority[i*N+j][0] = -total_spin
        return priority


#score: {'data2D.txt': 0.0021692901234567907}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority_total[j*N+i][0] = total_spin[0]
                else:
                    priority_total[j*N+i][1] = -total_spin[1]
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += state[site][j]*h[i][j]
                priority_total[j*N+i][0] = total_spin[0]
                total_spin[1] -= state[site][j]*h[i][j]
                priority_total[j*N+i][1] = -total_spin[1]
        
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    total_priority = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site_spin = -1 if h[i][j] > 0 else 1
            sum_1 = 0
            sum_2 = 0
            for k in range(4):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin = 0
                for l in range(3):
                    site = (i + ((l-1)%2 - 1)) % N
                    if j+l < N:
                        total_spin += J[k][site][min((j+l)%N,N-1)] * site_spin
                priority_total = [total_spin - sum_2, total_spin + sum_2]
                for k in range(2):
                    total_priority[i*N+j][k] = priority_total[k]
    return total_priority


#score: {'data2D.txt': 0.18367885802469164}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                spin = 1 if h[i][j] < 0 else -1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][spin == -1] += spin
                priority_total = np.zeros((N,2), dtype=int)
                for j in range(N):
                    if h[i][j] > 0:
                        priority_total[j][0] = total_spin[j][0]
                    else:
                        priority_total[j][1] = -1*total_spin[j][0]
                for j in range(N):
                    if h[i][j] > 0:
                        priority[i*N+j] = [priority_total[j][0], -priority_total[j][0]]
                    else:
                        priority[i*N+j] = [-priority_total[j][0], priority_total[j][0]]
        
        return priority


#score: {'data2D.txt': 0.008250462962962963}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        total_spin = [0]*N
        for i in range(N):
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site] += state[i][site]
            if h[i][site] > 0:
                priority_total[(i*N+site), 0] = total_spin[site]
            else:
                priority_total[(i*N+site), 1] = -total_spin[site]
        return priority_total


#score: {'data2D.txt': 0.000374537037037037}
program:
def priority(N, h, J):
        J = J.reshape(4,N*N)
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - N) // N) % N
                for k in [0,1,3]:
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += J[k][site*N+j]
                if h[i][j] > 0:
                    priorities[site*N+j] = [total_spin[site][0], 1]
                else:
                    priorities[site*N+j] = [-total_spin[site][0], -1]
        return priorities


#score: {'data2D.txt': 0.01408966049382716}
program:
def priority(N, h, J):
      J = J.reshape(4,N*N)
      priorities = [[0 for _ in range(2)] for _ in range(N*N)]
      for i in range(N):
          for j in range(N):
              site = (i + ((j-1)%N - N) // N) % N
              total_spin = 0
              for k in [0,1,3]:
                  site = (i + ((k-1)%2 - 1)) % N
                  total_spin += J[k][site*N+j]
              if h[i][j] > 0:
                  priority_total = total_spin
              else:
                  priority_total = -total_spin
              priorities[site*N+j] = [priority_total, 1]
      return priorities


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = np.zeros((N,N), dtype=int)
        
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    for k in range(4):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[site][j] += state[i][j]
                    priorities[(i*N+j),0] = np.sum(total_spin)
                else:
                    for k in range(4):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[site][j] -= state[i][j]
                    priorities[(i*N+j),1] = -np.sum(total_spin)
        
        return priorities.tolist()


#score: {'data2D.txt': -0.00065570987654321}
program:
def priority(N, h, J):
    priority = []
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority.append((total_spin, 1))
            else:
                priority.append((-total_spin, -1))
    return [[p[1], -p[0]] for p in sorted(priority)]


#score: {'data2D.txt': -0.00019984567901234573}
program:
def priority(N, h, J):
        J_flat = J.reshape(4*N**2)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N,N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((0)%2 - 1)) % N
                total_spin += state[site][j]
                site = (i + ((1)%2 - 1)) % N
                total_spin += state[site][j]
                site = (i + ((2)%2 - 1)) % N
                total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[i][j][0] = total_spin
                else:
                    priority_total[i][j][1] = -total_spin
        return priority_total.reshape(N*N,2).tolist()


#score: {'data2D.txt': 0.004110956790123456}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][:] = [total_spin[site][0] + J[site*N:site*N+N, j].sum(), 
                                        total_spin[site][1] - J[site*N:site*N+N, j].sum()]
        return total_spin


#score: {'data2D.txt': -0.00091466049382716}
program:
def priority(N, h, J):
    N2 = N * N
    priority_list = [[0 for _ in range(2)] for _ in range(N2)]
    for i in range(N):
        for j in range(N):
            total_spin = 0
            state = -1 if h[i][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += J[site*N:site*N+N, j].sum() * state
            priority_list[i*N+j][:] = [total_spin, -total_spin]
    return priority_list


#score: {'data2D.txt': -0.0008004629629629628}
program:
def priority(N, h, J):
    total_priority = [[0 for _ in range(2)] for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                total_spin = sum(J[k*N+j:(k+1)*N,j].sum() for k in range(min(j,N-1)))
                priority_list = [total_spin, -total_spin]
            else:
                total_spin = sum(J[k*N+j:(k+1)*N,j].sum() for k in range(min(j,N-1)))
                priority_list = [-total_spin, total_spin]
            total_priority[i*N+j] = priority_list
    return(total_priority)


#score: {'data2D.txt': -0.0029322530864197543}
program:
def priority(N, h, J):
        priority_list = [[0 for _ in range(2)] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                state = -1 if h[i][j] > 0 else 1
                site = (i + ((j%N-1)%N)) % N
                while site != i:
                    total_spin += J[site*N:site*N+N, j].sum() * state
                    site = (site + ((j%N-1)%N)) % N
                priority_list[i*N+j][:] = [total_spin, -total_spin]
        return priority_list


#score: {'data2D.txt': -0.010844907407407409}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                for k in range(3):
                    if k%2 == 0:
                        total_spin[i*N+j][0] += h[site][k]
                    else:
                        total_spin[i*N+j][1] -= h[site][k]
        return total_spin


#score: {'data2D.txt': 0.16911280864197556}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N**2,2), dtype=float)
        for i in range(N):
            for j in range(N):
                site_sum = sum([state[(i+((k-1)%2)-1)%N][j-k%N] for k in range(3)])
                total_spin = site_sum
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin
                else:
                    priority_total[i*N+j, 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': 0.33401033950617187}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[site][j] > 0:
                        total_spin += J[0, (i*N+j) : (N*N+site),:(j+1)].sum()
                    else:
                        total_spin -= J[3, (i*N+j) : (N*N+site),:(j+1)].sum()
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.3338983024691348}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[2, (i*N+j) : (i*N+((k-1)%N)),:(j+1)].sum() if h[i][j] > 0 else -J[2, (i*N+j) : (i*N+((k-1)%N)),:(j+1)].sum() for k in range(N)])
                if h[i][j] > 0:
                    priorities.append([-total_spin, 1])
                else:
                    priorities.append([total_spin, -1])
        return priorities


#score: {'data2D.txt': 0.0687680555555556}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j%2) - 1)) % N
                total_spin = sum([state[site][k] * (-1)**((abs(i-site)+abs(j-k))//2) for k in range(N)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.0008828703703703702}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
        priorities = []
        for j in range(N):
            for i in range(N):
                if h[i][j] > 0:
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[site][0] += 1 if h[i][j] > 0 else -1
                    priorities.append((-total_spin.sum(), 1) if total_spin.sum() < 0 else (-total_spin.sum(), -1))
                else:
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[site][0] += 1 if h[i][j] > 0 else -1
                    priorities.append((-total_spin.sum(), -1) if total_spin.sum() < 0 else (-total_spin.sum(), 1))
        return priorities


#score: {'data2D.txt': -0.00333626543209876}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum_1 = np.sum(J_new[0::2], axis=0)
        sum_2 = np.sum(J_new[1::2], axis=0)
        priority_total = (np.prod(np.sign(sum_1 - sum_2), 0) + h).flatten()
        priority = np.column_stack((priority_total, -priority_total))
        return priority


#score: {'data2D.txt': -0.0009816358024691359}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((-total_spin, -1))
    return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0005763888888888887}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for j in range(N):
            for k in range(3):
                site = (j + ((k-1)%2 - 1)) % N
                total_spin[site][0] += state[j][site]
        for i in range(N):
            for j in range(N):
                priority_total = np.zeros((N,2), dtype=int)
                for k in range(3):
                    site = (j + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += state[i][site]
                if h[i][j] > 0:
                    priority_total = total_spin
                else:
                    priority_total *= -1
                priorities.append((np.sum(priority_total), 1 if h[i][j] > 0 else -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = []
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, 1))
                else:
                    priority.append((total_spin, -1))
        
        return priority


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      for j in range(N):
        site_sum = 0
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          site_sum += state[site][j]
        priority_total = [site_sum, 1]
        if h[i][j] > 0:
          priority_total = [priority_total[0], 1]
        else:
          priority_total = [-priority_total[0], -1]
        priorities.append(priority_total)
    return priorities


#score: {'data2D.txt': -0.010528858024691359}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j)%N - 1)) % N
                total_spin = h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return priority


#score: {'data2D.txt': -0.0018526234567901236}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[(i*N+j), 0] = total_spin
            else:
                priority_total[(i*N+j), 1] = -total_spin
        
        return priority_total.tolist()


#score: {'data2D.txt': 0.002133796296296296}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            site_sum = 0
            for k in range(4):
                if k == 0:
                    site_sum += J[0][(i-1)%N][j]
                elif k == 1:
                    site_sum += J[1][(i+1)%N][j]
                elif k == 2:
                    site_sum += J[2][i][(j-1)%N]
                else:
                    site_sum += J[3][i][(j+1)%N]
            total_spin[i][j] = site_sum
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        if h[i].sum() > 0:
            priority_total[i*N:(i+1)*N,0] = total_spin.sum(axis=0)
        else:
            priority_total[i*N:(i+1)*N,1] = -1*total_spin.sum(axis=0)
    return priority_total


#score: {'data2D.txt': -0.0004319444444444442}
program:
def priority(N, h, J):
        J0 = J[0].flatten()
        J1 = J[1].flatten()
        J2 = J[2].flatten()
        J3 = J[3].flatten()

        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                if h[i][j] > 0:
                    site_sum += -1*(J0[i*N+j] + J2[j])
                else:
                    site_sum += 1*(J0[i*N+j] + J2[j])
                total_spin[i][j] = site_sum

        priority_total = np.zeros((N*N,2), dtype=int)
        for j in range(N):
            if h[j].sum() > 0:
                priority_total[j::N,0] = total_spin.sum(axis=1)
            else:
                priority_total[j::N,1] = -1*total_spin.sum(axis=1)

        return priority_total


#score: {'data2D.txt': 0.07592638888888889}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    if k == 0:
                        site_sum += J[0][(i-1)%N][j]
                    elif k == 1:
                        site_sum += J[1][(i+1)%N][j]
                    elif k == 2:
                        site_sum += J[2][i][(j-1)%N]
                    else:
                        site_sum += J[3][i][(j+1)%N]
                total_spin[i*N+j] = [site_sum, -site_sum]
        return total_spin


#score: {'data2D.txt': 0.0010347222222222218}
program:
def priority(N, h, J):
        J_flipped = np.array([J[0], J[1], J[2], J[3]])
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(4):
                    if k == 0:
                        site_sum += J_flipped[k][(i-1)%N][j]
                    elif k == 1:
                        site_sum += J_flipped[k][(i+1)%N][j]
                    elif k == 2:
                        site_sum += J_flipped[k][i][(j-1)%N]
                    else:
                        site_sum += J_flipped[k][i][(j+1)%N]
                total_spin[i][j] = site_sum
        priority_total = np.zeros((N*N,2), dtype=int)
        for j in range(N):
            if h[j].sum() > 0:
                priority_total[j::N,0] = total_spin.sum(axis=1)
            else:
                priority_total[j::N,1] = -1*total_spin.sum(axis=1)
        return priority_total


#score: {'data2D.txt': -0.0001776234567901238}
program:
def priority(N, h, J):
        total_spin = np.zeros((N, N, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][site][0] += 1 if h[i][j] > 0 else -1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[i][site][0] += 1 if h[site][j] > 0 else -1
        priorities = []
        for i in range(N*N):
            if h[i//N][i%N] > 0:
                priorities.append((-total_spin[i//N][i%N][0], 1))
            else:
                priorities.append((total_spin[i//N][i%N][0], -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                    priority_total[i*N+j][1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        state = np.zeros((N,N), dtype=int)
        total_spin = np.zeros((2,N*N), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    spin = -1
                else:
                    spin = 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    state[site][j] += spin
                total_spin[0, i*N+j] += h[i][j]
                if h[i][j] > 0:
                    total_spin[0, i*N+j] += 1
                else:
                    total_spin[0, i*N+j] -= 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[1, i*N+j] += state[site][j]
        return total_spin.T.tolist()


#score: {'data2D.txt': -0.002705401234567901}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][j] += spin
                if h[i][j] > 0:
                    priorities = [(total_spin[i][j], h[i][j])]
                else:
                    priorities = [(-total_spin[i][j], -h[i][j])]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][j] += spin
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = sum(x[0] for x in priorities)
                else:
                    priority_total[i*N+j][1] = -sum(x[0] for x in priorities)
        return priority_total.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
      total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
      for i in range(N):
        for j in range(N):
          site = (i + ((j-1)%N - 1)) % N
          total_spin[i*N+j][0] += h[site][j]
          if h[i][j] > 0:
            total_spin[i*N+j][0] += 1
          else:
            total_spin[i*N+j][0] -= 1
      for i in range(N):
        priority_total = [[-total_spin[k][0] if k < N else total_spin[k-N][0] for _ in range(2)] for k in range(N*N)]
      return priority_total


#score: {'data2D.txt': -0.34273966049382615}
program:
def priority(N, h, J):
    priority_total = [[0, 0] for _ in range(N*N)]
    state = np.sign(h)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
    return [row for row in priority_total]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[i][j] > 0:
                        total_spin[1] += state[site][j]
                    else:
                        total_spin[0] -= state[site][j]
                priorities.append(total_spin)
        return priorities


#score: {'data2D.txt': -0.19697546296296325}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(4):  
                    site = (i + ((k%2) - 1)) % N
                    if h[i][j] > 0:
                        total_spin[1] += state[site][j]
                    else:
                        total_spin[0] -= state[site][j]
                priorities.append(total_spin)
        return priorities


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [0, 0]
                for k in range(4):
                    site_i = (i + ((k-1)%2 - 1)) % N
                    site_j = (j + ((k-1)%3 - 1)) % N
                    if h[site_i][site_j] > 0:
                        total_spin[1] += state[i][j]
                    else:
                        total_spin[0] -= state[i][j]
                priorities.append(total_spin)
        return priorities


#score: {'data2D.txt': -0.0011856481481481481}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,N), dtype=int)
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][j] += h[site][j]
                if h[i][j] > 0:
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[i][j] += state[site][j]
                    priorities.append((total_spin[i][j], -h[i][j]))
                else:
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[i][j] -= state[site][j]
                    priorities.append((-total_spin[i][j], h[i][j]))
        return [[x, y] for x, y in sorted(priorities)]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        
        return priority_total


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.0021584876543209877}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[0] += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return [[a,b] for a,b in sorted(priorities)]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i,site] += h[i][j]
        priority = []
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority.append((total_spin[i,j], 1))
                else:
                    priority.append((-total_spin[i,j], -1))
        return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N,N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[i][j][0] = total_spin
                else:
                    priority_total[i][j][1] = -total_spin
        
        return priority_total.reshape((N*N,2)).tolist()


#score: {'data2D.txt': -0.0010078703703703703}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i + ((k-1)%2 - 1)) % N][max(0,j-k)%N] if h[i][j] * state[(i + ((k-1)%2 - 1)) % N][max(0,j-k)%N] > 0 else -state[(i + ((k-1)%2 - 1)) % N][max(0,j-k)%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [[x, 1-x] for x,_ in sorted(priorities)]


#score: {'data2D.txt': -0.0017779320987654317}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                total_spin = sum([site_spin + (-1)**((k-1)%2)*state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return sorted(priorities)[::-1]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum1 = (np.prod(J_new[0::2], 0) + h).flatten()
        sum2 = (-np.prod(J_new[1::2], 0)).flatten()
        priority = np.column_stack((sum1 - sum2, sum1 + sum2))
        return priority.reshape(N**2, 2)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for k in range(3):
            for i in range(N):
                site = (i + ((k-1)%2 - 1)) % N
                for j in range(N):
                    if h[i][j] > 0:
                        total_spin[site][0] += state[i][j]
                    else:
                        total_spin[site][1] += state[i][j]
        priorities = []
        for i in range(N**2):
            spin = -1 if h[i//N][i%N] > 0 else 1
            if spin == 1:
                priorities.append((-total_spin[i//N][0], 1))
            else:
                priorities.append((total_spin[i//N][1], -1))
        return(priorities)


#score: {'data2D.txt': -0.0013291666666666669}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return [[x[0], x[1]] for x in sorted(priorities)]


#score: {'data2D.txt': 0.07502453703703703}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[k, (i + ((k-1)%2 - 1)) % N, j] * state[(i + ((k-1)%2 - 1)) % N][min((j + k) % N, N - 1)] for k in range(4)])
                
                if h[i][j] > 0:
                    priority_total = total_spin
                else:
                    priority_total = -total_spin
                
                priorities.append((priority_total, 1))
        return [row for row in priorities]


#score: {'data2D.txt': -0.001401697530864198}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                
                if h[i][j] > 0:
                    priority_total = -total_spin
                else:
                    priority_total = total_spin
                
                priorities[i*N+j][0] = priority_total
                priorities[i*N+j][1] = -priority_total
        
        return priorities


#score: {'data2D.txt': -0.057243981481481514}
program:
def priority(N, h, J):
        priorities = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[(i+((k-1)%2) % N, j-k%N)].flatten()[0] if (0 <= k-j+N <= N and 0 <= k-j-N < N) else h[i][j] for k in range(3)])
                priorities[i*N+j] = [-total_spin, -1] if total_spin > 0 else [total_spin, 1]
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    priorities = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += J[(site, (j-k)%N)].flatten()[0] if 0 <= k-j+N <= N and 0 <= k-j-N < N else h[i][j]
            priority_total = [total_spin, -total_spin] if total_spin > 0 else [-total_spin, total_spin]
            priorities[i*N+j] = priority_total
    return priorities


#score: {'data2D.txt': 0.146027314814815}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((-total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return priorities


#score: {'data2D.txt': 0.007676388888888889}
program:
def priority(N, h, J):
        N2 = N * N
        priority_list = [[0, 0] for _ in range(N2)]
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        
        for i in range(N):
            total_spin = [0, 0]
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += state[site][j]*h[i][j]
                total_spin[1] += -state[site][j]*h[i][j]
            
            if h[i][j] > 0:
                priority_list[i*N+j][0] = total_spin[0]
                priority_list[i*N+j][1] = total_spin[1]
            else:
                priority_list[i*N+j][0] = -total_spin[0]
                priority_list[i*N+j][1] = -total_spin[1]
        
        return priority_list


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N * N
        priority_list = [[0, 0] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += h[site][j]
            if h[i][j] > 0:
                priority_list[i*N+j][0] = np.sum(total_spin[:,0])
            else:
                priority_list[i*N+j][1] = -np.sum(total_spin[:,0])
        for j in range(N):
            if h[i][j] > 0:
                priority_list[j][0] = np.sum(total_spin[:,0])
            else:
                priority_list[j][1] = -np.sum(total_spin[:,0])
        return priority_list


#score: {'data2D.txt': -0.06522577160493831}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][0] += state[i][j]
            if h[i][j] > 0:
                priorities.append((total_spin[site][0], 1))
            else:
                priorities.append((-total_spin[site][0], -1))
    return priorities


#score: {'data2D.txt': -0.0006507716049382719}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[a,b] for a,b in sorted(priorities)]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N,N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = [0,0]
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[0] += state[site][j]
            if h[i][j] > 0:
                priority_total[i][j] = total_spin
            else:
                priority_total[i][j] = [-x for x in total_spin]
    return [list(x) for x in priority_total.reshape(N*N,2)]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k%2==0:
                        total_spin[0] += state[site][j]
                    else:
                        total_spin[1] += state[i][site]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return sorted(priorities)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = [[float('inf'), float('-inf')] for _ in range(N**2)]
        
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[i-((i+1)%N)][j-k%N] if k < N else -1*state[(-i+N-1)%N][min(j+k-N,k)] 
                                  for k in range(max(0,j-1))])
                
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin
                else:
                    priorities[i*N+j][1] = -total_spin
        
        return priorities


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
                    
        return priority_total


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[p[1], -p[0]] for p in priorities]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [0, 0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[i][j] > 0:
                        total_spin[1] += state[site][j%N]
                    else:
                        total_spin[0] += state[site][j%N]
                priorities.append(total_spin)
        return priorities


#score: {'data2D.txt': 0.018448611111111114}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    total_spin = np.zeros((N,2), dtype=int)
    for k in range(3):
      for i in range(N):
        site = (i + ((k-1)%2 - 1)) % N
        for j in range(N):
          total_spin[site][0] += state[i][j]
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((k-1)%2 - 1)) % N
        if h[i][j] > 0:
          priority_total[(i*N+j), 0] = total_spin[site][0]
        else:
          priority_total[(i*N+j), 1] = -total_spin[site][0]
    return priority_total


#score: {'data2D.txt': -0.0006918209876543207}
program:
def priority(N, h, J):
        total_spin = [[0]*N for _ in range(N)]
        for i in range(N):
            for j in range(N):
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[i][site] += -1 if h[i][j] > 0 else 1
                priority_total = [[0]*2 for _ in range(N*N)]
                for j in range(N):
                    if h[i][j] > 0:
                        priority_total[i*N+j][0] = sum(total_spin[i])
                    else:
                        priority_total[i*N+j][1] = -sum(total_spin[i])
        return priority_total


#score: {'data2D.txt': 0.009663734567901214}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spins = [[0, 0] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site_interactions = []
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k-j+N < N and k-j-N >= 0:
                        site_interactions.append(J[site, j-k%N].flatten()[0])
                    else:
                        site_interactions.append(h[site][j])
                total_spin = sum(site_interactions)
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.009663734567901214}
program:
def priority(N, h, J):
        priorities = []
        for i in range(N):
            for j in range(N):
                site_interactions = []
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k-j+N < N and k-j-N >= 0:
                        site_interactions.append(J[site, j-k%N].flatten()[0])
                    else:
                        site_interactions.append(h[site][j])
                total_spin = sum(site_interactions)
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [(i[0], i[1]) for i in priorities]


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N): 
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.00044830246913580185}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [(i[0], i[1]) for i in sorted(priorities, reverse=True)]


#score: {'data2D.txt': -0.0006180555555555562}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        
        total_spin = np.zeros((N, 2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site][0]
                else:
                    priority[i*N+j][1] = -total_spin[site][0]

        for j in range(N):
            if h[0][j] > 0:
                priority[j][0] += sum(h[k][j] for k in range(1,N))
            else:
                priority[j][1] -= sum(h[k][j] for k in range(1,N))

        return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priority_total[(i*N+j), 0] = total_spin
            else:
                priority_total[(i*N+j), 1] = -total_spin
    
    for i in range(N):
        total_spin = 0
        for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin += state[site][i]
        if h[i][j] > 0:
            priority_total[i*N+i][0] = total_spin
        else:
            priority_total[i*N+i][1] = -total_spin
    
    return priority_total.tolist()


#score: {'data2D.txt': -0.0011856481481481481}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        
        return [x for x in sorted(priorities)]


#score: {'data2D.txt': 0.0008711419753086423}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[0,0] for _ in range(N*N)]

    for i in range(N):
        for j in range(N):
            total_spin_1 = 0
            total_spin_2 = 0
            
            site1 = (i + ((j-1)%N - 1)) % N
            total_spin_1 += state[site1][j]
            
            if i > 0:
                site2 = (i - 1 + ((j-1)%N - 1)) % N
                total_spin_2 += state[site2][j]
            else:
                site2 = (i + ((j-1)%N - 1)) % N
                total_spin_2 += state[site2][j]

            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin_1
                priority_total[i*N+j][1] = total_spin_2
            else:
                priority_total[i*N+j][0] = -total_spin_1
                priority_total[i*N+j][1] = -total_spin_2

    return priority_total


#score: {'data2D.txt': -0.011453240740740741}
program:
def priority(N, h, J):
    N2 = N*N
    priority_total = [[0 for _ in range(2)] for _ in range(N2)]
    
    for i in range(N):
        total_spin = 0
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
        
        for j in range(N):
            if h[0][j] > 0:
                priority_total[j][0] += sum(h[k][j] for k in range(1,N))
            else:
                priority_total[j][1] -= sum(h[k][j] for k in range(1,N))
    
    total_spin = 0
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
    
    return priority_total


#score: {'data2D.txt': -0.33023472222222133}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += site_spin
                if h[i][j] > 0:
                    priority_total = total_spin.copy()
                    priority_total[:,1] = -priority_total[:,0]
                    priorities.append(tuple(map(sum, zip(*priority_total))))
                else:
                    priority_total = total_spin.copy()
                    priority_total[:,0] = -priority_total[:,0]
                    priorities.append(tuple(map(sum, zip(*priority_total))))
        return priorities


#score: {'data2D.txt': 0.047373611111111116}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = [[0,0] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            total_spin=0
            site_spin = state[i][j]
            if h[i][j]>0:
                priority_total=[0,0]
                for k in range(3):
                    site=(i+((k-1)%2 - 1))%N
                    total_spin+=site_spin*state[site][max(0,j-k)%N]
                    priority_total[0]+=site_spin*state[site][max(0,j-k)%N]
                priorities[i*N+j]=[total_spin,0]
            else:
                priority_total=[0,0]
                for k in range(3):
                    site=(i+((k-1)%2 - 1))%N
                    total_spin+=-site_spin*state[site][max(0,j-k)%N]
                    priority_total[1]-=site_spin*state[site][max(0,j-k)%N]
                priorities[i*N+j]=[-total_spin,0]
    return priorities


#score: {'data2D.txt': 0.010597067901234568}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j)%N - N//2)) % N
                total_spin = 0
                for k in range(3):
                    ssite = (site + ((k-1)%2 - 1)) % N
                    total_spin += state[ssite][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.0006692901234567905}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N**2,2), dtype=int)
    
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%N) - N//2) % N
        total_spin[site][0] += state[i][j]
    
    for j in range(N**2):
      if h[j//N][j%N] > 0:
        priority_total[j][0] = total_spin[j//N][0]
      else:
        priority_total[j][1] = -1*total_spin[j//N][0]
    
    return priority_total


#score: {'data2D.txt': -0.0005214506172839501}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site][0], 1))
                else:
                    priorities.append((-total_spin[site][0], -1))
        return [[a,b] for a,b in sorted(priorities)]


#score: {'data2D.txt': 0.0002319444444444446}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    site_nb = (site + ((k-1)%2 - 1)) % N
                    total_spin[i*N+j][0] += h[site_nb][((k-1)%N)]
        priorities = [[a,b] for a,b in sorted([(total_spin[i][0], 1) if h[int(i/N)][i%N]>0 else (-total_spin[i][0], -1) for i in range(N*N)])]
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N * N
        priority_list = [[0, 0] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += h[site][j]
            if h[i][j] > 0:
                priority_list[i*N+j][0] = np.sum(total_spin[:,0])
                priority_list[i*N+j][1] = -np.sum(total_spin[:,1])
            else:
                priority_list[i*N+j][0] = -np.sum(total_spin[:,0])
                priority_list[i*N+j][1] = np.sum(total_spin[:,1])
        return priority_list


#score: {'data2D.txt': 0.1745115740740743}
program:
def priority(N, h, J):
    priority = np.zeros((N**2, 2))
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += J[k][site][j]
            if h[i][j] > 0:
                priority[(i*N+j),0] = total_spin
                priority[(i*N+j),1] = 1
            else:
                priority[(i*N+j),0] = -total_spin
                priority[(i*N+j),1] = -1
    return(priority)


#score: {'data2D.txt': -0.00044830246913580185}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((total_spin, -1))
    return sorted(priorities,reverse=True)


#score: {'data2D.txt': -0.0012217592592592588}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += spin
                priority_total = np.zeros((N,2), dtype=int)
                for j in range(N):
                    if h[i][j] > 0:
                        priority_total[j][0] = total_spin[j][0]
                    else:
                        priority_total[j][1] = -1*total_spin[j][0]
                return [priority_total[i]+[h[i][j]] for i in range(N) for j in range(N)]


#score: {'data2D.txt': -0.04872268518518522}
program:
def priority(N, h, J):
    N2 = N*N
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[0 for _ in range(2)] for _ in range(N2)]
    
    for i in range(N):
        total_spin = 0
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
        
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += state[site][j]
            if h[i][j] > 0:
                priorities = [(total_spin, h[i][j])]
            else:
                priorities = [(-total_spin, -h[i][j])]
        
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            priority_total[j][0] += state[site][j]
            priority_total[j][1] -= state[site][j]
    
    return priority_total


#score: {'data2D.txt': -0.005052006172839507}
program:
def priority(N, h, J):
    N2 = N*N
    priority_total = [[0 for _ in range(2)] for _ in range(N2)]
    
    for i in range(N):
        total_spin = 0
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
        
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[j][0] = total_spin
            else:
                priority_total[j][1] = -total_spin
    
    return priority_total


#score: {'data2D.txt': -0.002173919753086422}
program:
def priority(N, h, J):
    N2 = N*N
    priority_total = [[0 for _ in range(2)] for _ in range(N2)]
    
    for i in range(N):
        for j in range(N):
            site1 = (i + ((j-1)%N - 1)) % N
            site2 = (i + ((j+1)%N - 1)) % N
            
            if h[i][j] > 0:
                total_spin = sum(h[site1][k] for k in range(N))
                priority_total[i*N+j][0] = total_spin
                priority_total[i*N+j][1] = -total_spin
            else:
                total_spin = sum(-h[site2][k] for k in range(N))
                priority_total[i*N+j][0] = total_spin
                priority_total[i*N+j][1] = -total_spin
    
    return priority_total


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = [[0, 0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site_sum = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    site_sum += state[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j] = [site_sum, 1]
                else:
                    priorities[i*N+j] = [-site_sum, -1]
        return priorities


#score: {'data2D.txt': -0.1706245370370365}
program:
def priority(N, h, J):
        site = lambda i,k: ((i + (k-1)%2 - 1)) % N
        total_spin = [0]*N*N
        priority_total = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin[i*N+j] += h[site(i,(j-1)%2)][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j]
                else:
                    priority_total[i*N+j][1] = -total_spin[i*N+j]
        return priority_total


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((-total_spin, -1))
    return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    N2 = N*N
    total_spin = np.zeros((N,2), dtype=int)
    priority_total = np.zeros((N2, 2), dtype=int)

    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[i][0] += h[i][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[i][0]
            else:
                priority_total[i*N+j][1] = -total_spin[i][0]

    return priority_total


#score: {'data2D.txt': -0.28767422839506124}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if 0 <= k-j+N <= N and 0 <= k-j-N < N else h[i][j] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.028530709876543214}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priorities.append((total_spin[i][0], 1))
                else:
                    priorities.append((total_spin[i][0], -1))
        return priorities


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            spin = -1 if h[i][j] > 0 else 1
            total_spin[site][spin==1] += 1
    for i in range(N):
        for j in range(N):
            priority[i*N+j] = [total_spin[i%N][1], -total_spin[i%N][0]] if h[i][j] > 0 else [-total_spin[i%N][0], total_spin[i%N][1]]
    return priority


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return np.array(priorities)


#score: {'data2D.txt': -0.001586265432098765}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            if h[i][j] > 0:
                priority_total[i*N+j,0] = total_spin[i][0]
            else:
                priority_total[i*N+j,1] = -total_spin[i][0]
        return priority_total.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][0] += h[site][j]
                if h[i][j] > 0:
                    state = [1 if k > 0 else -1 for k in range(3)]
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[site][0] += state[k]
                priorities = np.zeros((N*N,2), dtype=int)
                for j in range(N):
                    if h[i][j] > 0:
                        priorities[i*N+j,0] = total_spin[j][0]
                    else:
                        priorities[i*N+j,1] = -total_spin[j][0]
                return priorities.tolist()


#score: {'data2D.txt': -0.05336157407407408}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        
        total_spin = np.zeros((N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site][0]
                else:
                    priority[i*N+j][1] = -total_spin[site][0]
                    
        for j in range(N):
            row_sum = sum(h[:,j])
            for i in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority[i*N+j][0] += row_sum
                else:
                    priority[i*N+j][1] -= row_sum
        
        return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((total_spin, -1))
    
    return priorities


#score: {'data2D.txt': 0.07726342592592597}
program:
def priority(N, h, J):
    N2 = N*N
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                spin = 1
            else:
                spin = -1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][spin] += state[i][j]
            if h[i][j] > 0:
                priorities.append((total_spin[i][0], spin))
            else:
                priorities.append((-total_spin[i][1], spin))
    return priorities


#score: {'data2D.txt': 0.06863750000000002}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priorities[(i*N+j), 0] = total_spin[site][0]
                else:
                    priorities[(i*N+j), 1] = -total_spin[site][0]
        return priorities


#score: {'data2D.txt': -0.0018526234567901236}
program:
def priority(N, h, J):
        priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            total_spin = 0
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority[(i*N+j), 0] = total_spin
            else:
                priority[(i*N+j), 1] = -total_spin
        return priority


#score: {'data2D.txt': -0.02470570987654321}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N*N)]
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += 1
            else:
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] -= 1
    for j in range(N):
        if h[0][j] > 0:
            priority_total[j][0] = total_spin[0][0]
        else:
            priority_total[j][1] = -total_spin[0][0]
    for i in range(1,N):
        for j in range(N):
            if h[i][j] > 0:
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += 1
            else:
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] -= 1
        for j in range(N):
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[i][0]
            else:
                priority_total[i*N+j][1] = -total_spin[i][0]
    return priority_total


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N,N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[0] += state[site][j]
                if h[i][j] > 0:
                    priority_total[i][j] = total_spin
                else:
                    priority_total[i][j] = [-x for x in total_spin]
        return priority_total.reshape(N*N,2).tolist()


#score: {'data2D.txt': -0.0004655864197530859}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    total_spin = [0]*N
    for i in range(N):
        for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin[site] += state[i][k]
        for j in range(N):
            if h[i][j] > 0:
                priority_total[(i*N+j), 0] = total_spin[j]
            else:
                priority_total[(i*N+j), 1] = -total_spin[j]
    return priority_total


#score: {'data2D.txt': 0.33350848765432}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin[i][site] += state[i][site]
    for j in range(N**2):
        if h[j//N][j%N] > 0:
            priorities.append((total_spin[j//N][j%N], 1))
        else:
            priorities.append((-total_spin[j//N][j%N], -1))
    return priorities


#score: {'data2D.txt': -0.27106867283950575}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, 0))
                else:
                    priority.append((-total_spin, 1))
        return priority


#score: {'data2D.txt': 0.007640895061728394}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[i][j] += h[site][0]
    priority_total = np.zeros((N,2), dtype=int)
    for j in range(N):
        spin = -1 if h[(i+N-1)%N][j] > 0 else 1
        for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin[site][j] += spin
    priority = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                priority[i*N+j][0] = total_spin[i][j]
            else:
                priority[i*N+j][1] = -total_spin[i][j]
    return priority.tolist()


#score: {'data2D.txt': 0.013601388888888889}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] += h[site][j]
                total_spin[i*N+j][1] -= h[site][j]
        priority_total = [[0 for _ in range(2)] for _ in range(N)]
        for i in range(N):
            spin = -1 if h[i][N-1-i]%N > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site*N+(N-1-i)%N][spin == 1] += spin
        priority = [[0, 0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority[i*N+j][1] = -total_spin[i*N+j][1]
        return [list(row) for row in priority]


#score: {'data2D.txt': -0.0320368827160494}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        total_spin = [0,0]
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[0] += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[0]
            else:
                priority_total[i*N+j][1] = -total_spin[0]
    return priority_total.tolist()


#score: {'data2D.txt': -0.013703549382716054}
program:
def priority(N, h, J):
        priority = [[0 for _ in range(2)] for _ in range(N*N)]
        total_spin = np.zeros((N,N), dtype=int)
        
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    spin = 1
                else:
                    spin = -1
                
                for k in range(2):
                    site = (i + ((k)%2) - 1) % N
                    total_spin[site, j] += spin
                
                priority_total = np.zeros((N,2), dtype=int)
                for jj in range(N):
                    if h[i][jj] > 0:
                        priority_total[jj][0] = total_spin[0,jj]
                    else:
                        priority_total[jj][1] = -total_spin[0,jj]
                
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[0, j]
                else:
                    priority[i*N+j][1] = -total_spin[0, j]
        
        return priority


#score: {'data2D.txt': -0.17729830246913594}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [[0, 0] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priorities.append((total_spin[i][0], 1))
                else:
                    priorities.append((-total_spin[i][0], -1))
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin
                else:
                    priority_total[i*N+j, 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': 0.06840601851851855}
program:
def priority(N, h, J):
        total_spin = [[0]*N for _ in range(N)]
        priority_total = [[0]*2 for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[i][site] += -1 if h[i][j] > 0 else 1
                    
                    if h[i][j] > 0:
                        priority_total[i*N+j][0] = sum(total_spin[i])
                    else:
                        priority_total[i*N+j][1] = -sum(total_spin[i])
        
        return priority_total


#score: {'data2D.txt': -0.0017270061728395063}
program:
def priority(N, h, J):
        total_spin = [[0, 0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site_interactions = []
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k-j+N < N and k-j-N >= 0:
                        site_interactions.append(J[site, j-k%N].flatten()[0])
                    else:
                        site_interactions.append(h[site][j])
                total_spin[i*N+j] = [sum(site_interactions), -sum(site_interactions)]
        return sorted(total_spin)


#score: {'data2D.txt': 0.0706646604938272}
program:
def priority(N, h, J):
    N2 = N*N
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[float('inf'), float('-inf')] for _ in range(N2)]

    for i in range(N):
        total_spin = [0,0]
        for j in range(N):
            if h[i][j] > 0:
                spin = 1
            else:
                spin = -1
            site = (i + ((j-1)%N - 1)) % N
            total_spin[spin] += state[i][j]

            priority_total[i*N+j] = [total_spin[0], -total_spin[1]]

    for j in range(N):
        if h[j][j] > 0:
            priority_total[j*N+j] = [priority_total[j*N+j][0]+state[j][j], -priority_total[j*N+j][1]-state[j][j]]
        else:
            priority_total[j*N+j] = [-priority_total[j*N+j][0]-state[j][j], priority_total[j*N+j][1]+state[j][j]]

    return priority_total


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        priority = [[0.0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return priority


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        priority_total = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.14584305555555574}
program:
def priority(N, h, J):
       state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
       priorities = []
       for i in range(N):
           row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
           for j in range(N):
               total_spin = sum([row_sum[k] * state[i][j-k%N] if (i+(k-1)%2 - 1) % N != j else 0 for k in range(min(j,N-1))])
               if h[i][j] > 0:
                   priorities.append((total_spin, 1))
               else:
                   priorities.append((-1*total_spin, -1))
       return priorities


#score: {'data2D.txt': 0.035122993827160484}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site_spin = state[i][j]
            total_spin_sum = sum([state[(i + ((k-1)%2 - 1)) % N][max(0,j-k)%N] * site_spin for k in range(4)])
            if h[i][j] > 0:
                priorities[i*N+j,0] = total_spin_sum
            else:
                priorities[i*N+j,1] = -total_spin_sum
    return priorities


#score: {'data2D.txt': 0.1647720679012351}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        
        for i in range(N):
            for j in range(N):
                site_interactions = [J[(i + ((k-1)%2 - 1)) % N, j-k%N][0] if (k-j+N < N and k-j-N >= 0) else h[(i + ((k-1)%2 - 1)) % N, j] for k in range(3)]
                total_spin = sum(site_interactions)
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin, 1]
                else:
                    priorities[i*N+j] = [-total_spin, -1]
        return priorities


#score: {'data2D.txt': -0.0013399691358024694}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
        for i in range(N):
            for j in range(N):
                priority_total = np.zeros((2), dtype=int)
                if h[i][j] > 0:
                    priority_total[0] = -sum([total_spin[site][1] if site != i else total_spin[site][0] for site in range(N)])
                    priorities.append([priority_total[0], 1])
                else:
                    priority_total[1] = sum([total_spin[site][0] if site != i else total_spin[site][1] for site in range(N)])
                    priorities.append([-priority_total[1], -1])
        return sorted(priorities, reverse=True)


#score: {'data2D.txt': -0.004464351851851853}
program:
def priority(N, h, J):
        N2 = N*N
        total_spin = [[0 for _ in range(2)] for _ in range(N)]
        priorities = [[0 for _ in range(2)] for _ in range(N2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j)%N - 1)) % N
                total_spin[site][0] += 1 if h[i][j] > 0 else -1
                for k in range(3):
                    site2 = (i + ((k-1)%2 - 1)) % N
                    total_spin[site2][0] += 1 if h[i][j] > 0 else -1
                if h[i][j] > 0:
                    priorities[i*N+j][0] = sum(total_spin[site][0] for site in range(N))
                else:
                    priorities[i*N+j][1] = -sum(total_spin[site][0] for site in range(N))
        return priorities


#score: {'data2D.txt': -0.0006180555555555562}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    total_spin[j][0] += 1
                else:
                    total_spin[j][1] -= 1
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += 2*(h[i][j] > 0) - 1
        for j in range(N):
            if h[0][j] > 0:
                priority[j][0] += sum(h[k][j] for k in range(1,N))
            else:
                priority[j][1] -= sum(h[k][j] for k in range(1,N))
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
            if h[i][j] > 0:
                priority_total = total_spin.copy()
                for j in range(N):
                    priority_total[j][0] = total_spin[j][0]
            else:
                priority_total = -total_spin.copy()
                for j in range(N):
                    priority_total[j][1] = -total_spin[j][0]
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    spin = 1
                else:
                    spin = -1
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += spin
        for i in range(N):
            if h[i][0] > 0:
                priority[i*N:][0] += np.sum(h[:,0], dtype=int)
            else:
                priority[i*N:][1] -= np.sum(h[:,0], dtype=int)
        return priority


#score: {'data2D.txt': -0.0006180555555555562}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        
        total_spin = np.zeros((N, 2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][0] += h[i][j]
                
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[i][0]
                else:
                    priority[i*N+j][1] = -total_spin[i][0]

        for j in range(N):
            if h[0][j] > 0:
                priority[j][0] += sum(h[k][j] for k in range(1,N))
            else:
                priority[j][1] -= sum(h[k][j] for k in range(1,N))

        return priority


#score: {'data2D.txt': -0.00930077160493827}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = h[site][j]
                
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin
                else:
                    priority_total[i*N+j][1] = -total_spin
                    
        return priority_total


#score: {'data2D.txt': -0.15429645061728445}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j] = [total_spin, 0]
            else:
                priority_total[i*N+j] = [-total_spin, 1]
    return priority_total


#score: {'data2D.txt': -0.0667609567901235}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = np.zeros((2), dtype=int)
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += spin
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return priorities


#score: {'data2D.txt': -0.0009816358024691359}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [[a,b] for a,b in sorted(priorities)]


#score: {'data2D.txt': -0.0008986111111111117}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k == 0:
                        total_spin[0] += state[i][j]
                    elif k == 1 or k==3:
                        total_spin[0] += state[site][j]
                    else:
                        total_spin[0] += state[site][(j+1)%N]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return [[a,b] for a,b in sorted(priorities)]


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = [0,0]
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[0] += state[site][j]
            if h[i][j] > 0:
                priorities[i*N+j] = [total_spin[0], 1]
            else:
                priorities[i*N+j] = [-total_spin[0], -1]
    return priorities.tolist()


#score: {'data2D.txt': -0.0009816358024691359}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priorities.append((total_spin, 1))
        else:
          priorities.append((-total_spin, -1))
    return [[a,b] for a,b in sorted(priorities)]


#score: {'data2D.txt': -0.32667206790123365}
program:
def priority(N, h, J):
      N2 = N*N
      total_spin = [[0 for _ in range(2)] for _ in range(N)]
      priorities = []
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      for i in range(N):
          for j in range(N):
              total_spin[0][0] += state[i][j]
              if h[i][j] > 0:
                  priorities.append((total_spin[0][0], 1))
              else:
                  priorities.append((-total_spin[0][0], -1))
      return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        total_spin = [0,0]
        for j in range(N):
            site_sum = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                site_sum += state[i][j] * h[site][j]
            total_spin[1 if h[i][j] > 0 else 0] += site_sum
        for j in range(N):
            if h[i][j] > 0:
                priorities.append((total_spin[1], 1))
            else:
                priorities.append((-total_spin[0], -1))
    return priorities


#score: {'data2D.txt': 0.008216203703703703}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N2)]
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if h[i][j] > 0:
                    priority_total[site*N+j][0] += state[i][j]
                else:
                    priority_total[site*N+j][1] -= state[i][j]
        return [list(row) for row in priority_total]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[p[0],p[1]] for p in priorities]


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,N), dtype=int)
        for k in range(3):
            for i in range(N):
                for j in range(N):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][j] += state[i][j]
        priority_total = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priorities.append((total_spin[i][j], h[i][j]))
                else:
                    priorities.append((-total_spin[i][j], -h[i][j]))
        return [list(i) for i in priorities]


#score: {'data2D.txt': 0.007117129629629629}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][j] += state[site][0]
        return [(np.sum(total_spin[i][j]), -1 if h[i][j] > 0 else 1) for i in range(N) for j in range(N)]


#score: {'data2D.txt': -0.09921311728395071}
program:
def priority(N, h, J):
        N2 = N*N
        total_spin = [[0 for _ in range(2)] for _ in range(N)]
        priorities = [[0 for _ in range(2)] for _ in range(N2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin[site][0], 0]
                else:
                    priorities[i*N+j] = [-total_spin[site][0], 1]
        priority_total = [[0 for _ in range(2)] for _ in range(N)]
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -1*total_spin[j][0]
        return priorities


#score: {'data2D.txt': 0.339107561728394}
program:
def priority(N, h, J):
    N2 = N*N
    priority_total = [[0 for _ in range(2)] for _ in range(N2)]
    
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
    
    for j in range(N):
        if h[0][j] > 0:
            priority_total[j][0] += sum(h[k][j] for k in range(1,N))
        else:
            priority_total[j][1] -= sum(h[k][j] for k in range(1,N))
    
    return priority_total


#score: {'data2D.txt': -0.31878348765432046}
program:
def priority(N, h, J):
    N2 = N*N
    priority_total = [[0 for _ in range(2)] for _ in range(N2)]
    
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
    
    return priority_total


#score: {'data2D.txt': -0.09538009259259264}
program:
def priority(N, h, J):
    N2 = N*N
    priority_total = [[0 for _ in range(2)] for _ in range(N2)]
    
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
        
        for j in range(N):
            if h[0][j] > 0:
                priority_total[j][0] += sum(h[k][j] for k in range(1,N))
            else:
                priority_total[j][1] -= sum(h[k][j] for k in range(1,N))
    
    total_spin = [0 for _ in range(N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[site] += h[i][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[site]
            else:
                priority_total[i*N+j][1] = -total_spin[site]
    
    return priority_total


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [(i[0], i[1]) for i in priorities]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priorities[(i*N+j), 0] = total_spin
            else:
                priorities[(i*N+j), 1] = -total_spin
    return priorities.tolist()


#score: {'data2D.txt': -0.0010723765432098765}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    site2 = (site + ((k-1)%2 - 1)) % N
                    total_spin[0] += state[site][site2]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return [[a,b] for a,b in sorted(priorities)]


#score: {'data2D.txt': -0.0006507716049382719}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if h[i][j] > 0 else -row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [[a,b] for a,b in sorted(priorities)]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((2)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, 1))
                else:
                    priority.append((-total_spin, -1))
        return priority


#score: {'data2D.txt': 0.0677109567901235}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = np.zeros((N,N), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
                
                if h[i][j] > 0:
                    priorities[i*N+j, 0] = total_spin[site][0]
                else:
                    priorities[i*N+j, 1] = -total_spin[site][0]
                    
        return priorities


#score: {'data2D.txt': -0.14262546296296313}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
                priorities[(i*N+j), 0] = total_spin[site][0] if h[i][j] > 0 else -total_spin[site][0]
        return priorities


#score: {'data2D.txt': 0.14599336419753106}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N**2, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': -0.0006692901234567905}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[0,0] for _ in range(N**2)]
    
    total_spin = [0]*N
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N) - N//2) % N
            total_spin[site] += state[i][j]
    
    for j in range(N**2):
        if h[j//N][j%N] > 0:
            priority_total[j][0] = total_spin[j//N]
        else:
            priority_total[j][1] = -1*total_spin[j//N]
        
    return priority_total


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
    N2 = N*N
    total_spin = [[0,0] for _ in range(N)]
    priority_total = [[float('-inf'), float('inf')] for _ in range(N2)]
    
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N) - N//2) % N
            total_spin[site][0] += h[i][j]
            
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[site][0]
            else:
                priority_total[i*N+j][1] = -total_spin[site][0]
                
    return priority_total


#score: {'data2D.txt': -0.0001776234567901238}
program:
def priority(N, h, J):
    total_spin = np.zeros((N, N, 2), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[i][site][0] += 1 if h[i][j] > 0 else -1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[i][site][0] += 1 if h[site][j] > 0 else -1
    priorities = []
    for i in range(N*N):
        if h[i//N][i%N] > 0:
            priorities.append((-total_spin[i//N][i%N][0], 1))
        else:
            priorities.append((total_spin[i//N][i%N][0], -1))
    return sorted(priorities)[:N*N]


#score: {'data2D.txt': 0.03457453703703706}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][0] += state[i][int((k-1)/2)*N+(int((k-1)/2) + (k%2))]
        for j in range(N*N):
            if h[int(j/N)][j%N] > 0:
                priority = [total_spin[j//N][0], 1]
            else:
                priority = [-total_spin[j//N][0], -1]
            priorities.append(priority)
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin
                else:
                    priority_total[i*N+j, 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': -0.009031944444444443}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += spin
                total_spin[N*site+j][1] += spin
        return [[total_spin[k][0], total_spin[k][1]] for k in range(N*N)]


#score: {'data2D.txt': 0.1495297839506174}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[0][(i + ((k-1)%2 - 1)) % N][j] if state[i][((k-1)%2 - 1)] == 1 else -J[0][(i + ((k-1)%2 - 1)) % N][j] for k in range(3)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.0006507716049382719}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[x[0], x[1]] for x in sorted(priorities)]


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]  
    priorities = []  
    for i in range(N):  
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]  
      for j in range(N):  
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])  
        if h[i][j] > 0:  
          priorities.append((total_spin, 1))  
        else:  
          priorities.append((total_spin, -1))  
    return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i,site] += h[i][j]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin[i,j]
                else:
                    priority_total[i*N+j, 1] = -total_spin[i,j]
        return priority_total


#score: {'data2D.txt': -0.0010418209876543211}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []  
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[3*(k*N+j)][:N].dot(state[max(0,i-k),:][min(j+k,N-1):]) for k in range(max(0,j-N+1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[p[1], p[0]] for p in sorted(priorities)]  


#score: {'data2D.txt': 0.06840601851851855}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                total_spin[i][0] += site_spin
                if h[i][j] > 0:
                    priorities[(i*N+j),1] = -total_spin[i][0]
                else:
                    priorities[(i*N+j),0] = total_spin[i][0]
        return priorities


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N,N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[i][j] = [total_spin, 0]
                else:
                    priority_total[i][j] = [-total_spin, 1]
        return priority_total.reshape(N*N,2).tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][j] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((-total_spin[i][j], 1))
                else:
                    priorities.append((total_spin[i][j], -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': 0.16358780864197553}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return priorities


#score: {'data2D.txt': 0.033143981481481365}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0,0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priorities = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                if h[site][j] > 0:
                    total_spin += h[site][j]
                for k in range(4):
                    if k-j+N < N and k-j-N >= 0:
                        total_spin += J[site, j-k%N].flatten()[0]
                priority_total = total_spin
                priorities[i*N+j] = [priority_total, -priority_total]
        return priorities


#score: {'data2D.txt': -0.0017652777777777773}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        for j in range(N):
            total_spin = [0,0]
            for k in range(4):
                site = (i + ((k-1)%2 - 1)) % N
                if k-j+N < N and k-j-N >= 0:
                    total_spin[0] += J[site, j-k%N].flatten()[0]
                else:
                    total_spin[0] += h[site][j]
            for spin in [-1,1]:
                priority_total = sum([spin*h[i][j] for j in range(N)])
                priorities.append((priority_total + sum([spin*J[site, j-k%N].flatten()[0] for k in range(4) if k-j+N < N and k-j-N >= 0]), spin))
    return sorted(priorities)[::-1][:N*N]


#score: {'data2D.txt': -0.0008294753086419755}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [[x[1], x[0]] for x in sorted(priorities, key=lambda y: (-y[0], y[1]))]


#score: {'data2D.txt': -0.0022162037037037033}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += h[site][j]
                
                if h[i][j] > 0:
                    priority_total = -total_spin
                else:
                    priority_total = total_spin
                
                priorities.append((priority_total, -1))
        return [[row[0], row[1]] for row in priorities]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][site] += h[site][j]
                if h[i][j] > 0:
                    total_spin[i][j] = total_spin[i][site]
                else:
                    total_spin[i][j] = -total_spin[i][site]
        priority_total = []
        for i in range(N):
            row = []
            for j in range(N):
                if h[i][j] > 0:
                    row.append((total_spin[i][j],1))
                else:
                    row.append((-total_spin[i][j],-1))
            priority_total.extend(row)
        return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site,j] += spin
    priorities = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                priorities[(i*N+j), 0] = total_spin[i,j]
            else:
                priorities[(i*N+j), 1] = -total_spin[i,j]
    return priorities.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N, 2), dtype=int)
        for i in range(N):
            total_spin = np.zeros(2, int)
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin[0]
                else:
                    priority_total[(i*N+j), 1] = -total_spin[0]
        for j in range(N):
            priority_total[j, 0] = priority_total[N*j: N*(j+1), 0].sum()
            if h[i][j] > 0:
                priority_total[j, 1] = priority_total[N*j: N*(j+1), 1].sum()
            else:
                priority_total[j, 1] = -(priority_total[N*j: N*(j+1), 1].sum())
        return priority_total


#score: {'data2D.txt': 0.26402175925925897}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if ((i + ((j-k)%2 - 1)) % N) == k else 0 for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin, 1]
                else:
                    priority_total[i*N+j] = [-total_spin, -1]
        return priority_total


#score: {'data2D.txt': 0.07110972222222227}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][0] += state[i][k%N]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin[i][0], 1]
                else:
                    priority_total[i*N+j] = [-total_spin[i][0], -1]
        return priority_total


#score: {'data2D.txt': 0.2904572530864192}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_spin = state[i][j]
                total_spin = sum([site_spin + (-1)**((k-1)%2)*state[(i+((k-1)%2 - 1)) % N][max(0,j-k)%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities[i*N+j, 0] = total_spin
                else:
                    priorities[i*N+j, 1] = -total_spin
        return priorities


#score: {'data2D.txt': -0.10544336419753096}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = sum([state[i][site], state[(i+1)%N][j], state[i][(j+1)%N] if j < N-1 else state[0][j-N]])
                if h[i][j] > 0:
                    priorities.append((total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return priorities


#score: {'data2D.txt': -0.011142746913580248}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = [0,0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priorities[(i*N+j), 0] = total_spin[0]
                else:
                    priorities[(i*N+j), 1] = -total_spin[0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priorities[(i*N+j), 0] += total_spin[0]
                else:
                    priorities[(i*N+j), 1] -= total_spin[0]
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[spin] += state[site][j]
        priority_total = np.zeros((N,2), dtype=int)
        for j in range(N):
            for i in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[j, 0] = total_spin
                else:
                    priority_total[j, 1] = -total_spin
        return priorities


#score: {'data2D.txt': -0.010884104938271605}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = np.zeros((N*N,2), dtype=int)
    total_spin = [0,0]
    
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[0] += h[site][j]
        
        if h[i][j] > 0:
          priorities[(i*N+j), 0] = total_spin[0]
        else:
          priorities[(i*N+j), 1] = -total_spin[0]
    
    return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][0] += spin
            if h[i][j] > 0:
                priorities.append((total_spin[site][0], 1))
            else:
                priorities.append((total_spin[site][0], -1))
    return priorities


#score: {'data2D.txt': 0.04118287037037037}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site][0]
                else:
                    priority[i*N+j][1] = -total_spin[site][0]
                    
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site][0]
                else:
                    priority[i*N+j][1] = -total_spin[site][0]
                    
        return priority


#score: {'data2D.txt': -0.0005214506172839501}
program:
def priority(N, h, J):
        N_square = N * N
        priorities = [[0 for _ in range(2)] for _ in range(N_square)]
        total_spin = np.zeros((N, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += h[i][j]
        priority_total = []
        for j in range(N_square):
            if h[j//N][j%N] > 0:
                priority_total.append((total_spin[j//N][0], 1))
            else:
                priority_total.append((-total_spin[j//N][0], -1))
        return sorted(priority_total)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]  
        priorities = []    
        for i in range(N):  
            for j in range(N):  
                site = (i + ((j%2) - 1)) % N 
                total_spin = 0  
                for k in range(3):  
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j] 
                if h[i][j] > 0:  
                    priorities.append((total_spin, 1))
                else:  
                    priorities.append((-total_spin, -1))
        return [[p[1], p[0]] for p in priorities]


#score: {'data2D.txt': 0.0323652777777778}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j%2) - 1)) % N
                for k in range(3):
                    site = (site + ((k-1)%2 - 1)) % N
                    total_spin += state[site][0]
                
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        
        return priorities


#score: {'data2D.txt': -0.0008853395061728396}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return [[p[1],-p[0]] for p in sorted(priorities)]


#score: {'data2D.txt': -0.012068672839506174}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            for k in range(3):
                site_neighbor = (site + ((k-1)%2 - 1)) % N
                total_spin[i*N+j][0] += h[site_neighbor][j]
    return [[p[1], -p[0]] for p in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    for k in range(3):
                        site_neighbor = (i + ((k-1)%2 - 1)) % N
                        total_spin[site_neighbor][0] += 1 if h[i][j] > 0 else -1
                priority_total[i*N+j] = [total_spin[site][0], -total_spin[site][0]]
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                if h[site][j] > 0:
                    total_spin += h[site][j]
                for k in range(4):
                    if k-j+N < N and k-j-N >= 0:
                        total_spin += J[site, j-k%N].flatten()[0]
                priority_total = total_spin
                priorities.append([priority_total, -priority_total])
        return priorities


#score: {'data2D.txt': -1.4043209876543283e-05}
program:
def priority(N, h, J):
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[site, j-k%N].flatten()[0] if 0 <= k-j+N < N and 0 <= k-j-N < N else 0 for k in range(4)])
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priorities.append([total_spin, -total_spin])
                else:
                    priorities.append([-total_spin, total_spin])
        return priorities


#score: {'data2D.txt': 0.057156018518518543}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[(i+((k-1)%2) % N, (j-k)%N)].flatten()[0] if (0 <= k-j+N <= N and 0 <= k-j-N < N) else h[i][j] for k in range(3)])
                if h[i][j] > 0:
                    priorities.append([total_spin, 1])
                else:
                    priorities.append([-total_spin, -1])
        return priorities


#score: {'data2D.txt': 0.057156018518518543}
program:
def priority(N, h, J):
        priority = np.zeros((N**2, 2))
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[(i+((k-1)%2) % N, j-k%N)].flatten()[0] if (0 <= k-j+N <= N and 0 <= k-j-N < N) else h[i][j] for k in range(-1,2)])
                if h[i][j] > 0:
                    priority[(i*N+j),0] = total_spin
                    priority[(i*N+j),1] = 1
                else:
                    priority[(i*N+j),0] = -total_spin
                    priority[(i*N+j),1] = -1
        return(priority)


#score: {'data2D.txt': -0.0010276234567901236}
program:
def priority(N, h, J):
        total_spin = [[0]*2 for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[i*N+j][1 if h[i][j] > 0 else 0] += -1 if h[i][j] > 0 else 1
        for j in range(N):
            if h[i][j] > 0:
                total_spin[j][0] = sum(total_spin[k][1] for k in range(j))
            else:
                total_spin[j][1] = -sum(total_spin[k][0] for k in range(j))
        return [list(t) for t in total_spin]


#score: {'data2D.txt': 0.016561574074074076}
program:
def priority(N, h, J):
    total_spin = [[0]*N for _ in range(N)]
    priority_total = []
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                priority = [sum(total_spin[i][:k]+total_spin[i][k+1:]) for k in range(N)][0]
                total_spin[i][j] = -1
            else:
                priority = [-sum(total_spin[i][:k]+total_spin[i][k+1:]) for k in range(N)][0]
                total_spin[i][j] = 1
            priority_total.append([priority, 1-2*total_spin[i][j]])
    return priority_total


#score: {'data2D.txt': -0.17209737654321003}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = sum([state[k][site] if k != i else state[i][j] for k in range(N)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': -0.010946450617283951}
program:
def priority(N, h, J):
        total_spins = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    total_spins[i][j] += 1
                else:
                    total_spins[i][j] -= 1
        priority_total = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                if h[i][j] > 0:
                    total_spins[site][0] += total_spins[i][j]
                else:
                    total_spins[site][0] -= total_spins[i][j]
        priority = [[total_spins[i][j], 1] if h[i][j] > 0 else [-total_spins[i][j], -1] for i in range(N) for j in range(N)]
        return priority


#score: {'data2D.txt': 0.3330828703703694}
program:
def priority(N, h, J):
    total_spins = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                site = (i + ((j-1)%2 - 1)) % N
                total_spins[site][1] += 1
            else:
                site = (i + ((j-1)%2 - 1)) % N
                total_spins[site][0] -= 1
    priority_total = [[total_spins[i][1], 1] if h[i//N][i%N] > 0 else [(-total_spins[i][0]), -1] for i in range(N*N)]
    return priority_total


#score: {'data2D.txt': 0.008696141975308642}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                if h[i][j] > 0:
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[0] += state[site][j]
                    priority_total[j*N+i] = [total_spin[0], 1]
                else:
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[1] -= state[site][j]
                    priority_total[j*N+i] = [-total_spin[1], -1]
        
        return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for k in range(3):
            site = (k % 2 - 1)
            for i in range(N):
                for j in range(N):
                    total_spin[i][0] += state[(i+site)%N][j]
        priorities = []
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priorities.append((-total_spin[i][1], 1))
                else:
                    priorities.append((total_spin[i][1], -1))
        return priorities


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
                    
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    total_spin = np.zeros((N*N,2), dtype=int)
    
    for i in range(N):
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site*N+j][0] += spin
            priority_total[i*N+j][0] = total_spin[i*N+j][0]
            if h[i][j] > 0:
                priority_total[i*N+j][1] = total_spin[i*N+j][0]
            else:
                priority_total[i*N+j][1] = -total_spin[i*N+j][0]
    
    return priority_total


#score: {'data2D.txt': 0.07110972222222227}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
          for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin[site][0] += state[i][k%N]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
          for j in range(N):
            if h[i][j] > 0:
              priority_total[i*N+j] = [total_spin[i][0], 1]
            else:
              priority_total[i*N+j] = [-total_spin[i][0], -1]
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin
                else:
                    priority_total[i*N+j, 1] = -total_spin
        return priority_total


#score: {'data2D.txt': -0.09921311728395071}
program:
def priority(N, h, J):
        N2 = N*N
        total_spin = [[0 for _ in range(2)] for _ in range(N)]
        priorities = [[0 for _ in range(2)] for _ in range(N2)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin[site][0], 0]
                else:
                    priorities[i*N+j] = [-total_spin[site][0], 1]
        return priorities


#score: {'data2D.txt': -0.0009229938271604934}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += J[k][site][j-k%N] * state[site][j-k%N]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0010591049382716049}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = sum([J[k][(i + ((k-1)%2 - 1)) % N][j-k%N] if k%2 == 0 else -J[k][(i + ((k-1)%2 - 1)) % N][j-k%N] for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.0015714506172839506}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[y[1], y[0]] for y in sorted(priorities)]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[float('-inf') for _ in range(2)] for _ in range(N2)]
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
        if h[i][j] > 0:
          priority[i*N+j][1] = -total_spin
        else:
          priority[i*N+j][0] = total_spin
    return priority


#score: {'data2D.txt': -0.005629475308641975}
program:
def priority(N, h, J):
    priority_total = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
        for j in range(N):
            total_spin = 0
            site = (i + ((j-1)%N - 1)) % N
            for k in range(3):
                if h[site][k] > 0:
                    total_spin += 1
                else:
                    total_spin -= 1
            if h[i][j] > 0:
                priority_total[(i*N+j), 0] = total_spin
            else:
                priority_total[(i*N+j), 1] = -total_spin
    return priority_total.tolist()


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = [[0,0] for _ in range(N**2)]
        priorities = [[0,0] for _ in range(N**2)]
        
        for i in range(N**2):
            site = (i // N, i % N)
            for k in range(3):
                neighbor_site = ((site[0] + ((k-1)%2 - 1)) % N, site[1])
                total_spin[i][h[neighbor_site[0]][neighbor_site[1]] > 0] += 1
            if h[site[0]][site[1]] > 0:
                priorities[i][0] = total_spin[i][0]
            else:
                priorities[i][1] = -total_spin[i][0]
        
        for j in range(N):
            priority_total = [[0,0] for _ in range(N)]
            for i in range(N):
                if h[i][j] > 0:
                    priority_total[i][0] = total_spin[j*N+i][0]
                else:
                    priority_total[i][1] = -total_spin[j*N+i][0]
        
        return priorities


#score: {'data2D.txt': -0.0008251543209876545}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[p[1],-p[0]] for p in sorted(priorities)]


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[p[1],-p[0]]for p in priorities]


#score: {'data2D.txt': -0.001275771604938271}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N**2):
            site = (i//N, i%N)
            total_spin = [0, 0]
            for k in range(3):
                neighbor = ((site[0] + ((k-1)%2 - 1)) % N, (site[1] + ((k-1)%2 - 1)) % N)
                if neighbor == site:
                    continue
                total_spin[int(J[k][neighbor[0]][neighbor[1]]) > 0] += state[neighbor[0]][neighbor[1]]
            priorities.append((total_spin[0], total_spin[1]))
        return priorities


#score: {'data2D.txt': -0.012681018518518517}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = np.zeros((N,2), dtype=int)
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
            priority_total = np.zeros((N,2), dtype=int)
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[j][0]
                else:
                    priority_total[j][1] = -1*total_spin[j][0]
            for j in range(N):
                priorities.append((priority_total[j][0], 1))
        return priorities


#score: {'data2D.txt': -0.0002998456790123456}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j][0] += state[i][site]
        priorities = []
        for i in range(N*N):
            if h[int(i/N)][i%N] > 0:
                priorities.append((total_spin[i][0], 1))
            else:
                priorities.append((-total_spin[i][0], -1))
        return sorted(priorities,reverse=True)


#score: {'data2D.txt': 1.435185185185145e-05}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site][0], 1))
                else:
                    priorities.append((-total_spin[site][0], -1))
        return sorted(priorities,reverse=True)


#score: {'data2D.txt': -0.002173919753086422}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            for j in range(N):
                site1 = (i + ((j-1)%N - 1)) % N
                site2 = (i + ((j+1)%N - 1)) % N
                
                if h[i][j] > 0:
                    total_spin = sum(h[site1][k] for k in range(N))
                    priority_total[i*N+j][0] = total_spin
                    priority_total[i*N+j][1] = -total_spin
                else:
                    total_spin = sum(-h[site2][k] for k in range(N))
                    priority_total[i*N+j][0] = total_spin
                    priority_total[i*N+j][1] = -total_spin
        
        return priority_total


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = np.zeros((N2, 2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    if h[site][j] > 0:
                        total_spin += 1
                    else:
                        total_spin -= 1
                priority_total[i*N+j] = [total_spin, -total_spin]
        
        return priority_total


#score: {'data2D.txt': 0.005125154320987654}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
      for j in range(N):
        total_spin = sum([row_sum[k] * state[i][j-k%N] if state[i][j-k%N] == 1 else -row_sum[k] for k in range(min(j,N-1))])
        priorities.append((total_spin, [-1,1][state[i][j]>0]))
    return priorities


#score: {'data2D.txt': -0.010884104938271605}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = [0,0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priorities[(i*N+j), 0] = total_spin[0]
                else:
                    priorities[(i*N+j), 1] = -total_spin[0]
        return priorities


#score: {'data2D.txt': -0.06522577160493831}
program:
def priority(N, h, J):
    N2 = N*N
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][0] += state[i][j]
            if h[i][j] > 0:
                priorities.append((total_spin[site][0], 1))
            else:
                priorities.append((-total_spin[site][0], -1))
    return priorities


#score: {'data2D.txt': 0.03370725308641975}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k == 0:
                        total_spin[0] += state[i][j]
                    elif k == 1 or k==3:
                        total_spin[0] += state[site][j]
                    else:
                        total_spin[0] += state[site][(j+1)%N]
                if h[i][j] > 0:
                    priority_total[(i*N+j),0] = total_spin[0]
                    priority_total[(i*N+j),1] = 1
                else:
                    priority_total[(i*N+j),0] = -total_spin[0]
                    priority_total[(i*N+j),1] = -1
        
        return priority_total.tolist()


#score: {'data2D.txt': -0.0007887345679012342}
program:
def priority(N, h, J):
        total_spin = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    total_spin[site][0] += 1
                else:
                    total_spin[site][0] -= 1
        priority_total = np.zeros((N*N,2), dtype=int)
        for j in range(N):
            if h[j//N][j%N] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -total_spin[j][0]
        return priority_total


#score: {'data2D.txt': 0.11887484567901248}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = np.zeros((N,2), dtype=int)
    
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[site][0] += state[i][j]
            
            if h[i][j] > 0:
                priority_total = -total_spin[site].sum()
            else:
                priority_total = total_spin[site].sum()
                
            priorities.append((priority_total, -1))
    return np.array(priorities).reshape(N*N,2)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,N), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][j] += h[site][j]
                
                if h[i][j] > 0:
                    priority_total = -total_spin[i].sum()
                else:
                    priority_total = total_spin[i].sum()
                    
                priorities.append((priority_total, -1))
        return np.array(priorities).reshape(N*N,2)


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,N), dtype=int)
        priorities = []
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][j] += h[site][j]
                
                if h[i][j] > 0:
                    priority_total = -total_spin[i].sum()
                else:
                    priority_total = total_spin[i].sum()
                    
                priorities.append((priority_total, -1))
        
        return np.array(priorities).reshape(N*N,2)


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return [[priorities[n][0], priorities[n][1]] for n in range(N*N)]


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[i*N+j][0] += 1
                else:
                    for k in range(3):
                        site = (i + ((k-1)%2 - 1)) % N
                        total_spin[i*N+j][1] += 1
        return [[x, y] for x, y in total_spin]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        priority_total = np.zeros((N2,2), dtype=int)
        total_spin = np.zeros((N2,), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i*N+j] += h[i][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j]
                else:
                    priority_total[i*N+j][1] = -total_spin[i*N+j]
        return priority_total


#score: {'data2D.txt': -0.0007847222222222219}
program:
def priority(N, h, J):
        N2 = N*N
        priority_list = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += h[i][j]
                if h[i][j] > 0:
                    priority_list[i*N+j][0] = total_spin[site][0]
                else:
                    priority_list[i*N+j][1] = -total_spin[site][0]
        for j in range(N):
            row_sum = sum(h[j])
            for i in range(N):
                if h[i][j] > 0:
                    priority_list[i*N+j][0] += row_sum
                else:
                    priority_list[i*N+j][1] -= row_sum
        return priority_list


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priority = np.zeros((N*N,2), dtype=int)
      for i in range(N):
          for j in range(N):
              total_spin = 0
              for k in range(3):
                  site = (i + ((k-1)%2 - 1)) % N
                  total_spin += state[site][j]
              if h[i][j] > 0:
                  priority[(i*N+j), 0] = total_spin
              else:
                  priority[(i*N+j), 1] = -total_spin
      return priority


#score: {'data2D.txt': -0.06522577160493831}
program:
def priority(N, h, J):
    N2 = N*N
    total_spin = np.zeros((N,2), dtype=int)
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][0] += state[i][j]
            if h[i][j] > 0:
                priorities.append((total_spin[site][0], 1))
            else:
                priorities.append((-total_spin[site][0], -1))
                
    return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = np.zeros((N,2), dtype=int)
    
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += 1
                priority[i*N+j][0] = total_spin[site][0]
            else:
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][1] += 1
                priority[i*N+j][1] = -total_spin[site][1]
                
    return priority


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N**2):
            row_sum = [sum(state[i//N][:k]+state[i//N][k+1:]) for k in range(N)]
            total_spin = sum([row_sum[k] * state[i//N][i%N-k%N] for k in range(min(i%N,N-1))])
            if h[i//N][i%N] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.33350848765432}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = np.zeros((N,2))
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site][0] += state[i][site]
            priority_total = np.zeros((N,2), dtype=int)
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[j][0] = total_spin[j][0]
                else:
                    priority_total[j][1] = -1*total_spin[j][0]
            for j in range(N):
                priorities.append((priority_total[j][0], 1) if h[i][j] > 0 else (priority_total[j][1], -1))
        return priorities


#score: {'data2D.txt': -0.3431871913580236}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = [[float('inf'), float('-inf')] for _ in range(N2)]
        
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j] = [total_spin[0], float('-inf')]
                else:
                    priority[i*N+j] = [-total_spin[0], float('inf')]
        return priority


#score: {'data2D.txt': 0.1345319444444446}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    total_spin = [np.zeros(2) for _ in range(N**2)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            state_site = state[site]
            for k in range(3):
                if h[i][j] > 0:
                    total_spin[i*N+j][0] += state_site[k%N]
                else:
                    total_spin[i*N+j][1] -= state_site[k%N]
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j+N*i][0] = total_spin[i*N+j][0]
            else:
                priority_total[j+N*i][1] = -total_spin[i*N+j][0]
    return priority_total


#score: {'data2D.txt': -0.002200771604938272}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0, 0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin, 0]
                else:
                    priority_total[i*N+j] = [-total_spin, 1]
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin
            else:
                priority_total[j][1] = -total_spin
        return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = 0
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                priority_total = np.zeros((N,2), dtype=int)
                for j in range(N):
                    if h[i][j] > 0:
                        priority_total[j][0] = total_spin
                    else:
                        priority_total[j][1] = -total_spin
                priorities.append(list(priority_total[0]))
        return priorities


#score: {'data2D.txt': 0.0336807098765432}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = [[0,0] for _ in range(N*N)]
        
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities[i*N+j][0] = total_spin
                else:
                    priorities[i*N+j][1] = -total_spin
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    
    total_spin = [[0 for _ in range(2)] for _ in range(N)]
    for i in range(N):
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][spin==1] += 1
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                priority[i*N+j][0] = sum(total_spin[i][:])
            else:
                priority[i*N+j][1] = -sum(total_spin[i][:])
    return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        
        total_spin = np.zeros((N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][spin==1] += 1
                
        priority_total = np.zeros((N,2), dtype=int)
        
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -total_spin[j][0]
                
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                if state[i][site] == -1:
                    spin = 1
                else:
                    spin = -1
                if h[i][j] > 0:
                    priority[i*N+j] = [-x for x in priority_total[site]]
                else:
                    priority[i*N+j] = [x for x in priority_total[site]]
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                spin = -1 if h[i][j] > 0 else 1
                total_spin[site][spin==1] += 1
                
        for i in range(N):
            for j in range(N):
                priority[i*N+j] = [-x if h[i][j] > 0 else x for x in total_spin[i]]
        
        return priority


#score: {'data2D.txt': 0.010088117283950617}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] += h[site][j]
                total_spin[i*N+j][1] -= h[site][j]
        priority_total = [[0 for _ in range(2)] for _ in range(N)]
        for i in range(N):
            spin = -1 if sum(h[i]) > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site*N+(N-1-i)%N][spin == 1] += spin
        priority = [[0, 0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority[i*N+j][1] = -total_spin[i*N+j][1]
        return [list(row) for row in priority]


#score: {'data2D.txt': 0.013601388888888889}
program:
def priority(N, h, J):
        total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] += h[site][j]
                total_spin[i*N+j][1] -= h[site][j]
        priority_total = [[0 for _ in range(2)] for _ in range(N)]
        for i in range(N):
            spin = -1 if h[i][N-1-i]%N > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site*N+(N-1-i)%N][spin == 1] += spin
        priority = [[0, 0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority[i*N+j][1] = -total_spin[i*N+j][1]
        return [[y for y in x] for x in priority]


#score: {'data2D.txt': 0.010088117283950617}
program:
def priority(N, h, J):
    total_spin = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[i*N+j][0] += h[site][j]
            total_spin[i*N+j][1] -= h[site][j]
    priority_total = [[0 for _ in range(2)] for _ in range(N)]
    for i in range(N):
        spin = -1 if sum(h[i]) > 0 else 1
        for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin[site*N+(N-1-i)%N][spin == 1] += spin
    priority = [[0, 0] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                priority[i*N+j][0] = total_spin[i*N+j][0]
            else:
                priority[i*N+j][1] = -total_spin[i*N+j][1]
    return [[i[0], i[1]] for i in priority]


#score: {'data2D.txt': 0.007823611111111111}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = np.zeros((N*N,2), dtype=int)
    total_spin = np.zeros((N,N), dtype=int)
    for i in range(N):
      for j in range(N):
        site = (i + ((j-1)%2 - 1)) % N
        total_spin[site][0] += state[i][j]
        for k in range(3):
          site = (i + ((k-1)%2 - 1)) % N
          total_spin[site][0] += state[i][j]
        if h[i][j] > 0:
          priorities[(i*N+j), 0] = total_spin[i][j]
        else:
          priorities[(i*N+j), 1] = -total_spin[i][j]
    return priorities


#score: {'data2D.txt': -0.0009452160493827155}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0,0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    site2 = (site + ((k-1)%2 - 1)) % N
                    total_spin[0] += state[i][site2]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return [[x[1],-x[0]] for x in sorted(priorities,reverse=True)]


#score: {'data2D.txt': -0.0008723765432098762}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0,0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    site2 = (site + ((k-1)%2 - 1)) % N
                    total_spin[0] += state[i][site2]*state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return [[x[1],-x[0]] for x in sorted(priorities,reverse=True)]


#score: {'data2D.txt': 0.01271496913580247}
program:
def priority(N, h, J):
    total_priority = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site_spin = -1 if h[i][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_priority[i*N+j][0] += site_spin * J[k][site][j]
    return [[total[0], -total[1]] for total in total_priority]


#score: {'data2D.txt': -0.19614120370370397}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin, -1))
                else:
                    priorities.append((-total_spin, 1))
        return priorities


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j, 0] = total_spin
                else:
                    priorities[i*N+j, 1] = -total_spin
        
        return priorities


#score: {'data2D.txt': -0.001586265432098765}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = [[0,0] for _ in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            if h[i][j] > 0:
                priority_total[(i*N+j),0] = total_spin[i][0]
            else:
                priority_total[(i*N+j),1] = -total_spin[i][0]
        return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = np.zeros((N*N, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                for k in range(3):
                    site_neighbor = (site + ((k-1)%2 - 1)) % N
                    total_spin[(i*N+j),0] += h[site][j]
                    if h[i][j] > 0:
                        total_spin[(i*N+j),1] = -total_spin[(i*N+j),0]
                    else:
                        total_spin[(i*N+j),1] = total_spin[(i*N+j),0]
        return total_spin


#score: {'data2D.txt': -0.001586265432098765}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      total_spin = np.zeros((N,2), dtype=int)
      for i in range(N):
          for j in range(N):
              site = (i + ((j-1)%N - 1)) % N
              total_spin[site][0] += state[i][j]
      priority_total = np.zeros((N*N,2), dtype=int)
      for i in range(N):
          if h[i][j] > 0:
              priority_total[i*N+j,0] = total_spin[i][0]
          else:
              priority_total[i*N+j,1] = -total_spin[i][0]
      return priority_total.tolist()


#score: {'data2D.txt': -0.20015447530864225}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j] = [total_spin, 0]
                else:
                    priority_total[i*N+j] = [-total_spin, 1]
        return priority_total


#score: {'data2D.txt': -0.002597376543209877}
program:
def priority(N, h, J):
    priorities = [[0 for _ in range(2)] for _ in range(N*N)]
    for i in range(N):
      for j in range(N):
        total_spin = [0, 0]
        for k in range(4):
          site = (i + ((k-1)%2 - 1)) % N
          if k-j+N < N and k-j-N >= 0:
            total_spin[0] += J[site, j-k%N].flatten()[0]
          else:
            total_spin[0] += h[site][j]
        for spin in [-1, 1]:
          priority_total = sum([spin*h[i][j] for j in range(N)])
          priorities[(i*N)+j] = [priority_total + sum([spin*J[site, j-k%N].flatten()[0] for k in range(4) if k-j+N < N and k-j-N >= 0]), spin]
    return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.06336929012345682}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            total_spin = [0]*N
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site] += h[i][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j),0] = sum(total_spin)
                else:
                    priority_total[(i*N+j),1] = -sum(total_spin)
        for j in range(N):
            if h[j,0] > 0:
                priority_total[j,0] = total_spin[0]
            else:
                priority_total[j,1] = -total_spin[0]
        return priority_total.tolist()


#score: {'data2D.txt': -0.007704783950617285}
program:
def priority(N, h, J):
    N2 = N*N
    priority_total = [[0,0] for _ in range(N2)]
    total_spin = [0,0]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%N - 1)) % N
            total_spin[0] += h[site][j]
            total_spin[1] -= h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[0]
            else:
                priority_total[i*N+j][1] = -total_spin[0]
    return priority_total


#score: {'data2D.txt': -0.09606311728395069}
program:
def priority(N, h, J):
    priority_total = [[0,0] for _ in range(N*N)]
    total_spin = [0]*N
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[site] += h[i][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[site]
            else:
                priority_total[i*N+j][1] = -total_spin[site]
    for i in range(N):
        total_spin[i] = 0
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[i] += h[i][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[i]
            else:
                priority_total[i*N+j][1] = -total_spin[i]
    return priority_total


#score: {'data2D.txt': 0.16645972222222247}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                total_spin = [0,0]
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k == 0:
                        total_spin[0] += state[i][j]
                    elif k == 1 or k==3:
                        total_spin[0] += state[site][j]
                    else:
                        total_spin[0] += state[site][(j+1)%N]
                total_spin[1] = -total_spin[0]
                
                if h[i][j] > 0:
                    priority_total[(i*N+j),0] = total_spin[0]
                    priority_total[(i*N+j),1] = 1
                else:
                    priority_total[(i*N+j),0] = total_spin[0]
                    priority_total[(i*N+j),1] = -1
        
        return priority_total.tolist()


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
    N4 = N*N
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((-total_spin, -1))
    return priorities


#score: {'data2D.txt': 0.03370725308641975}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(4):
                    site = (i + ((k-1)%2 - 1)) % N
                    if k == 0:
                        total_spin += state[i][j]
                    elif k == 1 or k==3:
                        total_spin += state[site][j]
                    else:
                        total_spin += state[site][(j+1)%N]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.03370725308641975}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    
    for i in range(N):
        for j in range(N):
            total_spin = [0,0]
            for k in range(4):
                site = (i + ((k-1)%2 - 1)) % N
                if k == 0:
                    total_spin[0] += state[i][j]
                elif k == 1 or k==3:
                    total_spin[0] += state[site][j]
                else:
                    total_spin[0] += state[site][(j+1)%N]
            if h[i][j] > 0:
                priorities.append((total_spin[0], 1))
            else:
                priorities.append((-total_spin[0], -1))
    
    return priorities


#score: {'data2D.txt': -0.0018334876543209878}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        
        total_spin = np.zeros((N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][spin==1] += 1
                
        priority_total = np.zeros((N,2), dtype=int)
        
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -total_spin[j][0]
                
        for j in range(N):
            if spin == 1:
                priority[i*N+j] = [-x for x in priority_total[j]]
            else:
                priority[i*N+j] = [x for x in priority_total[j]]
        
        return priority


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((-total_spin, -1))
                else:
                    priorities.append((total_spin, 1))
        return [x[1::-1] for x in priorities]


#score: {'data2D.txt': -0.0020634259259259256}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = np.zeros((N,2), dtype=int)
    
    for i in range(N):
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            site = (i + ((j-1)%N - 1)) % N
            total_spin[site][spin==1] += 1
    priority_total = np.zeros((N,2), dtype=int)
    for j in range(N):
        if h[i][j] > 0:
            priority_total[j][0] = total_spin[j][0]
        else:
            priority_total[j][1] = -total_spin[j][0]
    for i in range(N):
        if spin == 1:
            priority[i*N+j] = [-x for x in priority_total[j]]
        else:
            priority[i*N+j] = [x for x in priority_total[j]]
    return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_list = []
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priority_list.append((total_spin, 1))
            else:
                priority_list.append((total_spin, -1))
    return priority_list


#score: {'data2D.txt': 0.009147067901234568}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    total_spin = [0]*N
    for i in range(N):
      for k in range(3):
        site = (i + ((k-1)%2 - 1)) % N
        total_spin[site] += state[i][site]
      for j in range(N):
        if h[i][j] > 0:
          priority_total[(i*N+j), 0] = total_spin[j]
        else:
          priority_total[(i*N+j), 1] = -total_spin[j]
    return priority_total


#score: {'data2D.txt': -0.0004655864197530859}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N*N,2), dtype=int)
        total_spin = [0]*N
        for i in range(N):
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site] += state[i][k]
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin[j]
                else:
                    priority_total[(i*N+j), 1] = -total_spin[j]
        return priority_total


#score: {'data2D.txt': -0.004359722222222212}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum_1 = (np.sum(J_new[0::4], 0) + h).flatten()
        sum_2 = (np.sum(J_new[1::4], 0) + h).flatten()
        priority = np.column_stack((sum_1, -sum_2))
        return(priority)


#score: {'data2D.txt': 0.008205709876543212}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            total_spin = [[0,0] for _ in range(N)]
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[site][0], 1))
                else:
                    priorities.append((-total_spin[site][0], -1))
        return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i][0] += h[site][j]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            if h[i][j] > 0:
                priority_total[(i*N+j), 0] = total_spin[i][0]
            else:
                priority_total[(i*N+j), 1] = -total_spin[i][0]
        return priority_total.tolist()


#score: {'data2D.txt': -0.007382561728395061}
program:
def priority(N, h, J):
        priority = [[0 for _ in range(2)] for _ in range(N*N)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[i][0] += h[site][j]
                if h[site][j] > 0:
                    priority[i*N+j] = [total_spin[i][0], 0]
                else:
                    priority[i*N+j] = [-total_spin[i][0], 1]
        return priority


#score: {'data2D.txt': -0.0002998456790123456}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin = state[i][site]
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return sorted(priorities,reverse=True)


#score: {'data2D.txt': -0.00048256172839506193}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = []
      for i in range(N):
          row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
          for j in range(N):
              total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))]) + h[i][j]
              if h[i][j] > 0:
                  priorities.append((total_spin, 1))
              else:
                  priorities.append((-total_spin, -1))
      return sorted([(x[1], -x[0]) for x in priorities], reverse=True)


#score: {'data2D.txt': 0.18935138888888908}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = [[0,0] for _ in range(N*N)]
        for k in range(2):
            for i in range(N):
                site = (i + ((k-1)%2 - 1)) % N
                for j in range(N):
                    if k == 0:
                        total_spin[i*N+j][0] += state[site][j]
                    else:
                        total_spin[i*N+j][1] += state[i][site]
        return total_spin


#score: {'data2D.txt': 0.0622510802469136}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[priority[0], priority[1]] for priority in priorities]


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((-total_spin, -1))
        return priorities


#score: {'data2D.txt': 0.06863750000000002}
program:
def priority(N, h, J):
        N2 = N*N
        priority = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[site][0]
                else:
                    priority[i*N+j][1] = -total_spin[site][0]
        return priority


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = np.zeros((N,2), dtype=int)
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    
    for i in range(N):
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            total_spin_site = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin_site += state[site][j]
            priority[i*N+j] = [total_spin_site, -total_spin_site]

    return priority


#score: {'data2D.txt': 0.00370354938271605}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = np.zeros((N*N,2), dtype=int)
    for i in range(N):
        for j in range(N):
            site = (i + ((j%N+1) - 1)) % N
            total_spin = 0
            for k in range(3):
                total_spin += state[site][k]
            if h[i][j] > 0:
                priorities[(i*N+j),0] = total_spin
            else:
                priorities[(i*N+j),1] = -total_spin
    return priorities


#score: {'data2D.txt': 0.1826430555555558}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += state[i][site]*h[i][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return priorities


#score: {'data2D.txt': 0.14675354938271623}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = [[0,0] for _ in range(N**2)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j] = [total_spin, 1]
                else:
                    priorities[i*N+j] = [-total_spin, -1]
        return priorities


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priorities[i*N+j, 0] = total_spin
                    priorities[i*N+j, 1] = -total_spin
                else:
                    priorities[i*N+j, 0] = -total_spin
                    priorities[i*N+j, 1] = total_spin
        return priorities.tolist()


#score: {'data2D.txt': -0.19614120370370397}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N**2):
            total_spin = 0
            for k in range(3):
                site = (i // N + ((k-1)%2 - 1)) % N
                total_spin += state[site][i % N]
            if h[i // N][i % N] > 0:
                priorities.append([total_spin, -1])
            else:
                priorities.append([-total_spin, 1])
        return priorities


#score: {'data2D.txt': -0.3388609567901225}
program:
def priority(N, h, J):
    prior = np.zeros((N*N, 2), dtype=int)
    for i in range(N):
        for j in range(N):
            if h[i][j] > 0:
                total_spin = sum([J[k][(i + ((k-1)%2 - 1)) % N][(j + (k%2) - 1)]%N][0] for k in range(4))
                prior[i*N+j, 0] = total_spin
            else:
                total_spin = -sum([J[k][(i + ((k-1)%2 - 1)) % N][(j + (k%2) - 1)]%N][0] for k in range(4))
                prior[i*N+j, 1] = -total_spin
    return prior.tolist()


#score: {'data2D.txt': -0.0004026234567901235}
program:
def priority(N, h, J):
        N2 = N*N
        priorities = [[0 for _ in range(2)] for _ in range(N2)]
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += spin
                priority_total = np.zeros((N,2), dtype=int)
                for j in range(N):
                    if h[i][j] > 0:
                        priority_total[j][0] = total_spin[j][0]
                    else:
                        priority_total[j][1] = -1*total_spin[j][0]
                for j in range(N):
                    if h[i][j] > 0:
                        priorities[i*N+j][0] = total_spin[0][0]
                    else:
                        priorities[i*N+j][1] = -1*total_spin[0][0]
        return priorities


#score: {'data2D.txt': 0.10849120370370381}
program:
def priority(N, h, J):
        N2 = N*N
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority = [[0, 0] for _ in range(N2)]
        for i in range(N):
            for j in range(N):
                total_spin = sum([state[(i + ((k-1)%2 - 1)) % N][j-k%N] if k%2 else state[i][(j+k)%N] for k in range(4)])
                priority[i*N+j] = [total_spin, -total_spin]
        return priority


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    N2 = N*N
    priority = [[0 for _ in range(2)] for _ in range(N2)]
    total_spin = [np.zeros((N), dtype=int) for _ in range(N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[i][0] += h[site][j]
            if h[i][j] > 0:
                priority[i*N+j][0] = total_spin[i][0]
            else:
                priority[i*N+j][1] = -total_spin[i][0]
    return priority


#score: {'data2D.txt': -0.15451064814814838}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    for i in range(N):
        row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
        for j in range(N):
            total_spin = sum([row_sum[k] * state[i][(j+k)%N] for k in range(min(j,N-1))])
            if h[i][j] > 0:
                priorities.append((total_spin, 1))
            else:
                priorities.append((-total_spin, -1))
    return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = [0,0]
        priority = [[float('inf'), float('-inf')] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[0] += state[i][j]
                total_spin[1] -= state[i][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin[0]
                else:
                    priority[i*N+j][1] = -total_spin[1]
        return priority


#score: {'data2D.txt': -0.1709594135802464}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N*N)]
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%2 - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[i*N+j][0] = total_spin
                else:
                    priority[i*N+j][1] = -total_spin
        return priority


#score: {'data2D.txt': -0.0011578703703703707}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]  
        priorities = []  
        for i in range(N): 
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]  
            for j in range(N):  
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])  
                if h[i][j] > 0: 
                    priorities.append((total_spin, 1))  
                else: 
                    priorities.append((-total_spin, -1))  
        return [[p[1], -p[0]] for p in sorted(priorities)]


#score: {'data2D.txt': -0.00228966049382716}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i][0]
                else:
                    priority_total[i*N+j][1] = -total_spin[i][0]
        return priority_total


#score: {'data2D.txt': -0.005166512345679013}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = [[0,0] for _ in range(N*N)]
        for i in range(N):
            total_spin = [0,0]
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[0]
                else:
                    priority_total[i*N+j][1] = -total_spin[0]
        return priority_total


#score: {'data2D.txt': -0.0012087962962962968}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_spin = -1 if h[i][j] > 0 else 1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += state[i][j]
                priority_total = np.zeros((N,2), dtype=int)
                for k in range(N):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][1] += site_spin * state[site][j]
                if h[i][j] > 0:
                    priorities.append((-total_spin[0][0], 1))
                else:
                    priorities.append((total_spin[0][0], -1))
        return sorted(priorities)[:N*N]


#score: {'data2D.txt': -0.2254094135802472}
program:
def priority(N, h, J):
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site_spin = -1 if h[i][j] > 0 else 1
                total_spin = sum([J[k][(i+((k-1)%2 - 1)) % N][j-k%N] if k%2 == 0 else -J[k][(i+((k-1)%2 - 1)) % N][j-k%N] for k in range(4)])
                total_magnetism = h[i][j]
                if site_spin > 0:
                    priority_total[(i*N+j), 0] = -total_spin-total_magnetism
                    priority_total[(i*N+j), 1] = 1
                else:
                    priority_total[(i*N+j), 0] = total_spin+total_magnetism
                    priority_total[(i*N+j), 1] = -1
        return priority_total


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum1 = (np.prod(J_new[0::2], 0) + h).flatten()
        sum2 = (-np.prod(J_new[1::2], 0)).flatten()
        priority = np.column_stack((sum1, -sum1))
        return priority


#score: {'data2D.txt': -0.000643364197530864}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                site1 = (i + ((j-1)%N - 1)) % N
                site2 = (i + ((j+1)%N - 1)) % N
                site3 = (i + ((j-N-1)%N - 1)) % N if i > 0 else None
                site4 = (i + ((j+N+1)%N - 1)) % N if i < N-1 else None
                total_spin = h[site1][j] * state[i][j-1] if j > 0 else 0
                total_spin += h[site2][j] * state[i][j+1] if j < N-1 else 0
                total_spin += h[site3][j] * state[i-1][j] if site3 is not None else 0
                total_spin += h[site4][j] * state[i+1][j] if site4 is not None else 0
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[p[1], p[0]] for p in sorted(priorities)]


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
    N2 = N*N
    priority_total = [[0,0] for _ in range(N2)]
    for i in range(N):
        total_spin = [0]*N
        for j in range(N):
            if h[i][j] > 0:
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site] += h[i][j]
            else:
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site] -= h[i][j]
        for j in range(N):
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[j]
            else:
                priority_total[i*N+j][1] = -total_spin[j]
    return priority_total


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum_1 = (np.prod(J_new[0::2], 0) + h).flatten()
        sum_2 = (-np.prod(J_new[1::2], 0) - h).flatten()
        priority = np.column_stack((sum_1, -sum_2))
        return(priority)


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[i*N+j][0] += state[i][j]
                
        priority_total = np.zeros((N*N,2), dtype=int)
        
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[i*N+j][0] = total_spin[i*N+j][0]
                else:
                    priority_total[i*N+j][1] = -total_spin[i*N+j][0]
                    
        return priority_total


#score: {'data2D.txt': 0.00017824074074074075}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = [0,0]
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[0] += h[site][j]
                if h[i][j] > 0:
                    priorities.append((total_spin[0], 1))
                else:
                    priorities.append((-total_spin[0], -1))
        return sorted(priorities)


#score: {'data2D.txt': -0.0004128086419753079}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    total_spin = [0]*N
    for i in range(N):
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site] += spin
            if h[i][j] > 0:
                priority_total[j*N+i, 0] = total_spin[0]
            else:
                priority_total[j*N+i, 1] = -total_spin[0]
    for j in range(N):
        if h[0][j] > 0:
            priority_total[j*N+N-1-j, 0] = -total_spin[N-1-j]
        else:
            priority_total[j*N+N-1-j, 1] = total_spin[N-1-j]
    return priority_total.tolist()


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total.append([total_spin, 0])
                else:
                    priority_total.append([-total_spin, 1])
        return priority_total


#score: {'data2D.txt': -0.030239351851851854}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] if (i+k)%2 == (j-k)%2 else -row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priority_total.append([total_spin, -1])
                else:
                    priority_total.append([-total_spin, 1])
        return priority_total


#score: {'data2D.txt': -0.3113186728395057}
program:
def priority(N, h, J):
    N2 = N*N
    priority_total = [[0 for _ in range(2)] for _ in range(N2)]
    
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin
            else:
                priority_total[i*N+j][1] = -total_spin
    
    for j in range(N):
        total_spin = 0
        for i in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin += h[site][j]
            if h[i][j] > 0:
                priority_total[j][0] = total_spin
            else:
                priority_total[j][1] = -total_spin
    
    return priority_total


#score: {'data2D.txt': -0.05122145061728399}
program:
def priority(N, h, J):
    N2 = N*N
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = [[0,0] for _ in range(N2)]

    for i in range(N):
        total_spin = [0,0]
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[0] += h[site][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[0]
            else:
                priority_total[i*N+j][1] = -total_spin[0]

    return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
        priority = []
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority.append((total_spin, 1))
                else:
                    priority.append((-total_spin, -1))
        return priority


#score: {'data2D.txt': 0.0336807098765432}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
        priority_total = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priority_total[i*N+j, 0] = total_spin
                else:
                    priority_total[i*N+j, 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': -0.1488837962962965}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = [[0, 0] for _ in range(N*N)]
      for i in range(N):
          row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
          for j in range(N):
              total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
              if h[i][j] > 0:
                  priorities[i*N+j] = [total_spin, 1]
              else:
                  priorities[i*N+j] = [-total_spin, -1]
      return priorities


#score: {'data2D.txt': 0.3312251543209867}
program:
def priority(N, h, J):
    N2 = N*N
    total_spin = [[0 for _ in range(2)] for _ in range(N)]
    priorities = []
    for i in range(N):
      row_sum = [0 if h[i][j] > 0 else -1 for j in range(N)]
      for j in range(N):
        site = (i + ((j)%N - 1)) % N
        total_spin[site][0] += 1 if h[i][j] > 0 else -1
        for k in range(3):
          site2 = (i + ((k-1)%2 - 1)) % N
          total_spin[site2][0] += 1 if h[i][j] > 0 else -1
        if h[i][j] > 0:
          priorities.append((sum(total_spin[site][0] for site in range(N)), 1))
        else:
          priorities.append((-sum(total_spin[site][0] for site in range(N)), -1))
    return priorities


#score: {'data2D.txt': -0.004464351851851853}
program:
def priority(N, h, J):
        N2 = N*N
        total_spin = [[0 for _ in range(2)] for _ in range(N)]
        priorities = [[0 for _ in range(2)] for _ in range(N2)]
        
        for i in range(N):
            for j in range(N):
                site = (i + ((j)%N - 1)) % N
                total_spin[site][0] += 1 if h[i][j] > 0 else -1
                for k in range(3):
                    site2 = (i + ((k-1)%2 - 1)) % N
                    total_spin[site2][0] += 1 if h[i][j] > 0 else -1
                
                if h[i][j] > 0:
                    priorities[i*N+j][0] = sum(total_spin[site][0] for site in range(N))
                else:
                    priorities[i*N+j][1] = -sum(total_spin[site][0] for site in range(N))
        
        return priorities


#score: {'data2D.txt': -0.000980709876543209}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            for j in range(N):
                site1 = (i + ((j-1)%N - 1)) % N
                site2 = (i + ((j+1)%N - 1)) % N
                site3 = (i + ((j-N-1)%N - 1)) % N if i > 0 else None
                site4 = (i + ((j+N+1)%N - 1)) % N if i < N-1 else None
                total_spin = h[site1][j] * state[i][j-1] if j > 0 else 0
                total_spin += h[site2][j] * state[i][j+1] if j < N-1 else 0
                total_spin += h[site3][j] * state[i-1][j] if site3 is not None else 0
                total_spin += h[site4][j] * state[i+1][j] if site4 is not None else 0
                priority = [total_spin, -total_spin]
                priorities.append(priority)
        return [[p[1], p[0]] for p in sorted(priorities)]


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    total_spin = [0] * (N * N)
    for i in range(N):
        for j in range(N):
            spin = -1 if h[i][j] > 0 else 1
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin[site * N + j] += spin
    priority_total = [[0, 0] for _ in range(N * N)]
    for i in range(N * N):
        if h[i // N][i % N] > 0:
            priority_total[i][0] = total_spin[i]
        else:
            priority_total[i][1] = -total_spin[i]
    return priority_total


#score: {'data2D.txt': -0.0012513888888888891}
program:
def priority(N, h, J):
    total_spin = [[0, 0] for _ in range(N)]
    priority_total = [[float('-inf'), float('inf')] for _ in range(N*N)]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[site][0] += h[i][j]
            if h[i][j] > 0:
                priority_total[i*N+j][0] = total_spin[site][0]
            else:
                priority_total[i*N+j][1] = -total_spin[site][0]
    return priority_total


#score: {'data2D.txt': -0.0019427469135802468}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum_0 = (np.prod(J_new[::4], 0) + h).flatten()
        sum_1 = (np.prod(J_new[1::4], 0) + h).flatten()
        sum_2 = (np.prod(J_new[2::4], 0) + h).flatten()
        sum_3 = (np.prod(J_new[3::4], 0) + h).flatten()
        priority = np.column_stack((sum_0, -sum_1))
        for i in range(N**2):
            if h[i//N][i%N] > 0:
                priority[i] = [sum_0[i] - sum_3[i], sum_0[i] + sum_3[i]]
            else:
                priority[i] = [-sum_0[i] + sum_1[i], -sum_0[i] - sum_1[i]]
        return(priority.tolist())


#score: {'data2D.txt': 0.2580785493827158}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priority_total = np.zeros((N**2, 2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin += state[site][j]
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin
                else:
                    priority_total[(i*N+j), 1] = -total_spin
        return priority_total.tolist()


#score: {'data2D.txt': -0.0017594135802469135}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = np.zeros((N*N,2), dtype=int)
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%N - 1)) % N
                total_spin[site][0] += state[i][j]
            for k in range(2):
                site = (i + ((k-1)%2 - 1)) % N
                priorities[(i*N+j),1-k] = total_spin[site][0]
        return priorities


#score: {'data2D.txt': 0.0029739197530864203}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        total_spin = np.zeros((N,2), dtype=int)
        for j in range(N):
            for i in range(N):
                site_spin = state[i][j]
                total_spin_sum = sum([state[(i + ((k-1)%2 - 1)) % N][max(0,j-k)%N] * site_spin for k in range(4)])
                if h[i][j] > 0:
                    priorities.append((total_spin_sum, 1))
                else:
                    priorities.append((total_spin_sum, -1))
        return priorities


#score: {'data2D.txt': 0.035122993827160484}
program:
def priority(N, h, J):
      state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
      priorities = np.zeros((N*N,2), dtype=int)
      for i in range(N):
          for j in range(N):
              site_spin = state[i][j]
              total_spin_sum = sum([state[(i + ((k-1)%2 - 1)) % N][max(0,j-k)%N] * site_spin for k in range(4)])
              if h[i][j] > 0:
                  priorities[i*N+j,0] = total_spin_sum
              else:
                  priorities[i*N+j,1] = -total_spin_sum
      return priorities


#score: {'data2D.txt': -0.001367438271604938}
program:
def priority(N, h, J):
        priority = np.zeros((N*N,2), dtype=int)
        for i in range(N):
            for j in range(N):
                total_spin = 0
                site = (i + ((j-1)%N - 1)) % N
                total_spin += h[site][j]
                if h[i][j] > 0:
                    priority[(i*N+j), 0] = total_spin
                else:
                    priority[(i*N+j), 1] = -total_spin
        return priority


#score: {'data2D.txt': 0.11143348765432111}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N**2):
            site = (i//N, i%N)
            total_spin = [0, 0]
            for k in range(4):
                if k == 3:
                    break
                neighbor = ((site[0] + ((k-1)%2 - 1)) % N, (site[1] + ((k-1)%2 - 1)) % N)
                total_spin[int(J[k][neighbor[0]][neighbor[1]]) > 0] += state[neighbor[0]][neighbor[1]]
            priorities.append((total_spin[0], total_spin[1]))
        return priorities


#score: {'data2D.txt': -0.0014035493827160494}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N**2):
            site = (i//N, i%N)
            total_spin = [0, 0]
            for k in range(4):
                neighbor = ((site[0] + ((k-1)%2 - 1)) % N, (site[1] + ((k-1)%2 - 1)) % N)
                if neighbor == site:
                    continue
                total_spin[int(J[k][neighbor[0]][neighbor[1]]) > 0] += state[neighbor[0]][neighbor[1]]
            priorities.append((total_spin[0], total_spin[1]))
        return priorities


#score: {'data2D.txt': -0.0011180555555555555}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [[x[1],-x[0]] for x in sorted(priorities,reverse=True)]


#score: {'data2D.txt': 0.005221450617283952}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = [0,0]
    for i in range(N):
        for j in range(N):
            site = (i + ((j-1)%2 - 1)) % N
            total_spin[0] += state[i][j]
            total_spin[1] -= state[i][j]
            if h[i][j] > 0:
                priorities.append((-total_spin[1], 1))
            else:
                priorities.append((total_spin[0], -1))
    return priorities


#score: {'data2D.txt': -0.0011405864197530863}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            total_spin = np.zeros((N,2), dtype=int)
            for j in range(N):
                site_spin = state[i][j]
                spin = -1 if h[i][j] > 0 else 1
                priority_total = np.zeros((N,2), dtype=int)
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += spin
                if h[i][j] > 0:
                    priorities.append((-total_spin[i][0], 1))
                else:
                    priorities.append((total_spin[i][0], -1))
        return [[x, 1-x] for x,_ in sorted(priorities)]


#score: {'data2D.txt': -0.07624552469135808}
program:
def priority(N, h, J):
        priority = [[0,0] for _ in range(N*N)]
        total_spin = np.zeros((N,N), dtype=int)
        for i in range(N):
            for j in range(N):
                if h[i][j] > 0:
                    spin = 1
                else:
                    spin = -1
                for k in range(3):
                    site = (i + ((k-1)%2 - 1)) % N
                    total_spin[site][0] += spin
                priority[i*N+j] = [total_spin[i][0], -total_spin[i][0]]
        return priority


#score: {'data2D.txt': -0.3420791666666656}
program:
def priority(N, h, J):
        J_new = J.flatten()
        sum_1 = (np.prod(J_new[0::2], 0) + h).flatten()
        sum_2 = (-1)**((np.arange(len(sum_1))//N)%2)*(np.prod(J_new[1::2], 0)).flatten()
        priority = np.column_stack((sum_1,sum_2))
        return priority


#score: {'data2D.txt': 0.23693719135802463}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priorities = []
    total_spin = np.zeros((N,2), dtype=int)
    for i in range(N):
        for k in range(3):
            site = (i + ((k-1)%2 - 1)) % N
            total_spin[site][0] += state[i][(k-1)//2*N+(k-1)%2]
        priority_total = np.zeros((N,2), dtype=int)
        for j in range(N):
            if h[i][j] > 0:
                priority_total[j][0] = total_spin[j][0]
            else:
                priority_total[j][1] = -1*total_spin[j][0]
        for j in range(N):
            priorities.append((priority_total[j][0], 1) if h[i][j]>0 else (-priority_total[j][0],-1))
    return priorities


#score: {'data2D.txt': 0.013364043209876542}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        total_spin = np.zeros((N,2), dtype=int)
        priority_total = np.zeros((N*N,2), dtype=int)

        for i in range(N):
            for j in range(N):
                site = (i + ((j-1)%2 - 1)) % N
                total_spin[site][0] += state[i][j]
            for j in range(N):
                if h[i][j] > 0:
                    priority_total[(i*N+j), 0] = total_spin[site][0]
                else:
                    priority_total[(i*N+j), 1] = -total_spin[site][0]

        return priority_total


#score: {'data2D.txt': 0.34290787037036935}
program:
def priority(N, h, J):
    state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
    priority_total = np.zeros((N*N,2), dtype=int)
    
    for i in range(N):
        for j in range(N):
            total_spin = 0
            for k in range(3):
                site = (i + ((k-1)%2 - 1)) % N
                total_spin += state[site][j]
            if h[i][j] > 0:
                priority_total[(i*N+j), 0] = total_spin
            else:
                priority_total[(i*N+j), 1] = -total_spin
    
    return priority_total


#score: {'data2D.txt': -0.0006507716049382719}
program:
def priority(N, h, J):
        state = [[-1 if h[i][j] > 0 else 1 for j in range(N)] for i in range(N)]
        priorities = []
        for i in range(N):
            row_sum = [sum(state[i][:k]+state[i][k+1:]) for k in range(N)]
            for j in range(N):
                total_spin = sum([row_sum[k] * state[i][j-k%N] for k in range(min(j,N-1))])
                if h[i][j] > 0:
                    priorities.append((total_spin, 1))
                else:
                    priorities.append((total_spin, -1))
        return [(i[0], i[1]) for i in sorted(priorities)]


